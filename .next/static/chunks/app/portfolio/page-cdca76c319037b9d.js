(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5281],{29025:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var a=s(95155);s(12115);var l=s(92236),i=s(38224),r=s(31554),n=s(19637),o=s(19968),c=s(30285);function d(){let e={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.8,ease:[.25,.46,.45,.94]}}};return(0,a.jsxs)("section",{className:"py-20 px-4 bg-gradient-to-br from-primary/5 via-background to-accent/5 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-5",children:(0,a.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,a.jsx)("div",{className:"container mx-auto relative z-10",children:(0,a.jsxs)(l.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"max-w-4xl mx-auto text-center",children:[(0,a.jsx)(l.P.div,{variants:e,children:(0,a.jsxs)("h2",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:["\xbfTienes un"," ",(0,a.jsx)("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"proyecto en mente?"})]})}),(0,a.jsx)(l.P.p,{variants:e,className:"text-lg md:text-xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed",children:"Conversemos sobre c\xf3mo podemos ayudarte a transformar tu visi\xf3n en realidad. Con m\xe1s de 15 a\xf1os de experiencia, estamos listos para hacer tu pr\xf3ximo proyecto extraordinario."}),(0,a.jsxs)(l.P.div,{variants:e,className:"grid md:grid-cols-3 gap-6 mb-12",children:[(0,a.jsxs)(l.P.div,{whileHover:{scale:1.05,y:-5},className:"bg-background/80 backdrop-blur-sm rounded-xl p-6 border border-border/50 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(i.A,{className:"w-6 h-6 text-green-500"})}),(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"WhatsApp"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Conversaci\xf3n inmediata sobre tu proyecto"}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"w-full hover:bg-green-50 hover:border-green-200",asChild:!0,children:(0,a.jsx)("a",{href:"https://wa.me/51999999999",target:"_blank",rel:"noopener noreferrer",children:"Chatear ahora"})})]}),(0,a.jsxs)(l.P.div,{whileHover:{scale:1.05,y:-5},className:"bg-background/80 backdrop-blur-sm rounded-xl p-6 border border-border/50 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(r.A,{className:"w-6 h-6 text-blue-500"})}),(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Llamada Directa"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Agenda una consulta telef\xf3nica gratuita"}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"w-full hover:bg-blue-50 hover:border-blue-200",asChild:!0,children:(0,a.jsx)("a",{href:"tel:+51999999999",children:"Llamar ahora"})})]}),(0,a.jsxs)(l.P.div,{whileHover:{scale:1.05,y:-5},className:"bg-background/80 backdrop-blur-sm rounded-xl p-6 border border-border/50 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(n.A,{className:"w-6 h-6 text-accent"})}),(0,a.jsx)("h3",{className:"font-semibold text-foreground mb-2",children:"Email"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Env\xedanos los detalles de tu proyecto"}),(0,a.jsx)(c.$,{variant:"outline",size:"sm",className:"w-full hover:bg-orange-50 hover:border-orange-200",asChild:!0,children:(0,a.jsx)("a",{href:"mailto:info@metrica-dip.com",children:"Escribir email"})})]})]}),(0,a.jsx)(l.P.div,{variants:e,children:(0,a.jsx)(c.$,{size:"lg",className:"group bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white px-10 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-lg font-medium",asChild:!0,children:(0,a.jsxs)("a",{href:"/contact",children:[(0,a.jsx)("span",{className:"mr-3",children:"Iniciar mi Proyecto"}),(0,a.jsx)(o.A,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300"})]})})}),(0,a.jsx)(l.P.div,{variants:e,className:"mt-12 pt-8 border-t border-border/30",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:"15+"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"A\xf1os de Experiencia"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:"200+"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Proyectos Exitosos"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary mb-1",children:"100%"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Clientes Satisfechos"})]})]})})]})})]})}},31630:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eP});var a=s(95155),l=s(12115),i=s(57581),r=s(47417),n=s(92236),o=s(83173),c=s(51920),d=s(91467),m=s(83662),x=s(91529),h=s(50802),u=s(49088);function p(){let{pageData:e,allProjects:t,isLoading:s,error:i}=(0,x.g9)(),[r,p]=(0,l.useState)({projects:0,years:0,categories:0,cities:0}),g=(0,l.useRef)(null),b=(0,l.useRef)(null),f=(0,l.useRef)(null),j=(0,l.useRef)(null),v=(0,l.useRef)(null),N=(0,l.useRef)(null),w={projects:(null==e?void 0:e.hero.stats.projects.value)||t.length,years:(null==e?void 0:e.hero.stats.experience.value)||15,categories:(null==e?void 0:e.hero.stats.categories.value)||7,cities:(null==e?void 0:e.hero.stats.cities.value)||new Set(t.map(e=>e.location.city)).size};return((0,l.useEffect)(()=>{let e=0,t=setInterval(()=>{let s=++e/40;if(s>=1)p(w),clearInterval(t);else{let e=1-Math.pow(1-s,3);p({projects:Math.floor(w.projects*e),years:Math.floor(w.years*e),categories:Math.floor(w.categories*e),cities:Math.floor(w.cities*e)})}},50);return()=>clearInterval(t)},[t.length,e]),(0,l.useEffect)(()=>{if(!g.current||!b.current||!j.current)return;let e=g.current,t=b.current,s=f.current,a=j.current,l=v.current,i=N.current;return h.os.to(t,{yPercent:-50,ease:"none",scrollTrigger:{trigger:e,start:"top top",end:"bottom top",scrub:1}}),s&&h.os.to(s,{opacity:1,ease:"none",scrollTrigger:{trigger:e,start:"top top",end:"bottom top",scrub:1}}),h.os.to(a,{yPercent:-25,ease:"none",scrollTrigger:{trigger:e,start:"top top",end:"bottom top",scrub:1}}),l&&h.os.fromTo(l.querySelectorAll("h1 > *"),{opacity:0,y:100,rotationX:90},{opacity:1,y:0,rotationX:0,duration:1.2,stagger:.2,ease:"power3.out",delay:.5}),i&&h.os.fromTo(i.children,{opacity:0,y:50,scale:.8},{opacity:1,y:0,scale:1,duration:.8,stagger:.1,ease:"back.out(1.7)",delay:1.2}),()=>{u.u.getAll().forEach(e=>e.kill())}},[]),s)?(0,a.jsx)("section",{className:"relative h-[60vh] md:h-[70vh] overflow-hidden flex items-center justify-center bg-gradient-to-r from-gray-900 to-gray-800",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,a.jsx)("p",{children:"Cargando portfolio..."})]})}):i?(0,a.jsx)("section",{className:"relative h-[60vh] md:h-[70vh] overflow-hidden flex items-center justify-center bg-gradient-to-r from-red-900 to-red-800",children:(0,a.jsx)("div",{className:"text-white text-center",children:(0,a.jsxs)("p",{children:["Error al cargar el portfolio: ",i]})})}):(0,a.jsxs)("section",{ref:g,className:"relative h-[60vh] md:h-[70vh] overflow-hidden",children:[(0,a.jsxs)("div",{className:"absolute inset-0",children:[(0,a.jsx)("div",{ref:b,className:"absolute inset-0 bg-cover bg-center bg-no-repeat scale-110 will-change-transform",style:{backgroundImage:'url("'.concat((null==e?void 0:e.hero.background_image)||(null==e?void 0:e.hero.background_image_fallback)||"https://metrica-dip.com/images/slider-inicio-es/01.jpg",'")')}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"}),(0,a.jsx)("div",{ref:f,className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0"})]}),(0,a.jsx)("div",{ref:j,className:"relative z-10 h-full flex items-center will-change-transform",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-4xl",children:[(0,a.jsx)("div",{ref:v,className:"mb-6",children:(0,a.jsxs)("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white leading-tight",children:[(0,a.jsxs)("span",{className:"relative inline-block",children:[(null==e?void 0:e.hero.title.split(" ")[0])||"Nuestro",(0,a.jsx)("span",{className:"absolute inset-0 text-accent opacity-20 transform translate-x-1 translate-y-1",children:(null==e?void 0:e.hero.title.split(" ")[0])||"Nuestro"}),(0,a.jsx)("span",{className:"absolute inset-0 text-blue-400 opacity-20 transform -translate-x-1 -translate-y-1",children:(null==e?void 0:e.hero.title.split(" ")[0])||"Nuestro"})]})," ",(0,a.jsx)(n.P.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"text-accent",children:(null==e?void 0:e.hero.title.split(" ").slice(1).join(" "))||"Portafolio"})]})}),(0,a.jsx)(n.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-lg md:text-xl text-white/90 mb-8 max-w-2xl leading-relaxed",children:(null==e?void 0:e.hero.subtitle)||"Explora la diversidad y el impacto de nuestros proyectos de infraestructura que transforman espacios y potencian el crecimiento en todo el Per\xfa."}),(0,a.jsxs)("div",{ref:N,className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,a.jsx)(o.A,{className:"w-5 h-5 text-accent"})}),(0,a.jsxs)("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:[r.projects,"+"]}),(0,a.jsx)("div",{className:"text-sm md:text-base text-white/80",children:(null==e?void 0:e.hero.stats.projects.label)||"Proyectos Completados"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-accent"})}),(0,a.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:r.years}),(0,a.jsx)("div",{className:"text-sm md:text-base text-white/80",children:(null==e?void 0:e.hero.stats.experience.label)||"A\xf1os de Experiencia"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,a.jsx)(d.A,{className:"w-5 h-5 text-accent"})}),(0,a.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:r.categories}),(0,a.jsx)("div",{className:"text-sm md:text-base text-white/80",children:(null==e?void 0:e.hero.stats.categories.label)||"Categor\xedas de Proyecto"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,a.jsx)(m.A,{className:"w-5 h-5 text-accent"})}),(0,a.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-white mb-1",children:r.cities}),(0,a.jsx)("div",{className:"text-sm md:text-base text-white/80",children:(null==e?void 0:e.hero.stats.cities.label)||"Ciudades de Impacto"})]})]})]})})}),(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:(0,a.jsx)("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:(0,a.jsx)(n.P.div,{animate:{y:[0,12,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-1 h-3 bg-white/60 rounded-full mt-2"})})})]})}h.os.registerPlugin(u.u);var g=s(30462),b=s(19968),f=s(57016),j=s(30285);function v(){let e=(0,x.wV)(),t={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}};return 0===e.length?null:(0,a.jsx)("section",{className:"py-20 px-4 bg-gradient-to-b from-background to-muted/30",children:(0,a.jsxs)("div",{className:"container mx-auto",children:[(0,a.jsxs)(n.P.div,{variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"text-center mb-16",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 bg-accent/10 text-accent px-4 py-2 rounded-full text-sm font-medium mb-4",children:[(0,a.jsx)(g.A,{className:"w-4 h-4"}),"Proyectos Destacados"]}),(0,a.jsxs)("h2",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:[(0,a.jsx)("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Excelencia"})," ","en Cada Proyecto"]}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Descubre nuestros proyectos m\xe1s emblem\xe1ticos que definen est\xe1ndares de calidad, innovaci\xf3n y sostenibilidad en la industria de la construcci\xf3n."})]}),(0,a.jsx)(n.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.3}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:e.slice(0,6).map((e,s)=>(0,a.jsxs)(n.P.div,{variants:t,className:"relative group",children:[(0,a.jsxs)("div",{className:"absolute top-4 right-4 z-20 bg-accent text-white px-3 py-1 rounded-full text-xs font-medium shadow-lg",children:[(0,a.jsx)(g.A,{className:"w-3 h-3 inline mr-1"}),"Destacado"]}),(0,a.jsx)(f.A,{title:e.title,location:"".concat(e.location.city,", ").concat(e.location.region),type:e.category,image:e.featuredImage,slug:e.slug,area:e.details.area,year:e.completedAt.getFullYear(),priority:s<3,className:"h-full transform transition-all duration-500 group-hover:scale-[1.02]"})]},e.id))}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"text-center",children:(0,a.jsxs)(j.$,{size:"lg",className:"group bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{let e=document.querySelector("[data-filters]");null==e||e.scrollIntoView({behavior:"smooth"})},children:[(0,a.jsx)("span",{className:"mr-2",children:"Ver Todos los Proyectos"}),(0,a.jsx)(b.A,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]})})]})})}var N=s(51865),w=s(75074),y=s(9572),k=s(77381),C=s(79556),A=s(62523),P=s(44838),E=s(59434),I=s(60760),S=s(80659),F=s(74601),z=s(88390),T=s(25318),M=s(89509);let L=[{id:"featured",label:"Destacados",icon:(0,a.jsx)(d.A,{className:"w-4 h-4"}),description:"Proyectos premiados y reconocidos",filter:e=>e.filter(e=>e.featured),color:"from-yellow-500 to-orange-500"},{id:"recent",label:"M\xe1s Recientes",icon:(0,a.jsx)(c.A,{className:"w-4 h-4"}),description:"Proyectos de los \xfaltimos 2 a\xf1os",filter:e=>{let t=new Date;return t.setFullYear(t.getFullYear()-2),e.filter(e=>e.completedAt>=t).sort((e,t)=>t.completedAt.getTime()-e.completedAt.getTime())},color:"from-blue-500 to-cyan-500"},{id:"large",label:"Gran Escala",icon:(0,a.jsx)(S.A,{className:"w-4 h-4"}),description:"Proyectos de m\xe1s de 10,000 m\xb2",filter:e=>e.filter(e=>parseInt(e.details.area.replace(/[^0-9]/g,""))>=1e4),color:"from-purple-500 to-pink-500"},{id:"sustainable",label:"Sostenibles",icon:(0,a.jsx)(F.A,{className:"w-4 h-4"}),description:"Proyectos con certificaci\xf3n LEED o sostenibles",filter:e=>e.filter(e=>{var t;return e.tags.includes("sostenible")||(null==(t=e.details.certifications)?void 0:t.some(e=>e.includes("LEED")))}),color:"from-green-500 to-emerald-500"},{id:"capital",label:"Lima Metropolitana",icon:(0,a.jsx)(m.A,{className:"w-4 h-4"}),description:"Proyectos en Lima y Callao",filter:e=>e.filter(e=>"Lima"===e.location.city||"Callao"===e.location.city),color:"from-red-500 to-rose-500"},{id:"premium",label:"Premium",icon:(0,a.jsx)(z.A,{className:"w-4 h-4"}),description:"Inversiones superiores a $10M USD",filter:e=>e.filter(e=>!!e.details.investment&&parseInt(e.details.investment.replace(/[^0-9]/g,""))>=10),color:"from-amber-500 to-yellow-500"}];function R(){let{showOnlyButtons:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{allProjects:t,filteredProjects:s,filters:i,setFilters:r,searchProjects:o}=(0,x.g9)(),[c,d]=(0,l.useState)([]),[m,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)(""),[g,b]=(0,l.useState)([]),[f,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(u.length<2)return void b([]);let e=u.toLowerCase(),s=[];Object.values(M.U2).forEach(a=>{if(a.toLowerCase().includes(e)){let e=t.filter(e=>e.category===a).length;s.push({type:"category",value:a,label:"Categor\xeda: ".concat(a),count:e})}}),new Set(t.map(e=>e.location.city)).forEach(a=>{if(a.toLowerCase().includes(e)){let e=t.filter(e=>e.location.city===a).length;s.push({type:"location",value:a,label:"Ciudad: ".concat(a),count:e})}}),new Set(t.flatMap(e=>e.tags)).forEach(a=>{if(a.toLowerCase().includes(e)){let e=t.filter(e=>e.tags.includes(a)).length;s.push({type:"tag",value:a,label:"Tag: ".concat(a),count:e})}}),t.forEach(t=>{t.title.toLowerCase().includes(e)&&s.push({type:"project",value:t.slug,label:t.title})}),b(s.slice(0,8))},[u,t]),(0,l.useEffect)(()=>{if(0===c.length)return;let e=[...t];c.forEach(t=>{let s=L.find(e=>e.id===t);s&&(e=s.filter(e))}),console.log("Smart filtered projects:",e)},[c,t]);let v=e=>{d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},N=e=>{switch(e.type){case"category":r({...i,category:e.value});break;case"location":r({...i,location:e.value});break;case"tag":o(e.value);break;case"project":window.location.href="/portfolio/".concat(e.value)}p(""),b([])};return e?(0,a.jsx)(a.Fragment,{children:L.map(e=>(0,a.jsxs)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(e.id),className:(0,E.cn)("relative overflow-hidden rounded-full px-4 py-2 transition-all",c.includes(e.id)?"text-white shadow-lg":"bg-muted hover:bg-muted/80"),children:[c.includes(e.id)&&(0,a.jsx)("div",{className:(0,E.cn)("absolute inset-0 bg-gradient-to-r",e.color)}),(0,a.jsxs)("div",{className:"relative flex items-center gap-2",children:[e.icon,(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]})]},e.id))}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:(0,E.cn)("relative rounded-xl border-2 transition-all",m?"border-accent shadow-lg shadow-accent/20":"border-border"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4",children:[(0,a.jsx)(w.A,{className:(0,E.cn)("w-5 h-5 transition-colors",m?"text-accent":"text-muted-foreground")}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),onFocus:()=>h(!0),onBlur:()=>setTimeout(()=>h(!1),200),placeholder:"Buscar proyectos, categor\xedas, ubicaciones...",className:"flex-1 bg-transparent outline-none placeholder:text-muted-foreground"}),(0,a.jsx)("button",{onClick:()=>j(!f),className:(0,E.cn)("p-2 rounded-lg transition-all",f?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"bg-muted hover:bg-accent hover:text-white"),children:(0,a.jsx)(F.A,{className:"w-4 h-4"})})]}),(0,a.jsx)(I.N,{children:g.length>0&&m&&(0,a.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-background border rounded-lg shadow-xl z-50 overflow-hidden",children:g.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>N(e),className:"w-full px-4 py-3 text-left hover:bg-muted transition-colors flex items-center justify-between group",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label}),e.count&&(0,a.jsxs)("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",e.count,")"]})]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground group-hover:text-accent",children:e.type})]},t))})})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-5 h-5 text-accent"}),"Filtros Inteligentes"]}),c.length>0&&(0,a.jsx)("button",{onClick:()=>d([]),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Limpiar filtros"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:L.map(e=>(0,a.jsxs)(n.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(e.id),className:(0,E.cn)("relative overflow-hidden rounded-full px-4 py-2 transition-all",c.includes(e.id)?"text-white shadow-lg":"bg-muted hover:bg-muted/80"),children:[c.includes(e.id)&&(0,a.jsx)("div",{className:(0,E.cn)("absolute inset-0 bg-gradient-to-r",e.color)}),(0,a.jsxs)("div",{className:"relative flex items-center gap-2",children:[e.icon,(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]})]},e.id))})]}),(0,a.jsx)(I.N,{children:f&&(0,a.jsx)(n.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4 text-purple-500"}),"Recomendaciones IA"]}),(0,a.jsx)("button",{onClick:()=>j(!1),className:"text-muted-foreground hover:text-foreground",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"space-y-2",children:["Proyectos similares a Torre Empresarial San Isidro","Proyectos con certificaci\xf3n LEED en Lima","Centros comerciales completados en 2023","Proyectos de oficinas con m\xe1s de 15,000 m\xb2"].map((e,t)=>(0,a.jsx)("button",{className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/50 dark:hover:bg-black/50 transition-colors text-sm",children:e},t))})]})})}),c.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:(0,a.jsxs)("span",{className:"text-accent",children:[c.length," filtro(s) inteligente(s) activo(s)"]})})]})}function D(e){var t,s;let{className:i,viewOptions:r,activeView:n,onViewChange:o}=e,{filters:d,setFilters:h,projectCount:u,uniqueLocations:p,uniqueYears:g}=(0,x.g9)(),[b,f]=(0,l.useState)(d.searchTerm),[v,N]=(0,l.useState)(!1);(0,l.useCallback)(e=>{h({...d,category:e})},[d,h]);let I=(0,l.useCallback)(e=>{h({...d,location:e})},[d,h]),S=(0,l.useCallback)(e=>{h({...d,year:"all"===e?"all":parseInt(e)})},[d,h]),z=(0,l.useCallback)(e=>{f(e);let t=setTimeout(()=>{h({...d,searchTerm:e})},300);return()=>clearTimeout(t)},[d,h]),T=(0,l.useCallback)(()=>{f(""),h({category:"all",location:"all",year:"all",searchTerm:""})},[h]),M="all"!==d.category||"all"!==d.location||"all"!==d.year||""!==d.searchTerm;return(0,a.jsx)("div",{className:(0,E.cn)("bg-background/95 backdrop-blur-sm",i),children:(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(w.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(A.p,{placeholder:"Buscar proyectos...",value:b,onChange:e=>z(e.target.value),className:"pl-10 w-full"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>N(!v),className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),"Filtros avanzados",v?(0,a.jsx)(k.A,{className:"w-4 h-4"}):(0,a.jsx)(C.A,{className:"w-4 h-4"})]}),M&&(0,a.jsx)(j.$,{variant:"outline",size:"sm",onClick:T,children:"Limpiar"})]})]})}),v&&(0,a.jsxs)("div",{className:"space-y-6 pt-8 mt-6 border-t border-border",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"w-4 h-4 text-primary"}),"Filtros Inteligentes"]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"relative rounded-xl border-2 border-border transition-all",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4",children:[(0,a.jsx)(w.A,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsx)("input",{type:"text",value:b,onChange:e=>z(e.target.value),placeholder:"Buscar proyectos, categor\xedas, ubicaciones...",className:"flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 text-primary"}),"Filtros Adicionales"]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)(R,{showOnlyButtons:!0}),(0,a.jsxs)(P.rI,{children:[(0,a.jsx)(P.ty,{asChild:!0,children:(0,a.jsxs)(j.$,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"all"===d.location?"Ubicaci\xf3n":d.location,(0,a.jsx)(C.A,{className:"w-4 h-4"})]})}),(0,a.jsxs)(P.SQ,{align:"start",className:"w-48",children:[(0,a.jsx)(P._2,{onClick:()=>I("all"),className:(0,E.cn)("cursor-pointer","all"===d.location&&"bg-primary/10"),children:"Todas las ubicaciones"}),p.map(e=>(0,a.jsx)(P._2,{onClick:()=>I(e),className:(0,E.cn)("cursor-pointer",d.location===e&&"bg-primary/10"),children:e},e))]})]}),(0,a.jsxs)(P.rI,{children:[(0,a.jsx)(P.ty,{asChild:!0,children:(0,a.jsxs)(j.$,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"all"===d.year?"A\xf1o":d.year,(0,a.jsx)(C.A,{className:"w-4 h-4"})]})}),(0,a.jsxs)(P.SQ,{align:"start",className:"w-36",children:[(0,a.jsx)(P._2,{onClick:()=>S("all"),className:(0,E.cn)("cursor-pointer","all"===d.year&&"bg-primary/10"),children:"Todos los a\xf1os"}),g.map(e=>(0,a.jsx)(P._2,{onClick:()=>S(e.toString()),className:(0,E.cn)("cursor-pointer",d.year===e&&"bg-primary/10"),children:e},e))]})]}),r&&n&&o&&(0,a.jsxs)(P.rI,{children:[(0,a.jsx)(P.ty,{asChild:!0,children:(0,a.jsxs)(j.$,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[null==(t=r.find(e=>e.id===n))?void 0:t.icon,null==(s=r.find(e=>e.id===n))?void 0:s.label,(0,a.jsx)(C.A,{className:"w-4 h-4"})]})}),(0,a.jsx)(P.SQ,{align:"start",className:"w-40",children:r.map(e=>(0,a.jsxs)(P._2,{onClick:()=>o(e.id),className:(0,E.cn)("flex items-center gap-2 cursor-pointer",n===e.id&&"bg-primary/10"),children:[e.icon,(0,a.jsx)("span",{children:e.label})]},e.id))})]})]})]})]})]})})}var V=s(57679),O=s(87824),U=s(61840),$=s(66766);function B(e){let{className:t}=e,{filteredProjects:i,filters:r,setFilters:c}=(0,x.g9)(),d=(0,l.useRef)(null),h=(0,l.useRef)(null),u=(0,l.useRef)([]),[p,g]=(0,l.useState)(null),[b,f]=(0,l.useState)(!1),[v,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{try{let e=document.createElement("link");e.rel="stylesheet",e.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(e);let t=await s.e(1761).then(s.t.bind(s,85752,23));delete t.Icon.Default.prototype._getIconUrl,t.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}),N(!0)}catch(e){console.error("Error loading Leaflet:",e)}})()},[]),(0,l.useEffect)(()=>{if(v&&d.current&&!h.current)return(async()=>{let e=(await s.e(1761).then(s.t.bind(s,85752,23))).default,t=e.map(d.current,{center:[-12.0464,-77.0428],zoom:6,zoomControl:!0,attributionControl:!0});e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors"}).addTo(t),h.current=t,f(!0)})(),()=>{h.current&&(h.current.remove(),h.current=null)}},[v]),(0,l.useEffect)(()=>{b&&h.current&&v&&(async()=>{let e=(await s.e(1761).then(s.t.bind(s,85752,23))).default;u.current.forEach(e=>e.remove()),u.current=[];let t=new Map;i.forEach(e=>{let s="".concat(e.location.coordinates[0],",").concat(e.location.coordinates[1]);t.has(s)||t.set(s,[]),t.get(s).push(e)}),t.forEach((t,s)=>{let a=t[0],[l,i]=a.location.coordinates,r={oficina:"#3B82F6",retail:"#F97316",industria:"#6B7280",hoteleria:"#8B5CF6",educacion:"#10B981",vivienda:"#F59E0B",salud:"#EF4444"}[a.category]||"#6B7280",n=t.length>1?'<div class="marker-main" style="background-color: '.concat(r,'"><div class="marker-inner"></div><span class="marker-count">').concat(t.length,"</span></div>"):'<div class="marker-main" style="background-color: '.concat(r,'"><div class="marker-inner"></div></div>'),o=e.divIcon({className:"portfolio-marker",html:n,iconSize:[30,30],iconAnchor:[15,15]}),c=e.marker([l,i],{icon:o}).addTo(h.current);c.on("click",()=>{t.length,g(t[0]),h.current.flyTo([l,i],12,{duration:1.5})}),u.current.push(c)})})()},[i,b,v]);let w=e=>{window.open("/portfolio/".concat(e.category,"/").concat(e.slug),"_blank")};return(0,a.jsxs)("div",{className:"relative ".concat(t),children:[(0,a.jsx)("div",{ref:d,className:"w-full h-[500px] md:h-[600px] rounded-xl shadow-lg overflow-hidden",style:{zIndex:1}}),!b&&(0,a.jsx)("div",{className:"absolute inset-0 bg-muted rounded-xl flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cargando mapa..."})]})}),(0,a.jsx)(I.N,{children:p&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{duration:.3,ease:"easeOut"},className:"absolute top-4 right-4 w-80 bg-background border border-border rounded-xl shadow-xl overflow-hidden z-10",children:[(0,a.jsxs)("div",{className:"relative h-48",children:[(0,a.jsx)($.default,{src:p.featuredImage,alt:p.title,fill:!0,className:"object-cover",sizes:"320px"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsx)("button",{onClick:()=>{g(null)},className:"absolute top-3 right-3 w-8 h-8 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center transition-colors",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"absolute top-3 left-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium text-white bg-black/50 backdrop-blur-sm",children:(0,M.F$)(p.category)})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-foreground mb-2 line-clamp-2",children:p.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-3",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{className:"text-sm",children:[p.location.city,", ",p.location.region]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:p.shortDescription}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"\xc1rea:"}),(0,a.jsx)("div",{className:"font-medium",children:p.details.area})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"A\xf1o:"}),(0,a.jsx)("div",{className:"font-medium",children:p.completedAt.getFullYear()})]})]}),(0,a.jsxs)(j.$,{onClick:()=>w(p),className:"w-full",size:"sm",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Ver Proyecto Completo",(0,a.jsx)(U.A,{className:"w-4 h-4 ml-2"})]})]})]})}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 bg-background/95 backdrop-blur-sm border border-border rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Categor\xedas"}),(0,a.jsx)("div",{className:"space-y-1",children:Object.entries({oficina:"#3B82F6",retail:"#F97316",industria:"#6B7280",hoteleria:"#8B5CF6",educacion:"#10B981",vivienda:"#F59E0B",salud:"#EF4444"}).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full border border-white shadow-sm",style:{backgroundColor:s}}),(0,a.jsx)("span",{className:"text-xs capitalize",children:(0,M.F$)(t)})]},t)})})]})]})}function H(){let{filteredProjects:e}=(0,x.g9)(),t=new Set(e.map(e=>e.location.city)),s=new Set(e.map(e=>e.location.region)),l={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}};return(0,a.jsx)("section",{className:"py-20 px-4 bg-gradient-to-b from-muted/30 to-background",children:(0,a.jsx)("div",{className:"container mx-auto",children:(0,a.jsxs)(n.P.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},children:[(0,a.jsxs)(n.P.div,{variants:l,className:"text-center mb-16",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-4",children:[(0,a.jsx)(V.A,{className:"w-4 h-4"}),"Presencia Nacional"]}),(0,a.jsxs)("h2",{className:"text-3xl md:text-5xl font-bold text-foreground mb-6",children:["Proyectos a trav\xe9s del"," ",(0,a.jsx)("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Per\xfa"})]}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Explora la ubicaci\xf3n geogr\xe1fica de nuestros proyectos y descubre c\xf3mo hemos contribuido al desarrollo de infraestructura en diferentes regiones del pa\xeds."})]}),(0,a.jsxs)(n.P.div,{variants:l,className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[(0,a.jsxs)("div",{className:"text-center p-6 bg-background/80 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(m.A,{className:"w-6 h-6 text-primary"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground mb-1",children:t.size}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:1===t.size?"Ciudad":"Ciudades"})]}),(0,a.jsxs)("div",{className:"text-center p-6 bg-background/80 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(V.A,{className:"w-6 h-6 text-accent"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground mb-1",children:s.size}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:1===s.size?"Regi\xf3n":"Regiones"})]}),(0,a.jsxs)("div",{className:"text-center p-6 bg-background/80 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(O.A,{className:"w-6 h-6 text-green-500"})}),(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground mb-1",children:e.length}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:1===e.length?"Proyecto":"Proyectos"})]})]}),(0,a.jsx)(n.P.div,{variants:l,children:(0,a.jsx)(B,{className:"w-full"})}),(0,a.jsx)(n.P.div,{variants:l,className:"mt-8 text-center",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Haz clic en los marcadores para ver informaci\xf3n detallada de cada proyecto"})})]})})})}var _=s(29025),Y=s(9041),q=s(5263);function J(){var e,t,s,i,r,d,h;let{allProjects:u}=(0,x.g9)(),[p,g]=(0,l.useState)("category"),[b,f]=(0,l.useState)({}),j=(0,l.useRef)(null),v={totalProjects:u.length,totalArea:u.reduce((e,t)=>e+(parseInt(t.details.area.replace(/[^0-9]/g,""))||0),0),averageInvestment:u.reduce((e,t)=>e+(t.details.investment?parseInt(t.details.investment.replace(/[^0-9]/g,"")):0),0)/u.filter(e=>e.details.investment).length,citiesCount:new Set(u.map(e=>e.location.city)).size},N=()=>{let e={};u.forEach(t=>{e[t.category]=(e[t.category]||0)+1});let t={[M.U2.OFICINA]:"#3B82F6",[M.U2.RETAIL]:"#10B981",[M.U2.INDUSTRIA]:"#F59E0B",[M.U2.HOTELERIA]:"#EF4444",[M.U2.EDUCACION]:"#8B5CF6",[M.U2.VIVIENDA]:"#EC4899",[M.U2.SALUD]:"#06B6D4"};return Object.entries(e).map(e=>{let[s,a]=e;return{label:(0,M.F$)(s),value:a,color:t[s]||"#6B7280",percentage:a/u.length*100}})},w=()=>{let e={};return u.forEach(t=>{let s=t.completedAt.getFullYear();e[s]=(e[s]||0)+1}),Object.entries(e).sort((e,t)=>{let[s]=e,[a]=t;return parseInt(a)-parseInt(s)}).slice(0,10).map((e,t)=>{let[s,a]=e;return{label:s,value:a,color:"hsl(".concat(200+10*t,", 70%, 50%)"),percentage:a/u.length*100}})},y=()=>{let e={};return u.forEach(t=>{e[t.location.city]=(e[t.location.city]||0)+1}),Object.entries(e).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s}).slice(0,8).map((e,t)=>{let[s,a]=e;return{label:s,value:a,color:"hsl(".concat(120+20*t,", 60%, 50%)"),percentage:a/u.length*100}})},k=()=>[{label:"< $5M",min:0,max:5},{label:"$5M - $10M",min:5,max:10},{label:"$10M - $20M",min:10,max:20},{label:"$20M - $50M",min:20,max:50},{label:"> $50M",min:50,max:1/0}].map((e,t)=>{let s=u.filter(t=>{if(!t.details.investment)return!1;let s=parseInt(t.details.investment.replace(/[^0-9]/g,""));return s>=e.min&&s<e.max}).length;return{label:e.label,value:s,color:"hsl(".concat(30+30*t,", 70%, 50%)"),percentage:s/u.length*100}}),C=(()=>{switch(p){case"category":return N();case"year":return w();case"location":return y();case"investment":return k();default:return[]}})(),A=Math.max(...C.map(e=>e.value));return(0,l.useEffect)(()=>{f({}),C.forEach((e,t)=>{setTimeout(()=>{f(t=>({...t,[e.label]:e.value}))},100*t)})},[p]),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:v.totalProjects})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Proyectos"})]}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(S.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsxs)("span",{className:"text-2xl font-bold",children:[(v.totalArea/1e3).toFixed(0),"k"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"m\xb2 Construidos"})]}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-amber-500/10 to-amber-600/10 border border-amber-500/20 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(z.A,{className:"w-5 h-5 text-amber-500"}),(0,a.jsxs)("span",{className:"text-2xl font-bold",children:["$",v.averageInvestment.toFixed(0),"M"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Inversi\xf3n Promedio"})]}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-500"}),(0,a.jsx)("span",{className:"text-2xl font-bold",children:v.citiesCount})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ciudades"})]})]}),(0,a.jsxs)("div",{className:"bg-card border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"An\xe1lisis de Proyectos"}),(0,a.jsx)("div",{className:"flex gap-2",children:[{id:"category",label:"Categor\xeda",icon:(0,a.jsx)(Y.A,{className:"w-4 h-4"})},{id:"year",label:"A\xf1o",icon:(0,a.jsx)(c.A,{className:"w-4 h-4"})},{id:"location",label:"Ubicaci\xf3n",icon:(0,a.jsx)(m.A,{className:"w-4 h-4"})},{id:"investment",label:"Inversi\xf3n",icon:(0,a.jsx)(z.A,{className:"w-4 h-4"})}].map(e=>(0,a.jsxs)("button",{onClick:()=>g(e.id),className:(0,E.cn)("flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",p===e.id?"bg-accent text-white":"bg-muted hover:bg-muted/80"),children:[e.icon,(0,a.jsx)("span",{className:"hidden md:inline",children:e.label})]},e.id))})]}),(0,a.jsx)("div",{ref:j,className:"space-y-4",children:C.map((e,t)=>(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:b[e.label]||0}),e.percentage&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(",e.percentage.toFixed(1),"%)"]})]})]}),(0,a.jsx)("div",{className:"h-8 bg-muted rounded-lg overflow-hidden",children:(0,a.jsx)(n.P.div,{initial:{width:0},animate:{width:"".concat((b[e.label]||0)/A*100,"%")},transition:{duration:.8,delay:.1*t,ease:"easeOut"},className:"h-full rounded-lg relative overflow-hidden",style:{backgroundColor:e.color},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 animate-shimmer"})})})]},e.label))}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["Total en vista: ",C.reduce((e,t)=>e+t.value,0)," proyectos"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Crecimiento anual: +15%"})]})]})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/5 to-blue-600/5 border border-blue-500/10 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2 text-blue-600 dark:text-blue-400",children:"Categor\xeda L\xedder"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[null==(e=N()[0])?void 0:e.label," representa el ",null==(s=N()[0])||null==(t=s.percentage)?void 0:t.toFixed(0),"% de todos los proyectos"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500/5 to-green-600/5 border border-green-500/10 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2 text-green-600 dark:text-green-400",children:"Mayor Concentraci\xf3n"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[null==(i=y()[0])?void 0:i.label," tiene ",null==(r=y()[0])?void 0:r.value," proyectos completados"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-amber-500/5 to-amber-600/5 border border-amber-500/10 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2 text-amber-600 dark:text-amber-400",children:"A\xf1o R\xe9cord"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[null==(d=w()[0])?void 0:d.label," con ",null==(h=w()[0])?void 0:h.value," proyectos finalizados"]})]})]})]})}var W=s(965),G=s(73158),Q=s(37648),X=s(22263);function Z(){let{allProjects:e}=(0,x.g9)(),[t,s]=(0,l.useState)(new Date().getFullYear()),[i,r]=(0,l.useState)(null),[o,d]=(0,l.useState)("year"),h=(0,l.useRef)(null),u=(0,l.useRef)(null),p=Array.from(new Set(e.map(e=>e.completedAt.getFullYear()))).sort((e,t)=>t-e),g=("all"===o?e:e.filter(e=>{let s=e.completedAt.getFullYear();if("year"===o)return s===t;if("month"===o){let t=new Date,s=e.completedAt;return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()}return!1})).sort((e,t)=>e.completedAt.getTime()-t.completedAt.getTime()),b=(()=>{let e={};return g.forEach(t=>{let s="".concat(t.completedAt.getFullYear(),"-").concat(t.completedAt.getMonth());e[s]||(e[s]=[]),e[s].push(t)}),Object.entries(e).map(e=>{let[t,s]=e,[a,l]=t.split("-").map(Number);return{date:new Date(a,l),projects:s}}).sort((e,t)=>e.date.getTime()-t.date.getTime())})();return(0,l.useEffect)(()=>{if(u.current&&"year"===o){let e=new Date().getMonth(),t=u.current.children[e];t&&t.scrollIntoView({behavior:"smooth",inline:"center"})}},[o,t]),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"L\xednea de Tiempo"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Explora la evoluci\xf3n de nuestros proyectos a trav\xe9s del tiempo"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex bg-muted rounded-lg p-1",children:["month","year","all"].map(e=>(0,a.jsxs)("button",{onClick:()=>d(e),className:(0,E.cn)("px-3 py-1.5 rounded text-sm font-medium transition-colors",o===e?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:["month"===e&&"Mes","year"===e&&"A\xf1o","all"===e&&"Todo"]},e))}),"year"===o&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>s(e=>Math.max(e-1,p[p.length-1])),className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:(0,a.jsx)(W.A,{className:"w-4 h-4"})}),(0,a.jsx)("select",{value:t,onChange:e=>s(Number(e.target.value)),className:"px-3 py-1.5 bg-muted rounded-lg text-sm font-medium",children:p.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("button",{onClick:()=>s(e=>Math.min(e+1,p[0])),className:"p-1.5 hover:bg-muted rounded-lg transition-colors",children:(0,a.jsx)(G.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsx)("div",{className:"relative",children:"year"===o?(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("div",{ref:u,className:"flex gap-8 overflow-x-auto pb-4 scrollbar-thin",children:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map((e,t)=>{let s=g.filter(e=>e.completedAt.getMonth()===t);return(0,a.jsxs)("div",{className:"flex-shrink-0 w-64",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[s.length," proyecto",1!==s.length?"s":""]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-border"}),(0,a.jsx)("div",{className:(0,E.cn)("relative z-10 w-3 h-3 mx-auto rounded-full",s.length>0?"bg-accent":"bg-muted")})]}),(0,a.jsx)("div",{className:"mt-6 space-y-3",children:s.map((e,t)=>(0,a.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},onClick:()=>r(e),className:"cursor-pointer group",children:(0,a.jsxs)("div",{className:"bg-card border rounded-lg p-3 hover:shadow-lg transition-all hover:scale-105",children:[(0,a.jsxs)("div",{className:"aspect-video relative rounded overflow-hidden mb-2",children:[(0,a.jsx)($.default,{src:e.thumbnailImage||e.featuredImage,alt:e.title,fill:!0,className:"object-cover group-hover:scale-110 transition-transform duration-300"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),(0,a.jsx)("h4",{className:"font-semibold text-sm line-clamp-1",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,M.F$)(e.category)}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[(0,a.jsx)(c.A,{className:"w-3 h-3"}),e.completedAt.toLocaleDateString("es-PE",{day:"numeric",month:"short"})]})]})},e.id))})]},t)})})}):(0,a.jsxs)("div",{ref:h,className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-8 md:left-1/2 top-0 bottom-0 w-0.5 bg-border"}),(0,a.jsx)("div",{className:"space-y-8",children:b.map((e,t)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:(0,E.cn)("relative z-10 w-4 h-4 rounded-full bg-accent","md:absolute md:left-1/2 md:-translate-x-1/2")}),(0,a.jsx)("h3",{className:"font-bold text-lg md:text-center md:w-full",children:e.date.toLocaleDateString("es-PE",{month:"long",year:"numeric"})})]}),(0,a.jsx)("div",{className:(0,E.cn)("grid gap-4","all"===o?"md:grid-cols-2 lg:grid-cols-3":"md:grid-cols-2"),children:e.projects.map((e,t)=>(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*t},onClick:()=>r(e),className:(0,E.cn)("bg-card border rounded-xl overflow-hidden cursor-pointer","hover:shadow-xl transition-all hover:scale-[1.02]",t%2==0?"md:mr-auto":"md:ml-auto"),children:[(0,a.jsxs)("div",{className:"aspect-video relative",children:[(0,a.jsx)($.default,{src:e.featuredImage,alt:e.title,fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute top-2 left-2 px-2 py-1 rounded text-xs font-medium text-white",style:{backgroundColor:(0,M.ep)(e.category)},children:(0,M.F$)(e.category)})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),e.location.city]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(Q.A,{className:"w-3 h-3"}),e.details.duration]})]})]})]},e.id))})]},t))})]})}),(0,a.jsx)(I.N,{children:i&&(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:()=>r(null),children:(0,a.jsxs)(n.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl max-w-2xl max-h-[80vh] overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"aspect-video relative",children:[(0,a.jsx)($.default,{src:i.featuredImage,alt:i.title,fill:!0,className:"object-cover"}),(0,a.jsx)("button",{onClick:()=>r(null),className:"absolute top-4 right-4 p-2 bg-black/50 hover:bg-black/70 text-white rounded-full transition-colors",children:(0,a.jsx)(T.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:i.title}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:i.description}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Ubicaci\xf3n"}),(0,a.jsxs)("p",{className:"font-medium",children:[i.location.city,", ",i.location.region]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Completado"}),(0,a.jsx)("p",{className:"font-medium",children:i.completedAt.toLocaleDateString("es-PE",{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"\xc1rea"}),(0,a.jsx)("p",{className:"font-medium",children:i.details.area})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Duraci\xf3n"}),(0,a.jsx)("p",{className:"font-medium",children:i.details.duration})]})]}),(0,a.jsxs)("a",{href:"/portfolio/".concat(i.category,"/").concat(i.slug),className:"inline-flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:[(0,a.jsx)(X.A,{className:"w-4 h-4"}),"Ver Proyecto Completo"]})]})]})})})]})}var K=s(29162),ee=s(50286),et=s(18046);let es=[{label:"Categor\xeda",icon:(0,a.jsx)(o.A,{className:"w-4 h-4"}),getValue:e=>(0,M.F$)(e.category)},{label:"Ubicaci\xf3n",icon:(0,a.jsx)(m.A,{className:"w-4 h-4"}),getValue:e=>"".concat(e.location.city,", ").concat(e.location.region)},{label:"A\xf1o",icon:(0,a.jsx)(c.A,{className:"w-4 h-4"}),getValue:e=>e.completedAt.getFullYear()},{label:"\xc1rea",icon:(0,a.jsx)(K.A,{className:"w-4 h-4"}),getValue:e=>e.details.area,highlight:!0},{label:"Inversi\xf3n",icon:(0,a.jsx)(z.A,{className:"w-4 h-4"}),getValue:e=>e.details.investment||"No disponible",highlight:!0},{label:"Duraci\xf3n",icon:(0,a.jsx)(c.A,{className:"w-4 h-4"}),getValue:e=>e.details.duration},{label:"Equipo",icon:(0,a.jsx)(ee.A,{className:"w-4 h-4"}),getValue:e=>e.details.team.join(", ")},{label:"Certificaciones",icon:(0,a.jsx)(d.A,{className:"w-4 h-4"}),getValue:e=>{var t;return(null==(t=e.details.certifications)?void 0:t.join(", "))||"N/A"}}];function ea(){let{isOpen:e,onOpenChange:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{allProjects:s}=(0,x.g9)(),[i,r]=(0,l.useState)([]),[c,d]=(0,l.useState)(e||!1),[m,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("comparisonProjects");e&&r(JSON.parse(e).map(e=>s.find(t=>t.id===e)).filter(Boolean))},[s]),(0,l.useEffect)(()=>{let e=i.map(e=>e.id);localStorage.setItem("comparisonProjects",JSON.stringify(e))},[i]);let u=e=>{i.length<4&&!i.find(t=>t.id===e.id)&&(r([...i,e]),h(!1))},p=e=>{r(i.filter(t=>t.id!==e))};l.useEffect(()=>{void 0!==e&&d(e)},[e]);let g=e=>{d(e),null==t||t(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.N,{children:c&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-x-0 bottom-0 z-50 bg-background border-t shadow-2xl max-h-[80vh] overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary to-accent text-white p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Comparaci\xf3n de Proyectos"}),(0,a.jsxs)("p",{className:"text-white/80 text-sm",children:["Compara hasta ",4," proyectos lado a lado"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[i.length>0&&(0,a.jsx)("button",{onClick:()=>{r([]),d(!1),null==t||t(!1)},className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition-colors",children:"Limpiar"}),(0,a.jsx)("button",{onClick:()=>g(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:(0,a.jsx)(T.A,{className:"w-5 h-5"})})]})]})}),(0,a.jsx)("div",{className:"p-6 overflow-auto max-h-[calc(80vh-80px)]",children:0===i.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:(0,a.jsx)(o.A,{className:"w-12 h-12 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No hay proyectos para comparar"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Selecciona proyectos desde la grilla para comenzar"}),(0,a.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Seleccionar Proyectos"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-3 font-semibold",children:"Caracter\xedsticas"}),i.map(e=>(0,a.jsx)("th",{className:"p-3 text-center",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("div",{className:"aspect-video relative rounded-lg overflow-hidden mb-2",children:[(0,a.jsx)($.default,{src:e.featuredImage,alt:e.title,fill:!0,className:"object-cover"}),(0,a.jsx)("button",{onClick:()=>p(e.id),className:"absolute top-2 right-2 p-1 bg-black/50 hover:bg-black/70 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("h4",{className:"font-semibold text-sm line-clamp-2",children:e.title})]})},e.id)),i.length<4&&(0,a.jsx)("th",{className:"p-3",children:(0,a.jsxs)("button",{onClick:()=>h(!0),className:"w-full aspect-video border-2 border-dashed border-muted-foreground/30 rounded-lg hover:border-accent hover:bg-accent/5 transition-colors flex flex-col items-center justify-center",children:[(0,a.jsx)(et.A,{className:"w-8 h-8 text-muted-foreground mb-2"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Agregar Proyecto"})]})})]})}),(0,a.jsx)("tbody",{children:es.map((e,t)=>(0,a.jsxs)("tr",{className:(0,E.cn)("border-t",e.highlight&&"bg-muted/30"),children:[(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,(0,a.jsx)("span",{className:"font-medium",children:e.label})]})}),i.map(t=>(0,a.jsx)("td",{className:"p-3 text-center",children:(0,a.jsx)("div",{className:(0,E.cn)("text-sm",e.highlight&&"font-semibold text-accent"),children:e.getValue(t)})},t.id)),i.length<4&&(0,a.jsx)("td",{className:"p-3"})]},t))})]})})})]})}),(0,a.jsx)(I.N,{children:m&&(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",onClick:()=>h(!1),children:(0,a.jsxs)(n.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl max-w-4xl max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"p-6 border-b",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Seleccionar Proyectos para Comparar"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Puedes seleccionar hasta ",4-i.length," proyecto(s) m\xe1s"]})]}),(0,a.jsx)("div",{className:"p-6 overflow-auto max-h-[60vh]",children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:s.filter(e=>!i.find(t=>t.id===e.id)).map(e=>(0,a.jsxs)("button",{onClick:()=>u(e),className:"text-left p-3 border rounded-lg hover:border-accent hover:bg-accent/5 transition-colors",children:[(0,a.jsx)("div",{className:"aspect-video relative rounded mb-2 overflow-hidden",children:(0,a.jsx)($.default,{src:e.thumbnailImage||e.featuredImage,alt:e.title,fill:!0,className:"object-cover"})}),(0,a.jsx)("h4",{className:"font-semibold text-sm line-clamp-2",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,M.F$)(e.category)})]},e.id))})})]})})})]})}var el=s(15599),ei=s(19637),er=s(38224),en=s(93498),eo=s(44965),ec=s(42404),ed=s(68098),em=s(7390),ex=s(10518),eh=s(68718);function eu(e){let{project:t,showFavoritesPanel:s=!1}=e,{allProjects:i}=(0,x.g9)(),[r,o]=(0,l.useState)([]),[c,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)(s),[u,p]=(0,l.useState)(!1),[g,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("favoriteProjects");e&&o(JSON.parse(e))},[]),(0,l.useEffect)(()=>{localStorage.setItem("favoriteProjects",JSON.stringify(r))},[r]);let f=e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},j=e=>r.includes(e),v=i.filter(e=>r.includes(e.id)),N=t?"".concat(window.location.origin,"/portfolio/").concat(t.category,"/").concat(t.slug):window.location.href,w=t?"".concat(t.title," - M\xe9trica DIP"):"Portafolio de Proyectos - M\xe9trica DIP",y=(null==t?void 0:t.description)||"Explora nuestro portafolio de proyectos de infraestructura",k=[{id:"copy",label:"Copiar enlace",icon:(0,a.jsx)(el.A,{className:"w-4 h-4"}),action:async()=>{await navigator.clipboard.writeText(N),p(!0),setTimeout(()=>p(!1),2e3)}},{id:"email",label:"Email",icon:(0,a.jsx)(ei.A,{className:"w-4 h-4"}),action:()=>{window.open("mailto:?subject=".concat(encodeURIComponent(w),"&body=").concat(encodeURIComponent(y+"\n\n"+N)))}},{id:"whatsapp",label:"WhatsApp",icon:(0,a.jsx)(er.A,{className:"w-4 h-4"}),action:()=>{window.open("https://wa.me/?text=".concat(encodeURIComponent(w+"\n"+y+"\n"+N)))}},{id:"facebook",label:"Facebook",icon:(0,a.jsx)(en.A,{className:"w-4 h-4"}),action:()=>{window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(N)))}},{id:"twitter",label:"Twitter",icon:(0,a.jsx)(eo.A,{className:"w-4 h-4"}),action:()=>{window.open("https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(N),"&text=").concat(encodeURIComponent(w)))}},{id:"linkedin",label:"LinkedIn",icon:(0,a.jsx)(ec.A,{className:"w-4 h-4"}),action:()=>{window.open("https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(N)))}}],C=async()=>{b(!0);let e=new Blob(["\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Portafolio Favoritos - M\xe9trica DIP</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 40px; }\n            h1 { color: #003F6F; }\n            .project { margin-bottom: 30px; page-break-inside: avoid; }\n            .project img { max-width: 100%; height: auto; }\n            .project h2 { color: #E84E0F; }\n            .meta { color: #666; font-size: 14px; }\n          </style>\n        </head>\n        <body>\n          <h1>Portafolio de Proyectos Favoritos</h1>\n          <p>M\xe9trica DIP - Direcci\xf3n Integral de Proyectos</p>\n          <hr>\n          ".concat(v.map(e=>'\n            <div class="project">\n              <h2>'.concat(e.title,'</h2>\n              <p class="meta">').concat(e.location.city,", ").concat(e.location.region," | ").concat(e.details.area,"</p>\n              <p>").concat(e.description,"</p>\n            </div>\n          ")).join(""),"\n        </body>\n      </html>\n    ")],{type:"text/html"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="portfolio-favoritos-metrica.html",s.click(),URL.revokeObjectURL(t),b(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed bottom-24 left-4 z-40 space-y-3",children:[(0,a.jsxs)(n.P.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h(!m),className:(0,E.cn)("relative bg-background border-2 rounded-full p-3 shadow-lg transition-all",r.length>0?"border-red-500":"border-border"),children:[(0,a.jsx)(ed.A,{className:(0,E.cn)("w-5 h-5 transition-colors",r.length>0?"text-red-500 fill-red-500":"text-muted-foreground")}),r.length>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:r.length})]}),(0,a.jsx)(n.P.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!c),className:"bg-background border-2 border-border rounded-full p-3 shadow-lg hover:border-accent transition-all",children:(0,a.jsx)(em.A,{className:"w-5 h-5 text-muted-foreground"})})]}),t&&(0,a.jsx)("button",{onClick:()=>f(t.id),className:(0,E.cn)("absolute top-4 right-4 z-10 p-2 rounded-full backdrop-blur-sm transition-all",j(t.id)?"bg-red-500 text-white":"bg-white/80 hover:bg-white text-gray-700"),children:(0,a.jsx)(ed.A,{className:(0,E.cn)("w-5 h-5",j(t.id)&&"fill-current")})}),(0,a.jsx)(I.N,{children:c&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.9,x:-20},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.9,x:-20},className:"fixed bottom-48 left-4 z-50 bg-background border rounded-xl shadow-xl p-2 min-w-[200px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 border-b mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:"Compartir"}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"text-muted-foreground hover:text-foreground",children:(0,a.jsx)(T.A,{className:"w-4 h-4"})})]}),k.map(e=>(0,a.jsxs)("button",{onClick:()=>{e.action(),"copy"!==e.id&&d(!1)},className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-muted rounded-lg transition-colors text-left",children:[e.icon,(0,a.jsx)("span",{className:"text-sm",children:e.label}),"copy"===e.id&&u&&(0,a.jsx)(ex.A,{className:"w-4 h-4 text-green-500 ml-auto"})]},e.id))]})}),(0,a.jsx)(I.N,{children:m&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:-300},animate:{opacity:1,x:0},exit:{opacity:0,x:-300},className:"fixed left-0 top-0 h-full w-80 bg-background border-r shadow-xl z-50 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,a.jsx)(ed.A,{className:"w-5 h-5 fill-current"}),"Mis Favoritos"]}),(0,a.jsx)("button",{onClick:()=>h(!1),className:"p-1 hover:bg-white/20 rounded transition-colors",children:(0,a.jsx)(T.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("p",{className:"text-white/80 text-sm",children:[r.length," proyecto",1!==r.length?"s":""," guardado",1!==r.length?"s":""]})]}),(0,a.jsx)("div",{className:"h-[calc(100%-160px)] overflow-y-auto p-4",children:0===v.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(ed.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No tienes proyectos favoritos a\xfan"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Marca proyectos como favoritos para verlos aqu\xed"})]}):(0,a.jsx)("div",{className:"space-y-3",children:v.map(e=>(0,a.jsxs)("div",{className:"group relative",children:[(0,a.jsxs)("a",{href:"/portfolio/".concat(e.category,"/").concat(e.slug),className:"block bg-card border rounded-lg overflow-hidden hover:shadow-lg transition-all",children:[(0,a.jsx)("div",{className:"aspect-video relative",children:(0,a.jsx)($.default,{src:e.thumbnailImage||e.featuredImage,alt:e.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm line-clamp-1",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.location.city,"  ",e.details.area]})]})]}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:"absolute top-2 right-2 p-1.5 bg-black/50 hover:bg-black/70 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(T.A,{className:"w-3 h-3"})})]},e.id))})}),v.length>0&&(0,a.jsx)("div",{className:"p-4 border-t bg-muted/30",children:(0,a.jsx)("button",{onClick:C,disabled:g,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors disabled:opacity-50",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.A,{className:"w-4 h-4"}),"Descargar Portfolio"]})})})]})})]})}var ep=s(23327),eg=s(53764),eb=s(13300),ef=s(79225),ej=s(60620),ev=s(57789),eN=s(18271),ew=s(63789);function ey(){let{isPresenting:e,onStartPresentation:t,onExitPresentation:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{allProjects:i}=(0,x.g9)(),[r,o]=(0,l.useState)(e||!1),[c,d]=(0,l.useState)(0),[m,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!0),[g,b]=(0,l.useState)(!1),[f,j]=(0,l.useState)(0),[v,N]=(0,l.useState)(!1),[w,y]=(0,l.useState)({autoPlay:!0,duration:5,showInfo:!0,showProgress:!0,sound:!1,transition:"fade"}),k=(0,l.useRef)(null),C=(0,l.useRef)(),A=(0,l.useRef)(),P=i.filter(e=>e.featured||e.tags.includes("premiado")),S=P[c];(0,l.useEffect)(()=>(m&&w.autoPlay?C.current=setInterval(()=>{j(e=>e>=100?(z(),0):e+100/(10*w.duration))},100):(C.current&&clearInterval(C.current),j(0)),()=>{C.current&&clearInterval(C.current)}),[m,c,w.autoPlay,w.duration]),(0,l.useEffect)(()=>{if(r){let e=()=>{p(!0),A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{g||p(!1)},4e3)};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e),A.current&&clearTimeout(A.current)}}},[r,g]),(0,l.useEffect)(()=>{if(!r)return;let e=e=>{switch(e.key){case"Escape":F();break;case"ArrowRight":z();break;case"ArrowLeft":L();break;case" ":e.preventDefault(),h(e=>!e);break;case"f":D()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[r,c]);let F=()=>{o(!1),h(!1),b(!1),document.body.style.overflow="unset",v&&document.exitFullscreen&&document.exitFullscreen(),null==s||s()};l.useEffect(()=>{void 0!==e&&o(e)},[e]);let z=()=>{d(e=>e<P.length-1?e+1:0),j(0)},L=()=>{d(e=>e>0?e-1:P.length-1),j(0)},R=e=>{d(e),j(0)},D=async()=>{if(document.fullscreenElement)await document.exitFullscreen(),N(!1);else{var e;await (null==(e=k.current)?void 0:e.requestFullscreen()),N(!0)}};return r?(0,a.jsxs)(n.P.div,{ref:k,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black",children:[(0,a.jsx)(I.N,{mode:"wait",children:(0,a.jsxs)(n.P.div,{...(()=>{switch(w.transition){case"slide":return{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0}};case"zoom":return{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0}};default:return{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}}})(),transition:{duration:.5},className:"relative w-full h-full",children:[(0,a.jsx)($.default,{src:S.featuredImage,alt:S.title,fill:!0,className:"object-cover",priority:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent"}),w.showInfo&&(0,a.jsx)(n.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0,paddingBottom:u?"200px":"80px"},transition:{delay:.3,paddingBottom:{duration:.4,ease:[.4,0,.2,1]}},className:"absolute bottom-0 left-0 right-0 p-8 md:p-16",children:(0,a.jsxs)("div",{className:"max-w-4xl",children:[(0,a.jsx)("div",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium text-white mb-4",style:{backgroundColor:(0,M.ep)(S.category)},children:(0,M.F$)(S.category)}),(0,a.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:S.title}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-white/90 mb-6 max-w-2xl",children:S.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-6 text-white/80",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-white/60",children:"Ubicaci\xf3n"}),(0,a.jsxs)("p",{className:"font-medium",children:[S.location.city,", ",S.location.region]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-white/60",children:"\xc1rea"}),(0,a.jsx)("p",{className:"font-medium",children:S.details.area})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-white/60",children:"Inversi\xf3n"}),(0,a.jsx)("p",{className:"font-medium",children:S.details.investment||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-white/60",children:"Duraci\xf3n"}),(0,a.jsx)("p",{className:"font-medium",children:S.details.duration})]})]})]})})]},c)}),(0,a.jsx)(I.N,{children:u&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},className:"absolute inset-x-0 bottom-0 p-6 bg-gradient-to-t from-black/90 via-black/60 to-transparent",style:{backdropFilter:"blur(12px)"},children:[w.showProgress&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"h-1 bg-white/20 rounded-full overflow-hidden",children:(0,a.jsx)(n.P.div,{className:"h-full bg-white",style:{width:"".concat(f,"%")}})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:L,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:(0,a.jsx)(ep.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>h(!m),className:"p-3 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors",children:m?(0,a.jsx)(eg.A,{className:"w-6 h-6"}):(0,a.jsx)(eb.A,{className:"w-6 h-6"})}),(0,a.jsx)("button",{onClick:z,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:(0,a.jsx)(ef.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-white/60 text-sm ml-4",children:[c+1," / ",P.length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>y(e=>({...e,sound:!e.sound})),className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:w.sound?(0,a.jsx)(ej.A,{className:"w-5 h-5"}):(0,a.jsx)(ev.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>b(!g),className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:(0,a.jsx)(eN.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:D,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors",children:v?(0,a.jsx)(ew.A,{className:"w-5 h-5"}):(0,a.jsx)(X.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:F,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full text-white transition-colors ml-2",children:(0,a.jsx)(T.A,{className:"w-5 h-5"})})]})]}),(0,a.jsx)("div",{className:"mt-6 flex gap-2 overflow-x-auto pb-2",children:P.map((e,t)=>(0,a.jsx)("button",{onClick:()=>R(t),className:(0,E.cn)("flex-shrink-0 w-20 h-14 rounded overflow-hidden border-2 transition-all",c===t?"border-white scale-110":"border-white/20 hover:border-white/50"),children:(0,a.jsx)($.default,{src:e.thumbnailImage||e.featuredImage,alt:e.title,width:80,height:56,className:"object-cover"})},e.id))})]})}),(0,a.jsx)(I.N,{children:g&&(0,a.jsxs)(n.P.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"absolute right-0 top-0 h-full w-80 bg-black/90 backdrop-blur-sm p-6 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Configuraci\xf3n"}),(0,a.jsx)("button",{onClick:()=>b(!1),className:"p-1 hover:bg-white/20 rounded transition-colors",children:(0,a.jsx)(T.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Reproducci\xf3n autom\xe1tica"}),(0,a.jsx)("input",{type:"checkbox",checked:w.autoPlay,onChange:e=>y(t=>({...t,autoPlay:e.target.checked})),className:"toggle"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block mb-2",children:["Duraci\xf3n por diapositiva: ",w.duration,"s"]}),(0,a.jsx)("input",{type:"range",min:"3",max:"10",value:w.duration,onChange:e=>y(t=>({...t,duration:Number(e.target.value)})),className:"w-full"})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Mostrar informaci\xf3n"}),(0,a.jsx)("input",{type:"checkbox",checked:w.showInfo,onChange:e=>y(t=>({...t,showInfo:e.target.checked})),className:"toggle"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Mostrar progreso"}),(0,a.jsx)("input",{type:"checkbox",checked:w.showProgress,onChange:e=>y(t=>({...t,showProgress:e.target.checked})),className:"toggle"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block mb-2",children:"Transici\xf3n"}),(0,a.jsxs)("select",{value:w.transition,onChange:e=>y(t=>({...t,transition:e.target.value})),className:"w-full px-3 py-2 bg-white/10 rounded-lg",children:[(0,a.jsx)("option",{value:"fade",children:"Desvanecer"}),(0,a.jsx)("option",{value:"slide",children:"Deslizar"}),(0,a.jsx)("option",{value:"zoom",children:"Zoom"})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-8 border-t border-white/20",children:[(0,a.jsx)("h4",{className:"font-medium mb-4",children:"Atajos de teclado"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-white/60",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Reproducir/Pausar"}),(0,a.jsx)("kbd",{className:"px-2 py-0.5 bg-white/10 rounded",children:"Espacio"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Siguiente"}),(0,a.jsx)("kbd",{className:"px-2 py-0.5 bg-white/10 rounded",children:""})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Anterior"}),(0,a.jsx)("kbd",{className:"px-2 py-0.5 bg-white/10 rounded",children:""})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Pantalla completa"}),(0,a.jsx)("kbd",{className:"px-2 py-0.5 bg-white/10 rounded",children:"F"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Salir"}),(0,a.jsx)("kbd",{className:"px-2 py-0.5 bg-white/10 rounded",children:"ESC"})]})]})]})]})})]}):null}var ek=s(95120);function eC(e){let{onCompareClick:t,onPresentationClick:s,selectedProjects:i}=e,[r,o]=(0,l.useState)(null);return(0,a.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-24 right-4 z-40 flex items-center gap-3",children:[(0,a.jsxs)(n.P.button,{onMouseEnter:()=>o("presentation"),onMouseLeave:()=>o(null),onClick:s,className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg hover:shadow-xl relative overflow-hidden group",style:{borderRadius:"28px",padding:"14px 24px",minWidth:"56px",height:"56px"},animate:{paddingRight:"presentation"===r?"40px":"24px"},transition:{duration:.4,ease:[.4,0,.2,1]},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 relative z-10",children:[(0,a.jsx)(ek.A,{className:"w-6 h-6 flex-shrink-0"}),(0,a.jsx)(I.N,{children:"presentation"===r&&(0,a.jsx)(n.P.span,{initial:{opacity:0,width:0,marginLeft:0},animate:{opacity:1,width:"auto",marginLeft:8},exit:{opacity:0,width:0,marginLeft:0},transition:{duration:.4,ease:[.4,0,.2,1]},className:"whitespace-nowrap font-medium text-sm",children:"Presentaci\xf3n"})})]}),(0,a.jsx)(n.P.div,{className:"absolute inset-0 bg-white rounded-full",initial:{opacity:0},animate:{opacity:.1*("presentation"===r)},transition:{duration:.3}})]}),(0,a.jsxs)(n.P.button,{onMouseEnter:()=>o("compare"),onMouseLeave:()=>o(null),onClick:t,className:"bg-accent text-white shadow-lg hover:shadow-xl relative overflow-hidden group",style:{borderRadius:"28px",padding:"14px 24px",minWidth:"56px",height:"56px"},animate:{paddingRight:"compare"===r?"40px":"24px"},transition:{duration:.4,ease:[.4,0,.2,1]},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 relative z-10",children:[(0,a.jsx)("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,a.jsx)(I.N,{children:"compare"===r&&(0,a.jsxs)(n.P.span,{initial:{opacity:0,width:0,marginLeft:0},animate:{opacity:1,width:"auto",marginLeft:8},exit:{opacity:0,width:0,marginLeft:0},transition:{duration:.4,ease:[.4,0,.2,1]},className:"whitespace-nowrap font-medium text-sm",children:["Comparar ",i.length>0&&"(".concat(i.length,")")]})})]}),(0,a.jsx)(I.N,{children:i.length>0&&(0,a.jsx)(n.P.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:30},className:"absolute -top-2 -right-2 bg-white text-accent rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold shadow-md",children:i.length})}),(0,a.jsx)(n.P.div,{className:"absolute inset-0 bg-white rounded-full",initial:{opacity:0},animate:{opacity:.1*("compare"===r)},transition:{duration:.3}})]})]})}var eA=s(29471);function eP(){let[e,t]=(0,l.useState)("grid"),[s,n]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[m,h]=(0,l.useState)([]),u=[{id:"grid",label:"Galer\xeda",icon:(0,a.jsx)(eA.A,{className:"w-4 h-4"})},{id:"timeline",label:"Timeline",icon:(0,a.jsx)(c.A,{className:"w-4 h-4"})},{id:"map",label:"Mapa",icon:(0,a.jsx)(O.A,{className:"w-4 h-4"})},{id:"stats",label:"Estad\xedsticas",icon:(0,a.jsx)(q.A,{className:"w-4 h-4"})}];return(0,a.jsx)(x.OT,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-background relative",children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)("main",{className:"relative",children:[(0,a.jsx)(p,{}),(0,a.jsx)(v,{}),(0,a.jsx)("section",{className:"pt-4 pb-16",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:["grid"===e&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(D,{viewOptions:u,activeView:e,onViewChange:t}),(0,a.jsx)(N.A,{})]}),"timeline"===e&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(D,{viewOptions:u,activeView:e,onViewChange:t}),(0,a.jsx)(Z,{})]}),"map"===e&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(D,{viewOptions:u,activeView:e,onViewChange:t}),(0,a.jsx)(H,{})]}),"stats"===e&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(D,{viewOptions:u,activeView:e,onViewChange:t}),(0,a.jsx)(J,{})]})]})}),(0,a.jsx)(_.default,{})]}),(0,a.jsx)(r.A,{}),(0,a.jsx)(ea,{isOpen:s,onOpenChange:n}),(0,a.jsx)(eu,{}),(0,a.jsx)(ey,{isPresenting:o,onExitPresentation:()=>d(!1)}),(0,a.jsx)(eC,{onCompareClick:()=>n(!s),onPresentationClick:()=>d(!0),selectedProjects:m}),!1]})})}},62523:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var a=s(95155),l=s(12115),i=s(59434);let r=l.forwardRef((e,t)=>{let{className:s,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});r.displayName="Input"},94072:(e,t,s)=>{Promise.resolve().then(s.bind(s,31630))}},e=>{var t=t=>e(e.s=t);e.O(0,[8262,3211,4277,2536,9550,6874,6766,7328,8965,8737,2236,2415,1090,8385,9962,2533,1865,8441,1684,7358],()=>t(94072)),_N_E=e.O()}]);