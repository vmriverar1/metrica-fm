(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3280],{35695:(e,s,a)=>{"use strict";var t=a(18999);a.o(t,"notFound")&&a.d(s,{notFound:function(){return t.notFound}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},83967:(e,s,a)=>{Promise.resolve().then(a.bind(a,85098))},85098:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>D});var t=a(95155),r=a(12115),i=a(30285),c=a(62523),l=a(66695),o=a(26126),n=a(17313),d=a(80333),m=a(83173),x=a(17607),u=a(18763),p=a(77223),h=a(18046),j=a(53054),g=a(5263),v=a(18271),N=a(75074),y=a(9572),f=a(68718),b=a(16923),A=a(79311),C=a(35695),w=a(75676),T=a(62543);let D=()=>{let[e,s]=(0,r.useState)([]),[a,D]=(0,r.useState)(!0),[E,S]=(0,r.useState)(""),[P,Z]=(0,r.useState)(null),[I,O]=(0,r.useState)(!1),[k,F]=(0,r.useState)("list"),[L,z]=(0,r.useState)(null);(0,C.useRouter)(),(0,r.useEffect)(()=>{let e=[{id:"1",name:"Educaci\xf3n",slug:"educacion",description:"Proyectos de infraestructura educativa, colegios, universidades y centros de capacitaci\xf3n",icon:"\uD83C\uDF93",color:"#2563eb",image:"/images/categories/education.jpg",isActive:!0,projectCount:12,sortOrder:1,seoTitle:"Proyectos de Educaci\xf3n - M\xe9trica DIP",seoDescription:"Infraestructura educativa de calidad para el desarrollo acad\xe9mico",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2025-08-20T10:00:00Z"},{id:"2",name:"Salud",slug:"salud",description:"Hospitales, cl\xednicas, centros de salud y proyectos de infraestructura m\xe9dica",icon:"\uD83C\uDFE5",color:"#dc2626",image:"/images/categories/health.jpg",isActive:!0,projectCount:8,sortOrder:2,seoTitle:"Proyectos de Salud - M\xe9trica DIP",seoDescription:"Infraestructura de salud moderna y funcional",createdAt:"2024-01-20T10:00:00Z",updatedAt:"2025-08-19T15:30:00Z"},{id:"3",name:"Oficinas",slug:"oficina",description:"Edificios corporativos, oficinas administrativas y espacios de trabajo modernos",icon:"\uD83C\uDFE2",color:"#7c3aed",image:"/images/categories/office.jpg",isActive:!0,projectCount:15,sortOrder:3,seoTitle:"Proyectos de Oficinas - M\xe9trica DIP",seoDescription:"Espacios de trabajo modernos y eficientes",createdAt:"2024-02-01T10:00:00Z",updatedAt:"2025-08-18T09:45:00Z"},{id:"4",name:"Hoteler\xeda",slug:"hoteleria",description:"Hoteles, resorts, hostales y proyectos de turismo y hospitalidad",icon:"\uD83C\uDFE8",color:"#059669",image:"/images/categories/hospitality.jpg",isActive:!0,projectCount:6,sortOrder:4,seoTitle:"Proyectos de Hoteler\xeda - M\xe9trica DIP",seoDescription:"Infraestructura tur\xedstica y hotelera de calidad",createdAt:"2024-02-10T10:00:00Z",updatedAt:"2025-08-17T14:20:00Z"},{id:"5",name:"Industria",slug:"industria",description:"Plantas industriales, f\xe1bricas, almacenes y proyectos de manufactura",icon:"\uD83C\uDFED",color:"#ea580c",image:"/images/categories/industry.jpg",isActive:!0,projectCount:10,sortOrder:5,seoTitle:"Proyectos Industriales - M\xe9trica DIP",seoDescription:"Infraestructura industrial eficiente y segura",createdAt:"2024-02-15T10:00:00Z",updatedAt:"2025-08-16T11:10:00Z"},{id:"6",name:"Retail",slug:"retail",description:"Centros comerciales, tiendas, supermercados y espacios comerciales",icon:"\uD83D\uDECDï¸",color:"#dc2626",image:"/images/categories/retail.jpg",isActive:!0,projectCount:9,sortOrder:6,seoTitle:"Proyectos Retail - M\xe9trica DIP",seoDescription:"Espacios comerciales atractivos y funcionales",createdAt:"2024-03-01T10:00:00Z",updatedAt:"2025-08-15T16:30:00Z"},{id:"7",name:"Vivienda",slug:"vivienda",description:"Condominios, departamentos, casas y proyectos residenciales",icon:"\uD83C\uDFE0",color:"#0891b2",image:"/images/categories/residential.jpg",isActive:!0,projectCount:18,sortOrder:7,seoTitle:"Proyectos de Vivienda - M\xe9trica DIP",seoDescription:"Proyectos residenciales modernos y confortables",createdAt:"2024-03-10T10:00:00Z",updatedAt:"2025-08-14T13:45:00Z"},{id:"8",name:"Infraestructura",slug:"infraestructura",description:"Carreteras, puentes, obras p\xfablicas y proyectos de infraestructura urbana",icon:"\uD83C\uDF09",color:"#6b7280",image:"/images/categories/infrastructure.jpg",isActive:!1,projectCount:4,sortOrder:8,seoTitle:"Proyectos de Infraestructura - M\xe9trica DIP",seoDescription:"Infraestructura p\xfablica para el desarrollo urbano",createdAt:"2024-03-20T10:00:00Z",updatedAt:"2025-08-13T08:15:00Z"}];setTimeout(()=>{s(e),D(!1)},1e3)},[]);let R=e.filter(e=>{let s=e.name.toLowerCase().includes(E.toLowerCase())||e.description.toLowerCase().includes(E.toLowerCase())||e.slug.toLowerCase().includes(E.toLowerCase()),a=null===L||e.isActive===L;return s&&a}),W=e=>e?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",q=a=>{let t=e.find(e=>e.id===a);if(t&&t.projectCount>0)return void alert('No se puede eliminar la categor\xeda "'.concat(t.name,'" porque tiene ').concat(t.projectCount," proyectos asociados."));confirm("\xbfEst\xe1s seguro de que deseas eliminar esta categor\xeda?")&&s(e=>e.filter(e=>e.id!==a))},M=e=>{s(s=>s.map(s=>s.id===e?{...s,isActive:!s.isActive,updatedAt:new Date().toISOString()}:s))},B=[{key:"name",label:"Categor\xeda",render:(e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-lg",style:{backgroundColor:"".concat(s.color,"20"),color:s.color},children:s.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["/",s.slug]})]})]})},{key:"description",label:"Descripci\xf3n",render:e=>(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e})})},{key:"projectCount",label:"Proyectos",render:e=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"font-medium",children:e})]})},{key:"isActive",label:"Estado",render:(e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.E,{className:W(e),children:e?"Activa":"Inactiva"}),(0,t.jsx)(d.d,{checked:e,onCheckedChange:()=>M(s.id),size:"sm"})]})},{key:"sortOrder",label:"Orden",render:e=>(0,t.jsx)(o.E,{variant:"outline",className:"font-mono",children:e})},{key:"updatedAt",label:"Actualizado",render:e=>(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e).toLocaleDateString("es-ES")})}],V=[{label:"Ver",icon:x.A,onClick:e=>{Z(e),O(!1),F("view")},color:"text-blue-600 hover:text-blue-800"},{label:"Editar",icon:u.A,onClick:e=>{Z(e),O(!0),F("edit")},color:"text-green-600 hover:text-green-800"},{label:"Eliminar",icon:p.A,onClick:e=>q(e.id),color:"text-red-600 hover:text-red-800"}],$={title:"Editar Categor\xeda",fields:[{name:"name",label:"Nombre",type:"text",required:!0,placeholder:"Nombre de la categor\xeda"},{name:"description",label:"Descripci\xf3n",type:"textarea",required:!0,placeholder:"Descripci\xf3n de la categor\xeda"},{name:"icon",label:"Icono (Emoji)",type:"text",placeholder:"\uD83C\uDFE2"},{name:"color",label:"Color",type:"color",required:!0},{name:"sortOrder",label:"Orden",type:"number",required:!0,min:1},{name:"isActive",label:"Estado Activo",type:"checkbox"},{name:"seoTitle",label:"T\xedtulo SEO",type:"text",placeholder:"T\xedtulo para motores de b\xfasqueda"},{name:"seoDescription",label:"Descripci\xf3n SEO",type:"textarea",placeholder:"Descripci\xf3n para motores de b\xfasqueda"}]},_=e.reduce((e,s)=>e+s.projectCount,0),H=e.filter(e=>e.isActive).length;return a?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#003F6F]"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#003F6F]",children:"Categor\xedas del Portfolio"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Administra las categor\xedas de proyectos del portfolio"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(i.$,{onClick:()=>F("create"),className:"bg-[#E84E0F] hover:bg-[#E84E0F]/90",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Nueva Categor\xeda"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-8 w-8 text-[#003F6F]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.length}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Categor\xedas"})]})]})})}),(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-8 w-8 text-[#E84E0F]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:_}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Proyectos"})]})]})})}),(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:H}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Categor\xedas Activas"})]})]})})}),(0,t.jsx)(l.Zp,{children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-8 w-8 text-gray-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.length-H}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Categor\xedas Inactivas"})]})]})})})]}),(0,t.jsxs)(n.tU,{value:k,onValueChange:F,children:[(0,t.jsxs)(n.j7,{children:[(0,t.jsx)(n.Xi,{value:"list",children:"Lista de Categor\xedas"}),(0,t.jsx)(n.Xi,{value:"view",children:"Vista Previa"}),(0,t.jsx)(n.Xi,{value:"edit",children:"Editar"}),(0,t.jsx)(n.Xi,{value:"create",children:"Crear Nueva"})]}),(0,t.jsxs)(n.av,{value:"list",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(N.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(c.p,{placeholder:"Buscar categor\xedas...",value:E,onChange:e=>S(e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)(i.$,{variant:null===L?"default":"outline",size:"sm",onClick:()=>z(null),children:"Todas"}),(0,t.jsx)(i.$,{variant:!0===L?"default":"outline",size:"sm",onClick:()=>z(!0),children:"Activas"}),(0,t.jsx)(i.$,{variant:!1===L?"default":"outline",size:"sm",onClick:()=>z(!1),children:"Inactivas"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Exportar"]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Importar"]})]})]}),(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-5 w-5"}),"Categor\xedas (",R.length,")"]}),(0,t.jsx)(l.BT,{children:"Gestiona las categor\xedas de proyectos del portfolio"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(w.A,{data:R,columns:B,actions:V,searchable:!1})})]})]}),(0,t.jsx)(n.av,{value:"view",children:P?(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"}),"Vista Previa: ",P.name]})}),(0,t.jsx)(l.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:"".concat(P.color,"20"),color:P.color},children:P.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold",children:P.name}),(0,t.jsxs)("p",{className:"text-gray-500",children:["/",P.slug]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Descripci\xf3n:"}),(0,t.jsx)("p",{className:"mt-1",children:P.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Estado:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)(o.E,{className:W(P.isActive),children:P.isActive?"Activa":"Inactiva"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Proyectos:"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center gap-1",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"font-medium",children:P.projectCount})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Color:"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:P.color}}),(0,t.jsx)("span",{className:"font-mono text-sm",children:P.color})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Orden:"}),(0,t.jsx)("p",{className:"mt-1 font-medium",children:P.sortOrder})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[P.image&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Imagen:"}),(0,t.jsxs)("div",{className:"mt-1 w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:[(0,t.jsx)(A.A,{className:"h-12 w-12 text-gray-400"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:P.image})]})]}),(P.seoTitle||P.seoDescription)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"SEO:"}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[P.seoTitle&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"T\xedtulo:"}),(0,t.jsx)("p",{className:"text-sm",children:P.seoTitle})]}),P.seoDescription&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Descripci\xf3n:"}),(0,t.jsx)("p",{className:"text-sm",children:P.seoDescription})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Creado:"}),(0,t.jsx)("p",{children:new Date(P.createdAt).toLocaleString("es-ES")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Actualizado:"}),(0,t.jsx)("p",{children:new Date(P.updatedAt).toLocaleString("es-ES")})]})]})]})]})})]}):(0,t.jsx)(l.Zp,{children:(0,t.jsxs)(l.Wu,{className:"text-center py-8",children:[(0,t.jsx)(j.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Selecciona una categor\xeda para ver los detalles"})]})})}),(0,t.jsx)(n.av,{value:"edit",children:P&&I?(0,t.jsxs)(l.Zp,{children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{children:["Editar Categor\xeda: ",P.name]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(T.A,{schema:$,data:P,onSubmit:e=>{P&&(s(s=>s.map(s=>s.id===P.id?{...s,...e,updatedAt:new Date().toISOString(),slug:e.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}:s)),F("list"),Z(null))},onCancel:()=>F("list")})})]}):(0,t.jsx)(l.Zp,{children:(0,t.jsxs)(l.Wu,{className:"text-center py-8",children:[(0,t.jsx)(u.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Selecciona una categor\xeda para editar"})]})})}),(0,t.jsx)(n.av,{value:"create",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Crear Nueva Categor\xeda"}),(0,t.jsx)(l.BT,{children:"Crea una nueva categor\xeda para organizar los proyectos del portfolio"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)(T.A,{schema:{...$,title:"Nueva Categor\xeda"},data:{isActive:!0,sortOrder:e.length+1,color:"#6b7280"},onSubmit:e=>{let a={id:Date.now().toString(),name:e.name,slug:e.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),description:e.description,icon:e.icon||"\uD83D\uDCC1",color:e.color,isActive:e.isActive,projectCount:0,sortOrder:e.sortOrder,seoTitle:e.seoTitle,seoDescription:e.seoDescription,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};s(e=>[...e,a]),F("list")},onCancel:()=>F("list")})})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,2536,9550,7328,8965,4198,9658,1781,7615,2192,8441,1684,7358],()=>s(83967)),_N_E=e.O()}]);