(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1905],{9572:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9658:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]])},11133:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},15300:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},35695:(e,t,s)=>{"use strict";var r=s(18999);s.o(r,"notFound")&&s.d(t,{notFound:function(){return r.notFound}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},37648:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},40157:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(12115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:i?24*Number(c)/Number(a):c,className:l("lucide",o),...u},[...m.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:i,...o}=s;return(0,r.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(a(e)),i),...o})});return s.displayName="".concat(e),s}},50172:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53054:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},57082:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},61840:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},75074:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},79556:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},83173:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},83486:(e,t,s)=>{Promise.resolve().then(s.bind(s,98039))},91721:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(40157).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98039:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(95155),a=s(12115),l=s(35695),n=s(15300),c=s(83173),i=s(57082),o=s(9658),d=s(91721),m=s(75074),u=s(50172),x=s(9572),h=s(79556),p=s(11133),g=s(53054),y=s(37648),f=s(61840);let b={page:"P\xe1gina","portfolio-project":"Proyecto","portfolio-category":"Categor\xeda Portfolio","career-job":"Trabajo","career-department":"Departamento","newsletter-article":"Art\xedculo","newsletter-author":"Autor","newsletter-category":"Categor\xeda Newsletter"},j={page:n.A,"portfolio-project":c.A,"portfolio-category":c.A,"career-job":i.A,"career-department":i.A,"newsletter-article":o.A,"newsletter-author":d.A,"newsletter-category":o.A},N={page:"bg-gray-100 text-gray-800","portfolio-project":"bg-blue-100 text-blue-800","portfolio-category":"bg-blue-100 text-blue-800","career-job":"bg-green-100 text-green-800","career-department":"bg-green-100 text-green-800","newsletter-article":"bg-purple-100 text-purple-800","newsletter-author":"bg-orange-100 text-orange-800","newsletter-category":"bg-purple-100 text-purple-800"};function v(){let e=(0,l.useSearchParams)(),[t,s]=(0,a.useState)(e.get("q")||""),[c,i]=(0,a.useState)(e.get("type")||"all"),[o,d]=(0,a.useState)("true"===e.get("fuzzy")),[v,k]=(0,a.useState)([]),[w,A]=(0,a.useState)(null),[q,C]=(0,a.useState)(!1),[z,M]=(0,a.useState)(null),[S,E]=(0,a.useState)(!1),P=(0,a.useCallback)(async(e,t,s)=>{if(!e.trim()||e.length<2){k([]),A(null);return}C(!0),M(null);try{let r=new URLSearchParams({q:e,type:t,fuzzy:s.toString(),limit:"50"}),a=await fetch("/api/admin/search?".concat(r));if(!a.ok)throw Error("Error en la b\xfasqueda");let l=await a.json();l.success?(k(l.data.results),A(l.data.stats)):M(l.message||"Error desconocido")}catch(e){M(e instanceof Error?e.message:"Error de conexi\xf3n")}finally{C(!1)}},[]);(0,a.useEffect)(()=>{if(t){let e=setTimeout(()=>{P(t,c,o)},300);return()=>clearTimeout(e)}},[t,c,o,P]);let _=e=>{let t=j[e]||n.A;return(0,r.jsx)(t,{className:"w-4 h-4"})},L=e=>N[e]||"bg-gray-100 text-gray-800",B=e=>b[e]||e,H=(e,t)=>{if(!t)return e;let s=RegExp("(".concat(t,")"),"gi");return e.split(s).map((e,s)=>e.toLowerCase()===t.toLowerCase()?(0,r.jsx)("mark",{className:"bg-yellow-200 px-1",children:e},s):e)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"B\xfasqueda Global"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Busca en todo el contenido del sistema: p\xe1ginas, portfolio, carreras y newsletter."})]}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t.trim()&&P(t,c,o)},className:"space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(m.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Buscar en todo el contenido...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-lg"}),q&&(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,r.jsx)(u.A,{className:"h-5 w-5 text-gray-400 animate-spin"})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>E(!S),className:"flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Filtros avanzados",(0,r.jsx)(h.A,{className:"w-4 h-4 ml-1 transform transition-transform ".concat(S?"rotate-180":"")})]}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Buscar"})]}),S&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de contenido"}),(0,r.jsxs)("select",{value:c,onChange:e=>i(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"Todo el contenido"}),(0,r.jsx)("option",{value:"pages",children:"P\xe1ginas est\xe1ticas"}),(0,r.jsx)("option",{value:"portfolio",children:"Portfolio"}),(0,r.jsx)("option",{value:"careers",children:"Carreras"}),(0,r.jsx)("option",{value:"newsletter",children:"Newsletter"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Opciones de b\xfasqueda"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o,onChange:e=>d(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"B\xfasqueda aproximada (fuzzy)"})]})]})]})]})}),z&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(p.A,{className:"h-5 w-5 text-red-400"}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error en la b\xfasqueda"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-red-700",children:z})]})]})}),w&&(0,r.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"font-medium",children:w.total_results})," resultados para"," ",(0,r.jsxs)("span",{className:"font-medium",children:['"',w.search_term,'"']}),w.fuzzy_enabled&&(0,r.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"fuzzy"})]})}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Score promedio: ",w.avg_score]})]}),(0,r.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.entries(w.by_type).map(e=>{let[t,s]=e;return s>0&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(L(t)),children:[_(t),(0,r.jsxs)("span",{className:"ml-1",children:[B(t),": ",s]})]},t)})})]}),(0,r.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,r.jsx)("div",{className:"bg-white shadow rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(L(e.type)),children:[_(e.type),(0,r.jsx)("span",{className:"ml-1",children:B(e.type)})]}),(0,r.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["Score: ",e.score]})]}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:H(e.title,t)}),(0,r.jsx)("p",{className:"text-gray-600 mb-3",children:H(e.description,t)}),e.metadata&&Object.keys(e.metadata).length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(e.metadata).slice(0,3).map(e=>{let[t,s]=e;return(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:[(0,r.jsx)(g.A,{className:"w-3 h-3 mr-1"}),t,": ","object"==typeof s?JSON.stringify(s):String(s)]},t)})}),e.highlighted_fields.length>0&&(0,r.jsxs)("div",{className:"text-xs text-blue-600 mb-2",children:["Coincidencias en: ",e.highlighted_fields.join(", ")]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-1"}),e.url]})]}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,r.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"Ver"]})})]})},e.id))}),!q&&t&&0===v.length&&!z&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(m.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No se encontraron resultados"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Intenta con otros t\xe9rminos de b\xfasqueda o habilita la b\xfasqueda aproximada."})]}),!t&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(m.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Comienza a buscar"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Escribe al menos 2 caracteres para iniciar la b\xfasqueda en todo el contenido."})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(83486)),_N_E=e.O()}]);