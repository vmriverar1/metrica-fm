"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5711],{35711:(e,t,a)=>{a.d(t,{CareersProvider:()=>u});var r=a(95155),s=a(12115),o=a(9870);class i{set(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>this.ttl?(this.cache.delete(e),null):t.data:null}clear(){this.cache.clear()}constructor(){this.cache=new Map,this.ttl=3e5}}let l=new i;class c{static async checkDirectusAvailability(){return!1}static async getCategories(){let e="careers_categories",t=l.get(e);if(t)return t;let a=[{id:"gestion-direccion",name:"Gesti\xf3n y Direcci\xf3n",slug:"gestion-direccion",description:"Liderar equipos y dirigir proyectos de construcci\xf3n e infraestructura de gran escala.",color:"#E84E0F",icon:"\uD83D\uDC68‍\uD83D\uDCBC",count:o.rd.filter(e=>"gestion-direccion"===e.category).length},{id:"ingenieria-tecnica",name:"Ingenier\xeda y T\xe9cnica",slug:"ingenieria-tecnica",description:"Dise\xf1ar soluciones t\xe9cnicas innovadoras y supervisar la implementaci\xf3n de proyectos.",color:"#003F6F",icon:"⚙️",count:o.rd.filter(e=>"ingenieria-tecnica"===e.category).length},{id:"arquitectura-dise\xf1o",name:"Arquitectura y Dise\xf1o",slug:"arquitectura-dise\xf1o",description:"Crear espacios funcionales y est\xe9ticamente destacados que transformen el paisaje urbano.",color:"#9D9D9C",icon:"\uD83C\uDFD7️",count:o.rd.filter(e=>"arquitectura-dise\xf1o"===e.category).length},{id:"operaciones-control",name:"Operaciones y Control",slug:"operaciones-control",description:"Garantizar la calidad, seguridad y eficiencia en todas las fases del proyecto.",color:"#646363",icon:"\uD83D\uDD27",count:o.rd.filter(e=>"operaciones-control"===e.category).length},{id:"administracion-soporte",name:"Administraci\xf3n y Soporte",slug:"administracion-soporte",description:"Brindar soporte estrat\xe9gico y administrativo para el \xe9xito de los proyectos.",color:"#D0D0D0",icon:"\uD83D\uDCCA",count:o.rd.filter(e=>"administracion-soporte"===e.category).length}];return l.set(e,a),a}static async getJobs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="careers_jobs_".concat(JSON.stringify(e)),a=l.get(t);if(a)return a;let r=[...o.rd].filter(e=>"active"===e.status);if(e.category&&(r=r.filter(t=>t.category===e.category)),void 0!==e.featured&&(r=r.filter(t=>t.featured===e.featured)),e.type&&(r=r.filter(t=>t.type===e.type)),e.level&&(r=r.filter(t=>t.level===e.level)),void 0!==e.remote&&(r=r.filter(t=>t.remote===e.remote)),e.location&&(r=r.filter(t=>t.location.city.toLowerCase().includes(e.location.toLowerCase())||t.location.region.toLowerCase().includes(e.location.toLowerCase()))),e.searchQuery){let t=e.searchQuery.toLowerCase();r=r.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.department.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))}return r.sort((e,t)=>t.postedAt.getTime()-e.postedAt.getTime()),e.offset&&(r=r.slice(e.offset)),e.limit&&(r=r.slice(0,e.limit)),l.set(t,r),r}static async getJobBySlug(e){let t="career_job_".concat(e),a=l.get(t);if(a)return a;let r=o.rd.find(t=>t.slug===e)||null;return r&&l.set(t,r),r}static async searchJobs(e){return this.getJobs({searchQuery:e})}static async getRelatedJobs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a="related_jobs_".concat(e.id,"_").concat(t),r=l.get(a);if(r)return r;let s=(await this.getJobs({category:e.category,limit:t+1})).filter(t=>t.id!==e.id).slice(0,t);if(s.length<t){let a=(await this.getJobs({limit:t-s.length+5})).filter(t=>t.id!==e.id&&!s.find(e=>e.id===t.id)).slice(0,t-s.length);s.push(...a)}return l.set(a,s),s}static async getStats(){let e="careers_stats",t=l.get(e);if(t)return t;let a=(0,o.zz)();return l.set(e,a),a}static async getSystemInfo(){let e=await this.getStats();return{dataSource:"local",directusAvailable:!1,lastCheck:new Date,apiEndpoint:"",totalJobs:e.totalPositions,totalApplications:e.totalApplications,cacheStatus:"active"}}static async getBenefits(){let e="job_benefits",t=l.get(e);return t||(l.set(e,o.Rt),o.Rt)}static clearCache(){l.clear(),this.lastDirectusCheck=0}}c.lastDirectusCheck=0,c.directusAvailable=!1;let n=(0,s.createContext)(void 0);function u(e){let{children:t}=e,[a,o]=(0,s.useState)(null),[i,l]=(0,s.useState)({searchQuery:""}),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,a]=(0,s.useState)([]),[r,o]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),[n,u]=(0,s.useState)(null),[g,d]=(0,s.useState)(null),[f,y]=(0,s.useState)(!0),[b,h]=(0,s.useState)(!0),[m,p]=(0,s.useState)(!0),[C,j]=(0,s.useState)(!0),[v,w]=(0,s.useState)(null),k=(0,s.useCallback)(async()=>{try{y(!0),w(null);let t=await c.getJobs(e);a(t)}catch(e){w(e instanceof Error?e.message:"Error loading job postings"),console.error("Error loading job postings:",e)}finally{y(!1)}},[e.category,e.type,e.level,e.remote,e.searchQuery,e.limit,e.offset]),S=(0,s.useCallback)(async()=>{try{h(!0);let e=await c.getCategories();o(e)}catch(e){console.error("Error loading job categories:",e)}finally{h(!1)}},[]),E=(0,s.useCallback)(async()=>{try{p(!0);let e=await c.getBenefits();l(e)}catch(e){console.error("Error loading job benefits:",e)}finally{p(!1)}},[]),J=(0,s.useCallback)(async()=>{try{j(!0);let e=await c.getStats();u(e)}catch(e){console.error("Error loading careers stats:",e)}finally{j(!1)}},[]),L=(0,s.useCallback)(async()=>{try{let e=await c.getSystemInfo();d(e)}catch(e){console.error("Error loading careers system info:",e)}},[]),A=(0,s.useCallback)(async()=>{await Promise.all([k(),S(),E(),J(),L()])},[k,S,E,J,L]),D=(0,s.useCallback)(async e=>{try{return await c.searchJobs(e)}catch(e){return console.error("Error searching job postings:",e),[]}},[]),_=(0,s.useCallback)(async e=>{try{return await c.getJobBySlug(e)}catch(e){return console.error("Error getting job posting by slug:",e),null}},[]),M=(0,s.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;try{return await c.getRelatedJobs(e,t)}catch(e){return console.error("Error getting related job postings:",e),[]}},[]),I=(0,s.useCallback)(()=>{c.clearCache()},[]);return(0,s.useEffect)(()=>{k(),S(),E(),J(),L()},[k,S,E,J,L]),(0,s.useEffect)(()=>{if(e.autoRefresh){let t=setInterval(A,e.refreshInterval||3e5);return()=>clearInterval(t)}},[e.autoRefresh,e.refreshInterval,A]),{jobs:t,categories:r,benefits:i,stats:n,loading:f,categoriesLoading:b,benefitsLoading:m,statsLoading:C,error:v,systemInfo:g,refresh:A,searchJobs:D,getJobBySlug:_,getRelatedJobs:M,clearCache:I}}(i),g=u.jobs,d=u.jobs,f=(0,s.useMemo)(()=>u.categories.map(e=>e.slug),[u.categories]),y=(0,s.useMemo)(()=>{let e=new Set;return u.jobs.forEach(t=>{e.add("".concat(t.location.city,", ").concat(t.location.region))}),Array.from(e).sort()},[u.jobs]),b=(0,s.useMemo)(()=>{let e=new Set;return u.jobs.forEach(t=>{e.add(t.type)}),Array.from(e)},[u.jobs]),h=(0,s.useMemo)(()=>{let e=new Set;return u.jobs.forEach(t=>{e.add(t.level)}),Array.from(e)},[u.jobs]),m=(0,s.useMemo)(()=>{let e=new Set;return u.jobs.forEach(t=>{"active"===t.status&&e.add(t.department)}),Array.from(e).sort()},[u.jobs]),p=(0,s.useMemo)(()=>{let e=new Set;return u.jobs.forEach(t=>{t.requirements.forEach(t=>{"skill"===t.type&&e.add(t.title)}),t.tags.forEach(t=>e.add(t))}),Array.from(e).sort()},[u.jobs]),C=(0,s.useMemo)(()=>{let e=new Set;return u.jobs.forEach(t=>{t.tags.forEach(t=>e.add(t))}),Array.from(e).sort()},[u.jobs]),j=(0,s.useMemo)(()=>u.jobs.filter(e=>e.featured),[u.jobs]),v=(0,s.useMemo)(()=>u.jobs.filter(e=>e.urgent),[u.jobs]),w=(0,s.useMemo)(()=>{let e=u.jobs.filter(e=>e.salary);if(0===e.length)return{min:0,max:2e4};let t=e.map(e=>(e.salary.min+e.salary.max)/2);return{min:Math.min(...t),max:Math.max(...t)}},[u.jobs]),k=(0,s.useCallback)(e=>{o(e)},[]),S=(0,s.useCallback)(e=>{l(t=>({...t,...e}))},[]),E=(0,s.useCallback)(e=>{S({searchQuery:e})},[S]),J=(0,s.useCallback)(e=>{S({category:"all"===e?void 0:e})},[S]),L=(0,s.useCallback)(e=>{S({location:"all"===e?void 0:e})},[S]),A=(0,s.useCallback)(e=>{S({type:"all"===e?void 0:e})},[S]),D=(0,s.useCallback)(e=>{S({level:"all"===e?void 0:e})},[S]),_=(0,s.useCallback)((e,t)=>{S({salaryRange:[e,t]})},[S]),M=(0,s.useCallback)(e=>{S({remote:e})},[S]),I=(0,s.useCallback)(e=>{S({tags:e})},[S]),R=(0,s.useCallback)(()=>{S({featured:!i.featured})},[S,i.featured]),q=(0,s.useCallback)(()=>{S({urgent:!i.urgent})},[S,i.urgent]),x=(0,s.useCallback)(()=>{l({searchQuery:""})},[]),B={allJobs:g,filteredJobs:d,selectedJob:a,categories:u.categories,benefits:u.benefits,stats:u.stats,filters:i,setFilters:l,updateFilters:S,selectJob:k,searchJobs:E,filterByCategory:J,filterByLocation:L,filterByType:A,filterByLevel:D,filterBySalary:_,filterByRemote:M,filterByTags:I,toggleFeatured:R,toggleUrgent:q,resetFilters:x,refresh:u.refresh,getJobBySlug:u.getJobBySlug,getRelatedJobs:u.getRelatedJobs,clearCache:u.clearCache,uniqueCategories:f,uniqueLocations:y,uniqueDepartments:m,uniqueTypes:b,uniqueLevels:h,uniqueTags:C,uniqueSkills:p,featuredJobs:j,urgentJobs:v,jobCount:d.length,salaryRange:w,systemInfo:u.systemInfo,isLoading:u.loading,loading:u.loading,categoriesLoading:u.categoriesLoading,benefitsLoading:u.benefitsLoading,statsLoading:u.statsLoading,error:u.error};return(0,r.jsx)(n.Provider,{value:B,children:t})}}}]);