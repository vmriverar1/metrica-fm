"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2192],{17313:(e,s,a)=>{a.d(s,{Xi:()=>o,av:()=>d,j7:()=>c,tU:()=>n});var t=a(95155),l=a(12115),r=a(60704),i=a(59434);let n=r.bL,c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});c.displayName=r.B8.displayName;let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});o.displayName=r.l9.displayName;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});d.displayName=r.UC.displayName},24944:(e,s,a)=>{a.d(s,{k:()=>n});var t=a(95155),l=a(12115),r=a(55863),i=a(59434);let n=l.forwardRef((e,s)=>{let{className:a,value:l,...n}=e;return(0,t.jsx)(r.bL,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...n,children:(0,t.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});n.displayName=r.bL.displayName},26126:(e,s,a)=>{a.d(s,{E:()=>n});var t=a(95155);a(12115);var l=a(74466),r=a(59434);let i=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)(i({variant:a}),s),...l})}},30285:(e,s,a)=>{a.d(s,{$:()=>o});var t=a(95155),l=a(12115),r=a(99708),i=a(74466),n=a(59434);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,s)=>{let{className:a,variant:l,size:i,asChild:o=!1,...d}=e,m=o?r.DX:"button";return(0,t.jsx)(m,{className:(0,n.cn)(c({variant:l,size:i,className:a})),ref:s,...d})});o.displayName="Button"},47262:(e,s,a)=>{a.d(s,{S:()=>c});var t=a(95155),l=a(12115),r=a(76981),i=a(10518),n=a(59434);let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(r.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})})});c.displayName=r.bL.displayName},54165:(e,s,a)=>{a.d(s,{Cf:()=>m,L3:()=>u,c7:()=>x,lG:()=>c,rr:()=>h});var t=a(95155),l=a(12115),r=a(15452),i=a(25318),n=a(59434);let c=r.bL;r.l9;let o=r.ZL;r.bm;let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});d.displayName=r.hJ.displayName;let m=l.forwardRef((e,s)=>{let{className:a,children:l,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(r.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[l,(0,t.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});u.displayName=r.hE.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})});h.displayName=r.VY.displayName},59409:(e,s,a)=>{a.d(s,{bq:()=>x,eb:()=>g,gC:()=>p,l6:()=>d,yv:()=>m});var t=a(95155),l=a(12115),r=a(31992),i=a(79556),n=a(77381),c=a(10518),o=a(59434);let d=r.bL;r.YJ;let m=r.WT,x=l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,t.jsxs)(r.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[l,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=r.PP.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=r.wn.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,position:i="popper",...n}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,t.jsx)(u,{}),(0,t.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(h,{})]})})});p.displayName=r.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=r.JU.displayName;let g=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(r.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})}),(0,t.jsx)(r.p4,{children:l})]})});g.displayName=r.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.wv.displayName},59434:(e,s,a)=>{a.d(s,{cn:()=>r});var t=a(52596),l=a(39688);function r(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,l.QP)((0,t.$)(s))}},62523:(e,s,a)=>{a.d(s,{p:()=>i});var t=a(95155),l=a(12115),r=a(59434);let i=l.forwardRef((e,s)=>{let{className:a,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},62543:(e,s,a)=>{a.d(s,{A:()=>e8});var t=a(95155),l=a(12115),r=a(53764),i=a(13300),n=a(18046),c=a(40295),o=a(25318),d=a(30285),m=a(62523),x=a(66695),u=a(26126);let h=e=>{let{words:s,onChange:a,maxWords:h=8,placeholder:p="Agregue palabra...",preview:g=!0}=e,[j,v]=(0,l.useState)(""),[b,f]=(0,l.useState)(!1),[y,N]=(0,l.useState)(0),[w,k]=(0,l.useState)(null);(0,l.useEffect)(()=>{if(!b||0===s.length)return;let e=setInterval(()=>{N(e=>(e+1)%s.length)},2e3);return()=>clearInterval(e)},[b,s.length]);let C=()=>{let e=j.trim();e&&s.length<h&&!s.includes(e)&&(a([...s,e]),v(""))},A=e=>{let t=s.filter((s,a)=>a!==e);a(t),y>=t.length&&N(0)},S=(e,t)=>{let l=[...s];l[e]=t,a(l)},E=(e,s)=>{k(s),e.dataTransfer.effectAllowed="move"},P=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},D=(e,t)=>{if(e.preventDefault(),null===w||w===t)return void k(null);let l=[...s],r=l[w];l.splice(w,1),l.splice(t,0,r),a(l),k(null)};return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Editor de Palabras Rotatorias"}),(0,t.jsxs)(u.E,{variant:"outline",children:[s.length,"/",h]})]}),(0,t.jsx)(x.BT,{children:"Edite las palabras que rotan en la animaci\xf3n del hero. Arrastre para reordenar."})]}),g&&s.length>0&&(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{f(!b),b||N(0)},className:"flex items-center gap-2",children:[b?(0,t.jsx)(r.A,{className:"h-4 w-4"}):(0,t.jsx)(i.A,{className:"h-4 w-4"}),b?"Pausar":"Preview"]})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[g&&s.length>0&&(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Vista Previa de Animaci\xf3n:"}),(0,t.jsx)("div",{className:"text-3xl font-bold h-12 flex items-center justify-center",children:b?(0,t.jsx)("span",{className:"transition-all duration-500 ".concat((e=>{let s=["text-blue-600","text-green-600","text-purple-600","text-orange-600","text-pink-600","text-indigo-600","text-teal-600","text-red-600"];return s[e.length%s.length]||"text-gray-600"})(s[y])),children:s[y]}):(0,t.jsx)("span",{className:"text-gray-400",children:s[0]||"No hay palabras"})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:b?"Palabra ".concat(y+1," de ").concat(s.length):"Haga clic en Preview para ver la animaci\xf3n"})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(m.p,{placeholder:p,value:j,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),C())},className:"flex-1",maxLength:15}),(0,t.jsx)(d.$,{type:"button",onClick:C,disabled:!j.trim()||s.length>=h||s.includes(j.trim()),className:"bg-[#E84E0F] hover:bg-[#E84E0F]/90",children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})]}),j.trim()&&s.includes(j.trim())&&(0,t.jsx)("p",{className:"text-sm text-amber-600",children:"Esta palabra ya existe en la lista"}),s.length>=h&&(0,t.jsxs)("p",{className:"text-sm text-amber-600",children:["M\xe1ximo ",h," palabras permitidas"]}),s.length>0?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Palabras Actuales:"}),s.map((e,s)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:e=>E(e,s),onDragOver:P,onDrop:e=>D(e,s),className:"flex items-center gap-3 p-3 bg-white border rounded-lg transition-all duration-200 ".concat(w===s?"opacity-50 border-blue-300":"hover:border-gray-300 hover:shadow-sm"," ").concat(b&&y===s?"ring-2 ring-blue-200 border-blue-300":""),children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-400 cursor-grab active:cursor-grabbing"}),(0,t.jsx)(u.E,{variant:"secondary",className:"text-xs",children:s+1}),(0,t.jsx)(m.p,{value:e,onChange:e=>S(s,e.target.value),className:"flex-1 border-none shadow-none p-0 h-auto focus-visible:ring-0",maxLength:15}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(u.E,{variant:"outline",className:"text-xs",children:[e.length,"/15"]}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>A(s),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})]})]},s))]}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("p",{children:"No hay palabras configuradas."}),(0,t.jsx)("p",{className:"text-sm",children:"Agregue palabras para la animaci\xf3n del hero."})]}),s.length>0&&(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#003F6F]",children:s.length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Palabras Total"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#E84E0F]",children:Math.round(s.reduce((e,s)=>e+s.length,0)/s.length)}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Long. Promedio"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.every(e=>e.length<=12)?"✓":"!"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Longitud OK"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• Use verbos de acci\xf3n cortos (m\xe1ximo 12 caracteres)"}),(0,t.jsx)("li",{children:"• Mantenga un tono consistente y profesional"}),(0,t.jsx)("li",{children:"• El orden importa - las primeras palabras se ven m\xe1s"}),(0,t.jsx)("li",{children:"• Pruebe la animaci\xf3n con Preview antes de guardar"})]})]})]})]})};var p=a(57082),g=a(50286),j=a(57804),v=a(91467),b=a(86950),f=a(81203),y=a(80659),N=a(89829),w=a(3561),k=a(4607),C=a(17607),A=a(59409),S=a(88539),E=a(77223),P=a(15599),D=a(20203),M=a(73926),R=a(18763),T=a(17832),L=a(31949),I=a(1199),z=a(24910),U=a(93223),F=a(47262);let _=e=>{let{items:s,itemType:a,onUpdate:r,maxItems:i=20}=e,[c,h]=(0,l.useState)([]),[p,g]=(0,l.useState)(""),[j,v]=(0,l.useState)(""),[b,f]=(0,l.useState)("order"),[y,N]=(0,l.useState)("asc"),[k,C]=(0,l.useState)(""),_=()=>{let e=[{id:"delete",name:"Eliminar seleccionados",description:"Elimina los elementos seleccionados",icon:E.A},{id:"duplicate",name:"Duplicar seleccionados",description:"Crea copias de los elementos seleccionados",icon:P.A},{id:"move_up",name:"Mover arriba",description:"Mueve los elementos hacia arriba en la lista",icon:D.A},{id:"move_down",name:"Mover abajo",description:"Mueve los elementos hacia abajo en la lista",icon:M.A}];switch(a){case"statistics":return[...e,{id:"update_suffix",name:"Cambiar sufijo",description:"Actualiza el sufijo de todas las estad\xedsticas seleccionadas",icon:R.A,requiresValue:!0,valueType:"select",valueOptions:[{value:"+",label:"M\xe1s (+)"},{value:"K",label:"Miles (K)"},{value:"M",label:"Millones (M)"},{value:"%",label:"Porcentaje (%)"},{value:"",label:"Sin sufijo"}]},{id:"round_values",name:"Redondear valores",description:"Redondea los valores num\xe9ricos a n\xfameros enteros",icon:T.A}];case"services":return[...e,{id:"update_cta",name:"Actualizar CTA",description:"Cambia el texto del bot\xf3n de acci\xf3n",icon:R.A,requiresValue:!0,valueType:"text"}];case"projects":return[...e,{id:"change_category",name:"Cambiar categor\xeda",description:"Asigna una nueva categor\xeda a los proyectos seleccionados",icon:R.A,requiresValue:!0,valueType:"select",valueOptions:[{value:"Sanitaria",label:"Sanitaria"},{value:"Educativa",label:"Educativa"},{value:"Vial",label:"Vial"},{value:"Saneamiento",label:"Saneamiento"},{value:"Industrial",label:"Industrial"},{value:"Comercial",label:"Comercial"}]}];case"pillars":return[...e,{id:"apply_template",name:"Aplicar template",description:"Aplica un template de descripci\xf3n est\xe1ndar",icon:T.A,requiresValue:!0,valueType:"select",valueOptions:[{value:"dip_standard",label:"Est\xe1ndar DIP"},{value:"client_focused",label:"Enfoque Cliente"},{value:"technical",label:"T\xe9cnico Especializado"}]}];case"policies":return[...e,{id:"set_priority",name:"Establecer prioridad",description:"Asigna nivel de prioridad a las pol\xedticas",icon:R.A,requiresValue:!0,valueType:"select",valueOptions:[{value:"high",label:"Alta"},{value:"medium",label:"Media"},{value:"low",label:"Baja"}]}];case"rotating-words":return[...e,{id:"capitalize",name:"Capitalizar",description:"Convierte la primera letra en may\xfascula",icon:R.A},{id:"lowercase",name:"Min\xfasculas",description:"Convierte todo el texto a min\xfasculas",icon:R.A},{id:"check_length",name:"Validar longitud",description:"Identifica palabras muy largas (>15 caracteres)",icon:L.A}];default:return e}},B=e=>{switch(a){case"statistics":return"".concat(e.label||"Sin etiqueta"," (").concat(e.value||0).concat(e.suffix||"",")");case"services":case"policies":return e.name||"Sin nombre";case"projects":return"".concat(e.name||"Sin nombre"," - ").concat(e.type||"Sin categor\xeda");case"pillars":return e.title||"Sin t\xedtulo";case"rotating-words":return"string"==typeof e?e:"Palabra vac\xeda";default:return"Elemento"}},V=e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},O=s.filter(e=>!k||B(e).toLowerCase().includes(k.toLowerCase())),q=[...O].sort((e,s)=>{let a=e,t=s;switch(b){case"label":case"name":a=(e.label||e.name||"").toLowerCase(),t=(s.label||s.name||"").toLowerCase();break;case"value":a=e.value||0,t=s.value||0;break;case"length":a="string"==typeof e?e.length:0,t="string"==typeof s?s.length:0;break;case"alphabetical":a=("string"==typeof e?e:"").toLowerCase(),t=("string"==typeof s?s:"").toLowerCase();break;default:return 0}return a<t?"asc"===y?-1:1:a>t?"asc"===y?1:-1:0}),$=_(),Z=(()=>{switch(a){case"statistics":return[{value:"order",label:"Orden original"},{value:"label",label:"Etiqueta"},{value:"value",label:"Valor num\xe9rico"}];case"services":case"projects":case"pillars":case"policies":return[{value:"order",label:"Orden original"},{value:"name",label:"Nombre"}];case"rotating-words":return[{value:"order",label:"Orden original"},{value:"length",label:"Longitud"},{value:"alphabetical",label:"Alfab\xe9tico"}];default:return[{value:"order",label:"Orden original"}]}})(),W=$.find(e=>e.id===p);return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"}),"Operaciones Masivas",(0,t.jsxs)(u.E,{variant:"outline",children:[s.length," elementos"]})]}),(0,t.jsx)(x.BT,{children:"Gestiona m\xfaltiples elementos de forma eficiente"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>{let e;if(s.length>=i)return void alert("M\xe1ximo ".concat(i," elementos permitidos"));switch(a){case"statistics":e={icon:"BarChart",value:0,suffix:"",label:"Nueva estad\xedstica",description:""};break;case"services":e={name:"Nuevo servicio",description:"",cta:{text:"Ver m\xe1s",link:"#"}};break;case"projects":e={id:"project-".concat(Date.now()),name:"Nuevo proyecto",type:"Industrial",description:""};break;case"pillars":e={id:Date.now(),icon:"Building2",title:"Nuevo pilar",description:"",image:"",image_fallback:""};break;case"policies":e={name:"Nueva pol\xedtica",description:"",icon:"Shield",priority:"medium"};break;case"rotating-words":e="Nueva palabra";break;default:e={}}r([...s,e])},disabled:s.length>=i,children:[(0,t.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Agregar"]})})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(m.p,{placeholder:"Filtrar elementos...",value:k,onChange:e=>C(e.target.value),className:"max-w-xs"})}),(0,t.jsxs)(A.l6,{value:b,onValueChange:f,children:[(0,t.jsx)(A.bq,{className:"w-48",children:(0,t.jsx)(A.yv,{placeholder:"Ordenar por..."})}),(0,t.jsx)(A.gC,{children:Z.map(e=>(0,t.jsx)(A.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",onClick:()=>N(e=>"asc"===e?"desc":"asc"),children:"asc"===y?(0,t.jsx)(I.A,{className:"h-4 w-4"}):(0,t.jsx)(z.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto border rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[(0,t.jsx)(F.S,{checked:c.length===O.length&&O.length>0,onCheckedChange:()=>{c.length===O.length?h([]):h(O.map((e,s)=>s))}}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Seleccionar todo (",c.length,"/",O.length,")"]})]}),q.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded",children:[(0,t.jsx)(F.S,{checked:c.includes(s),onCheckedChange:()=>V(s)}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("span",{className:"text-sm truncate",children:B(e)})}),(0,t.jsxs)(u.E,{variant:"outline",className:"text-xs",children:["#",s+1]})]},s)),0===O.length&&(0,t.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:k?"No se encontraron elementos con ese filtro":"No hay elementos para mostrar"})]}),c.length>0&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(U.A,{className:"h-5 w-5 text-blue-600"}),(0,t.jsxs)("h4",{className:"font-medium text-blue-900",children:[c.length," elemento",c.length>1?"s":""," seleccionado",c.length>1?"s":""]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{children:(0,t.jsxs)(A.l6,{value:p,onValueChange:g,children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Seleccionar operaci\xf3n..."})}),(0,t.jsx)(A.gC,{children:$.map(e=>(0,t.jsx)(A.eb,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e.icon,{className:"h-4 w-4"}),e.name]})},e.id))})]})}),(null==W?void 0:W.requiresValue)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor requerido:"}),"select"===W.valueType&&W.valueOptions?(0,t.jsxs)(A.l6,{value:j,onValueChange:v,children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Seleccionar valor..."})}),(0,t.jsx)(A.gC,{children:W.valueOptions.map(e=>(0,t.jsx)(A.eb,{value:e.value,children:e.label},e.value))})]}):"textarea"===W.valueType?(0,t.jsx)(S.T,{value:j,onChange:e=>v(e.target.value),placeholder:"Ingrese el valor...",rows:3}):(0,t.jsx)(m.p,{value:j,onChange:e=>v(e.target.value),placeholder:"Ingrese el valor...",type:"number"===W.valueType?"number":"text"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(d.$,{onClick:()=>{if(!p||0===c.length)return;let e=_().find(e=>e.id===p);if(!e)return;if(e.requiresValue&&!j)return void alert("Esta operaci\xf3n requiere un valor");let a=[...s];switch(p){case"delete":a=s.filter((e,s)=>!c.includes(s));break;case"duplicate":let t=c.map(e=>({...s[e]}));a=[...s,...t];break;case"move_up":[...c].sort((e,s)=>e-s).forEach(e=>{e>0&&([a[e-1],a[e]]=[a[e],a[e-1]])});break;case"move_down":[...c].sort((e,s)=>s-e).forEach(e=>{e<a.length-1&&([a[e],a[e+1]]=[a[e+1],a[e]])});break;case"update_suffix":c.forEach(e=>{a[e]&&(a[e].suffix=j)});break;case"round_values":c.forEach(e=>{a[e]&&a[e].value&&(a[e].value=Math.round(a[e].value))});break;case"update_cta":c.forEach(e=>{a[e]&&(a[e].cta||(a[e].cta={}),a[e].cta.text=j)});break;case"change_category":c.forEach(e=>{a[e]&&(a[e].type=j)});break;case"set_priority":c.forEach(e=>{a[e]&&(a[e].priority=j)});break;case"capitalize":c.forEach(e=>{"string"==typeof a[e]&&(a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1).toLowerCase())});break;case"lowercase":c.forEach(e=>{"string"==typeof a[e]&&(a[e]=a[e].toLowerCase())})}r(a),h([]),g(""),v("")},disabled:!p||(null==W?void 0:W.requiresValue)&&!j,className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Ejecutar Operaci\xf3n"]}),(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>h([]),children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]}),W&&(0,t.jsxs)("p",{className:"text-sm text-blue-700 bg-blue-100 p-2 rounded",children:["ℹ️ ",W.description]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Total"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c.length}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Seleccionados"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:i-s.length}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Disponibles"})]})]})]})]})},B=e=>{let{statistics:s,onChange:a,iconPicker:r=!0,numberAnimation:i=!0}=e,[n,c]=(0,l.useState)(!1),[o,h]=(0,l.useState)([!1,!1,!1,!1]),[E,P]=(0,l.useState)(!1),D={Briefcase:{icon:p.A,label:"Malet\xedn (Proyectos)"},Users:{icon:g.A,label:"Usuarios (Clientes)"},UserCheck:{icon:j.A,label:"Usuario Check (Profesionales)"},Award:{icon:v.A,label:"Premio (A\xf1os/Logros)"},Building:{icon:b.A,label:"Edificio"},Target:{icon:f.A,label:"Objetivo"},TrendingUp:{icon:y.A,label:"Tendencia"},Zap:{icon:N.A,label:"Energ\xeda"}},M=(e,t,l)=>{let r=[...s];r[e]={...r[e],[t]:l},a(r)},R=e=>{let s=[...o];s[e]=!0,h(s),setTimeout(()=>{s[e]=!1,h(s)},1e3)},T=function(e){var s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h-8 w-8",l=(null==(s=D[e])?void 0:s.icon)||p.A;return(0,t.jsx)(l,{className:a})},L=e=>["text-blue-600","text-green-600","text-purple-600","text-orange-600"][e]||"text-gray-600";return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(y.A,{className:"h-5 w-5"}),"Editor de Estad\xedsticas Interactivo",(0,t.jsx)(u.E,{variant:"outline",children:"4 Stats"})]}),(0,t.jsx)(x.BT,{children:"Configure las 4 estad\xedsticas principales que se muestran en el hero. Grid visual 2x2."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>P(!E),className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),"Bulk Ops"]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>c(!n),className:"flex items-center gap-2",children:[n?(0,t.jsx)(k.A,{className:"h-4 w-4"}):(0,t.jsx)(C.A,{className:"h-4 w-4"}),n?"Editar":"Preview"]})]})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[n&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg border",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center mb-6 text-gray-800",children:"Vista Previa Grid 2x2"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 max-w-2xl mx-auto",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"text-center p-4 bg-white rounded-lg shadow-sm border transition-all duration-500 ".concat(o[s]?"scale-105 shadow-lg":"hover:shadow-md"),children:[(0,t.jsx)("div",{className:"flex justify-center mb-2 ".concat(L(s)),children:T(e.icon)}),(0,t.jsxs)("div",{className:"text-3xl font-bold mb-1 ".concat(L(s)," ").concat(o[s]?"animate-pulse":""),children:[e.value,e.suffix]}),(0,t.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-1",children:e.label}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]},e.id))})]}),!n&&(0,t.jsx)("div",{className:"space-y-6",children:s.map((e,s)=>{var a;return(0,t.jsxs)(x.Zp,{className:"border border-gray-200",children:[(0,t.jsx)(x.aR,{className:"pb-3",children:(0,t.jsxs)(x.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)("div",{className:L(s),children:T(e.icon,"h-5 w-5")}),(0,t.jsxs)("span",{children:["Estad\xedstica ",s+1]}),(0,t.jsx)(u.E,{variant:"secondary",children:e.id}),i&&(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>R(s),className:"ml-auto text-xs",children:"\uD83C\uDFAD Animar"})]})}),(0,t.jsxs)(x.Wu,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero/Valor *"}),(0,t.jsx)(m.p,{type:"number",value:e.value,onChange:e=>M(s,"value",Number(e.target.value)),min:0,max:9999,className:"text-2xl font-bold text-center"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sufijo (ej: +, M, K)"}),(0,t.jsx)(m.p,{value:e.suffix,onChange:e=>M(s,"suffix",e.target.value),placeholder:"+",maxLength:3})]}),r&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icono"}),(0,t.jsxs)(A.l6,{value:e.icon,onValueChange:e=>M(s,"icon",e),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[T(e.icon,"h-4 w-4"),(null==(a=D[e.icon])?void 0:a.label)||e.icon]})})}),(0,t.jsx)(A.gC,{children:Object.entries(D).map(e=>{let[s,a]=e;return(0,t.jsx)(A.eb,{value:s,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.icon,{className:"h-4 w-4"}),a.label]})},s)})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etiqueta Principal *"}),(0,t.jsx)(m.p,{value:e.label,onChange:e=>M(s,"label",e.target.value),placeholder:"ej: Proyectos, Clientes, A\xf1os...",maxLength:25}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.label.length,"/25 caracteres"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,t.jsx)(S.T,{value:e.description,onChange:e=>M(s,"description",e.target.value),placeholder:"Descripci\xf3n detallada de la estad\xedstica...",rows:3,maxLength:100}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.description.length,"/100 caracteres"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID (identificador)"}),(0,t.jsx)(m.p,{value:e.id,onChange:e=>M(s,"id",e.target.value),placeholder:"ej: projects, clients, years...",maxLength:20,disabled:!0,className:"bg-gray-50"})]})]})]})]},e.id)})}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#003F6F]",children:s.reduce((e,s)=>e+s.value,0)}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Suma Total"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#E84E0F]",children:Math.round(s.reduce((e,s)=>e+s.value,0)/s.length)}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Promedio"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>e.value>0&&e.label.length>0).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Completas"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(e=>e.icon)).size}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Iconos \xdanicos"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips para Estad\xedsticas Efectivas:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• Use n\xfameros redondos y f\xe1ciles de recordar (50+ en lugar de 47)"}),(0,t.jsx)("li",{children:'• Los sufijos como "+" o "M" hacen los n\xfameros m\xe1s impactantes'}),(0,t.jsx)("li",{children:"• Mantenga las etiquetas cortas pero descriptivas"}),(0,t.jsx)("li",{children:"• Use iconos que reflejen claramente cada estad\xedstica"}),(0,t.jsx)("li",{children:"• El orden importa: ponga las estad\xedsticas m\xe1s impresionantes primero"})]})]}),E&&(0,t.jsx)(_,{items:s,itemType:"statistics",onUpdate:a,maxItems:6})]})]})};var V=a(30462),O=a(18271),q=a(61840);let $=e=>{let{mainService:s,secondaryServices:a,onChange:r,imageUpload:i=!0,iconLibrary:n=!0}=e,[c,o]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),g=(e,t)=>{r({section:{title:"",subtitle:""},main_service:{...s,[e]:t},secondary_services:a})},j=(e,t,l)=>{let i=[...a];i[e]={...i[e],[t]:l},r({section:{title:"",subtitle:""},main_service:s,secondary_services:i})},v=e=>{let{service:s,isMain:a,index:l}=e;return(0,t.jsxs)("div",{className:"p-4 border rounded-lg transition-all duration-200 ".concat(a?"border-blue-300 bg-blue-50 ring-2 ring-blue-100":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,t.jsx)(V.A,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),(0,t.jsx)(u.E,{variant:a?"default":"secondary",children:a?"Principal":"Servicio ".concat((l||0)+2)})]}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(a?null:l||0),className:"h-6 w-6 p-0",children:(0,t.jsx)(O.A,{className:"h-3 w-3"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm line-clamp-1",children:s.title||"Sin t\xedtulo"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2",children:s.description||"Sin descripci\xf3n"}),s.image_url&&(0,t.jsx)("div",{className:"w-full h-20 bg-gray-100 rounded border overflow-hidden",children:(0,t.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["Imagen: ",s.image_url.split("/").pop()]})})}),s.cta&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[(0,t.jsx)(q.A,{className:"h-3 w-3"}),s.cta.text]})]})]})},b=e=>{var s,a,l,r;let{service:c,isMain:o,index:d}=e,h=(e,s)=>{o?g(e,s):void 0!==d&&j(d,e,s)},p=(e,s)=>{h("cta",{...c.cta,[e]:s})};return(0,t.jsxs)(x.Zp,{className:"mb-4",children:[(0,t.jsx)(x.aR,{className:"pb-3",children:(0,t.jsxs)(x.ZB,{className:"text-lg flex items-center gap-2",children:[o&&(0,t.jsx)(V.A,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"}),o?"Servicio Principal (DIP)":"Servicio Secundario ".concat((d||0)+2),(0,t.jsx)(u.E,{variant:o?"default":"outline",children:c.id})]})}),(0,t.jsx)(x.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo del Servicio *"}),(0,t.jsx)(m.p,{value:c.title,onChange:e=>h("title",e.target.value),placeholder:"ej: Direcci\xf3n Integral de Proyectos",maxLength:50}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(s=c.title)?void 0:s.length)||0,"/50"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n *"}),(0,t.jsx)(S.T,{value:c.description,onChange:e=>h("description",e.target.value),placeholder:"Describa los beneficios y alcance del servicio...",rows:4,maxLength:200}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(a=c.description)?void 0:a.length)||0,"/200"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Principal (URL)"}),(0,t.jsx)(m.p,{value:c.image_url||"",onChange:e=>h("image_url",e.target.value),placeholder:"https://ejemplo.com/imagen.jpg",type:"url"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Fallback (local)"}),(0,t.jsx)(m.p,{value:c.image_url_fallback||"",onChange:e=>h("image_url_fallback",e.target.value),placeholder:"/img/services/servicio.jpg"})]})]}),n&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icono (URL)"}),(0,t.jsx)(m.p,{value:c.icon_url||"",onChange:e=>h("icon_url",e.target.value),placeholder:"/img/ico-service-1.png"})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Call to Action (Opcional)"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.p,{value:(null==(l=c.cta)?void 0:l.text)||"",onChange:e=>p("text",e.target.value),placeholder:"Texto del bot\xf3n (ej: Conoce m\xe1s sobre DIP)",maxLength:30}),(0,t.jsx)(m.p,{value:(null==(r=c.cta)?void 0:r.url)||"",onChange:e=>p("url",e.target.value),placeholder:"URL de destino (ej: /services)"})]})]})]})]})})]})};return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(O.A,{className:"h-5 w-5"}),"Editor Visual de Servicios",(0,t.jsx)(u.E,{variant:"outline",children:"1 Principal + 4 Secundarios"})]}),(0,t.jsx)(x.BT,{children:"Configure el servicio principal (DIP) destacado y los 4 servicios secundarios."})]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>o(!c),className:"flex items-center gap-2",children:[c?(0,t.jsx)(k.A,{className:"h-4 w-4"}):(0,t.jsx)(C.A,{className:"h-4 w-4"}),c?"Editar":"Preview"]})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[c&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-gray-50 p-6 rounded-lg border",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center mb-6 text-gray-800",children:"Vista Previa: Servicio Principal + Grid 2x2"}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(v,{service:s,isMain:!0})}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.map((e,s)=>(0,t.jsx)(v,{service:e,isMain:!1,index:s},e.id))})]}),!c&&(0,t.jsxs)("div",{className:"space-y-6",children:[null==h&&(0,t.jsx)(b,{service:s,isMain:!0}),a.map((e,s)=>(h===s||null===h)&&(0,t.jsx)(b,{service:e,isMain:!1,index:s},e.id)),null!==h&&(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>p(null),children:"Ver Principal"}),a.map((e,s)=>(0,t.jsxs)(d.$,{type:"button",variant:h===s?"default":"outline",size:"sm",onClick:()=>p(s),children:["Servicio ",s+2]},s)),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(null),children:"Ver Todos"})]})]}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#003F6F]",children:"5"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Total Servicios"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#E84E0F]",children:[s,...a].filter(e=>e.title&&e.description).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Completos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:[s,...a].filter(e=>{var s,a;return(null==(s=e.cta)?void 0:s.text)&&(null==(a=e.cta)?void 0:a.url)}).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Con CTA"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:[s,...a].filter(e=>e.image_url).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Con Imagen"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips para Servicios Efectivos:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Principal:"})," DIP debe destacar claramente sus beneficios \xfanicos"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"T\xedtulos:"})," Mantenga t\xedtulos concisos y descriptivos (m\xe1ximo 50 chars)"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Descripciones:"})," Enfoque en beneficios, no solo caracter\xedsticas"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"CTAs:"}),' Use verbos de acci\xf3n espec\xedficos ("Conoce m\xe1s", "Solicita consulta")']}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Im\xe1genes:"})," Use fotos reales de proyectos cuando sea posible"]})]})]})]})]})};var Z=a(36170);let W=e=>{let{projects:s,onChange:a,categories:r=["Sanitaria","Educativa","Vial","Saneamiento","Industrial","Comercial"],imageUpload:i=!0}=e,[n,o]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[g,j]=(0,l.useState)(!1),v=(e,t,l)=>{let r=[...s];r[e]={...r[e],[t]:l},a(r)},b=(e,s)=>{p(s),e.dataTransfer.effectAllowed="move"},f=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},y=(e,t)=>{if(e.preventDefault(),null===h||h===t)return void p(null);let l=[...s],r=l[h];l.splice(h,1),l.splice(t,0,r),a(l),p(null)},N=e=>({Sanitaria:"bg-red-100 text-red-800",Educativa:"bg-blue-100 text-blue-800",Vial:"bg-yellow-100 text-yellow-800",Saneamiento:"bg-green-100 text-green-800",Industrial:"bg-purple-100 text-purple-800",Comercial:"bg-orange-100 text-orange-800"})[e]||"bg-gray-100 text-gray-800",E=e=>{var s;let{project:a,index:l}=e;return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"w-full h-32 bg-gradient-to-br from-blue-100 to-purple-100 relative overflow-hidden",children:[a.image_url?(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["\uD83D\uDCF8 ",null==(s=a.image_url.split("/").pop())?void 0:s.substring(0,20),"..."]})}):(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Sin imagen"})}),(0,t.jsx)(u.E,{className:"absolute top-2 left-2 ".concat(N(a.type)),children:a.type}),(0,t.jsxs)(u.E,{variant:"secondary",className:"absolute top-2 right-2",children:["#",l+1]})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-2 line-clamp-2 min-h-[2.5rem]",children:a.name||"Proyecto sin nombre"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 line-clamp-3 min-h-[3rem]",children:a.description||"Sin descripci\xf3n disponible"})]})]})},P=e=>{var s,a;let{project:l,index:n}=e;return(0,t.jsxs)(x.Zp,{draggable:!0,onDragStart:e=>b(e,n),onDragOver:f,onDrop:e=>y(e,n),className:"transition-all duration-200 ".concat(h===n?"opacity-50 border-blue-300":"hover:border-gray-300"),children:[(0,t.jsx)(x.aR,{className:"pb-3",children:(0,t.jsxs)(x.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-400 cursor-grab active:cursor-grabbing"}),(0,t.jsxs)("span",{children:["Proyecto Destacado ",n+1]}),(0,t.jsx)(u.E,{variant:"outline",children:l.id}),(0,t.jsx)(u.E,{className:N(l.type),children:l.type})]})}),(0,t.jsx)(x.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Proyecto *"}),(0,t.jsx)(m.p,{value:l.name,onChange:e=>v(n,"name",e.target.value),placeholder:"ej: Hospital Nacional de Alta Complejidad",maxLength:80}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(s=l.name)?void 0:s.length)||0,"/80"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda *"}),(0,t.jsxs)(A.l6,{value:l.type,onValueChange:e=>v(n,"type",e),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{placeholder:"Seleccionar categor\xeda",children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(u.E,{className:N(l.type),variant:"secondary",children:l.type})})})}),(0,t.jsx)(A.gC,{children:r.map(e=>(0,t.jsx)(A.eb,{value:e,children:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(u.E,{className:N(e),variant:"secondary",children:e})})},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID del Proyecto"}),(0,t.jsx)(m.p,{value:l.id,onChange:e=>v(n,"id",e.target.value),placeholder:"ej: hospital-nacional",maxLength:30,disabled:!0,className:"bg-gray-50"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n del Proyecto *"}),(0,t.jsx)(S.T,{value:l.description,onChange:e=>v(n,"description",e.target.value),placeholder:"Describa el alcance, beneficiarios y logros del proyecto...",rows:4,maxLength:250}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(a=l.description)?void 0:a.length)||0,"/250"]})]}),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Principal (URL)"}),(0,t.jsx)(m.p,{value:l.image_url||"",onChange:e=>v(n,"image_url",e.target.value),placeholder:"https://metrica-dip.com/images/proyecto.jpg",type:"url"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Fallback (local)"}),(0,t.jsx)(m.p,{value:l.image_url_fallback||"",onChange:e=>v(n,"image_url_fallback",e.target.value),placeholder:"/img/portfolio/proyecto.jpg"})]})]})]})]})})]},l.id)};return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.A,{className:"h-5 w-5"}),"Portfolio Project Manager",(0,t.jsxs)(u.E,{variant:"outline",children:[s.length," Proyectos"]})]}),(0,t.jsxs)(x.BT,{children:["Gestione los ",s.length," proyectos destacados del portfolio. Arrastre para reordenar."]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>j(!g),className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-4 w-4"}),"Bulk Ops"]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>o(!n),className:"flex items-center gap-2",children:[n?(0,t.jsx)(k.A,{className:"h-4 w-4"}):(0,t.jsx)(C.A,{className:"h-4 w-4"}),n?"Editar":"Preview"]})]})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[n&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 p-6 rounded-lg border",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center mb-6 text-gray-800",children:"Vista Previa: Proyectos Destacados"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:s.map((e,s)=>(0,t.jsx)(E,{project:e,index:s},e.id))})]}),!n&&(0,t.jsx)("div",{className:"space-y-6",children:s.map((e,s)=>(0,t.jsx)(P,{project:e,index:s},e.id))}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Distribuci\xf3n por Categor\xeda:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>{let a=s.filter(s=>s.type===e).length;return a>0?(0,t.jsxs)(u.E,{className:N(e),variant:"secondary",children:[e,": ",a]},e):null})})]}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#003F6F]",children:s.length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Total Proyectos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#E84E0F]",children:s.filter(e=>e.name&&e.description&&e.type).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Completos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>e.image_url||e.image_url_fallback).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Con Imagen"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(e=>e.type)).size}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Categor\xedas"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips para Proyectos Destacados:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Nombres:"})," Use nombres oficiales completos de proyectos"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Variedad:"})," Incluya diferentes categor\xedas para mostrar versatilidad"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Descripciones:"})," Destaque el impacto y beneficiarios del proyecto"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Orden:"})," Los proyectos m\xe1s importantes van primero (arrastre para reordenar)"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Im\xe1genes:"})," Use fotos reales de los proyectos terminados"]})]})]}),g&&(0,t.jsx)(_,{items:s,itemType:"projects",onUpdate:a,maxItems:8})]})]})};var G=a(81710),J=a(16736),X=a(42302),K=a(24334),H=a(83173);let Y=e=>{let{pillars:s,onChange:a,maxPillars:r=8,iconLibrary:i=!0,imageUpload:n=!0}=e,[c,o]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),g={Compass:{icon:G.A,label:"Br\xfajula (Planificaci\xf3n)",color:"text-blue-600"},Network:{icon:J.A,label:"Red (Coordinaci\xf3n)",color:"text-green-600"},ScanSearch:{icon:X.A,label:"Supervisi\xf3n",color:"text-purple-600"},ChartBar:{icon:K.A,label:"Control de Calidad",color:"text-orange-600"},AlertTriangle:{icon:L.A,label:"Gesti\xf3n de Riesgos",color:"text-red-600"},Building2:{icon:H.A,label:"Representaci\xf3n",color:"text-indigo-600"}},j=(e,t,l)=>{let r=[...s];r[e]={...r[e],[t]:l},a(r)},v=function(e){var s,a;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h-8 w-8",r=(null==(s=g[e])?void 0:s.icon)||G.A,i=(null==(a=g[e])?void 0:a.color)||"text-gray-600";return(0,t.jsx)(r,{className:"".concat(l," ").concat(i)})},b=e=>{var s;let{pillar:a,index:l}=e;return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:v(a.icon,"h-6 w-6")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)(u.E,{variant:"secondary",className:"text-xs mb-1",children:["Pilar ",a.id]}),(0,t.jsx)("h4",{className:"font-semibold text-sm line-clamp-1",children:a.title||"Sin t\xedtulo"})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 line-clamp-3 mb-3 min-h-[3rem]",children:a.description||"Sin descripci\xf3n"}),a.image&&(0,t.jsx)("div",{className:"w-full h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded border overflow-hidden",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["\uD83D\uDCF8 ",null==(s=a.image.split("/").pop())?void 0:s.substring(0,15),"..."]})})})]})},f=e=>{var s,a,l;let{pillar:c,index:o}=e;return(0,t.jsxs)(x.Zp,{className:"border border-gray-200",children:[(0,t.jsx)(x.aR,{className:"pb-3",children:(0,t.jsxs)(x.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)("div",{children:v(c.icon,"h-5 w-5")}),(0,t.jsxs)("span",{children:["Pilar ",c.id,": ",c.title||"Sin t\xedtulo"]}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(h===o?null:o),className:"ml-auto",children:h===o?"Colapsar":"Expandir"})]})}),h===o&&(0,t.jsx)(x.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo del Pilar *"}),(0,t.jsx)(m.p,{value:c.title,onChange:e=>j(o,"title",e.target.value),placeholder:"ej: Planificaci\xf3n Estrat\xe9gica",maxLength:40}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(s=c.title)?void 0:s.length)||0,"/40"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n *"}),(0,t.jsx)(S.T,{value:c.description,onChange:e=>j(o,"description",e.target.value),placeholder:"Describa el pilar y su importancia en DIP...",rows:4,maxLength:200}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(a=c.description)?void 0:a.length)||0,"/200"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID del Pilar"}),(0,t.jsx)(m.p,{value:c.id,onChange:e=>j(o,"id",Number(e.target.value)),type:"number",min:1,max:r,disabled:!0,className:"bg-gray-50"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icono del Pilar"}),(0,t.jsxs)(A.l6,{value:c.icon,onValueChange:e=>j(o,"icon",e),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[v(c.icon,"h-4 w-4"),(null==(l=g[c.icon])?void 0:l.label)||c.icon]})})}),(0,t.jsx)(A.gC,{children:Object.entries(g).map(e=>{let[s,a]=e;return(0,t.jsx)(A.eb,{value:s,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.icon,{className:"h-4 w-4 ".concat(a.color)}),a.label]})},s)})})]})]}),n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Principal (URL)"}),(0,t.jsx)(m.p,{value:c.image,onChange:e=>j(o,"image",e.target.value),placeholder:"https://metrica-dip.com/images/pilar.jpg",type:"url"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Fallback (local)"}),(0,t.jsx)(m.p,{value:c.image_fallback,onChange:e=>j(o,"image_fallback",e.target.value),placeholder:"/img/pillars/pilar.jpg"})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Vista previa:"}),(0,t.jsx)(b,{pillar:c,index:o})]})]})]})})]})};return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(G.A,{className:"h-5 w-5"}),"Pillars DIP Editor",(0,t.jsxs)(u.E,{variant:"outline",children:[s.length," Pilares"]})]}),(0,t.jsxs)(x.BT,{children:["Configure los ",s.length," pilares fundamentales de la Direcci\xf3n Integral de Proyectos."]})]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>o(!c),className:"flex items-center gap-2",children:[c?(0,t.jsx)(k.A,{className:"h-4 w-4"}):(0,t.jsx)(C.A,{className:"h-4 w-4"}),c?"Editar":"Preview"]})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[c&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-lg border",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-center mb-6 text-gray-800",children:["Vista Previa: Los ",s.length," Pilares DIP"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((e,s)=>(0,t.jsx)(b,{pillar:e,index:s},e.id))})]}),!c&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>p(null===h?0:null),children:null===h?"Expandir Primero":"Colapsar Todos"}),(0,t.jsx)("div",{className:"flex gap-1",children:s.map((e,s)=>(0,t.jsx)(d.$,{type:"button",variant:h===s?"default":"ghost",size:"sm",onClick:()=>p(s),className:"w-8 h-8 p-0",children:s+1},s))})]}),s.map((e,s)=>(0,t.jsx)(f,{pillar:e,index:s},e.id))]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Estado de los Pilares:"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[v(e.icon,"h-3 w-3"),(0,t.jsxs)("span",{className:e.title&&e.description?"text-green-600":"text-red-500",children:["Pilar ",e.id,": ",e.title&&e.description?"✓":"⚠"]})]},e.id))})]}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#003F6F]",children:s.length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Total Pilares"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#E84E0F]",children:s.filter(e=>e.title&&e.description).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Completos"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>e.image||e.image_fallback).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Con Imagen"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(e=>e.icon)).size}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Iconos \xdanicos"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips para Pilares DIP Efectivos:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Consistencia:"})," Mantenga un estilo y tono similar en todos los pilares"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Claridad:"})," Use t\xedtulos concisos que comuniquen el valor inmediatamente"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Beneficios:"})," Enfoque en c\xf3mo cada pilar beneficia al cliente"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Iconos:"})," Cada pilar debe tener un icono \xfanico y representativo"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Orden:"})," Los pilares m\xe1s importantes van primero"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Im\xe1genes:"})," Use fotos reales de equipos trabajando cuando sea posible"]})]})]})]})]})};var Q=a(45731),ee=a(53838),es=a(68098),ea=a(89876),et=a(11133),el=a(17569),er=a(31573);let ei=e=>{let{policies:s,onChange:a,maxPolicies:r=12,templates:i}=e,[n,c]=(0,l.useState)(!1),[o,h]=(0,l.useState)(null),p={Award:{icon:v.A,label:"Premio (Calidad)",color:"text-yellow-600"},Shield:{icon:Q.A,label:"Escudo (Seguridad)",color:"text-green-600"},Leaf:{icon:ee.A,label:"Hoja (Medio Ambiente)",color:"text-green-500"},Heart:{icon:es.A,label:"Coraz\xf3n (Responsabilidad Social)",color:"text-red-500"},Scale:{icon:ea.A,label:"Balanza (\xc9tica)",color:"text-purple-600"},AlertCircle:{icon:et.A,label:"Alerta (Gesti\xf3n de Riesgos)",color:"text-orange-600"},Lightbulb:{icon:el.A,label:"Bombilla (Innovaci\xf3n)",color:"text-blue-500"},Lock:{icon:er.A,label:"Candado (Confidencialidad)",color:"text-gray-600"}},g={calidad:{title:"Pol\xedtica de Calidad",description:"Compromiso con la excelencia en cada proyecto, superando las expectativas de nuestros clientes.",icon:"Award"},seguridad:{title:"Pol\xedtica de Seguridad y Salud en el Trabajo",description:"Priorizamos la seguridad de nuestros trabajadores con protocolos estrictos y capacitaci\xf3n continua.",icon:"Shield"},ambiente:{title:"Pol\xedtica de Medio Ambiente",description:"Construimos de manera sostenible, minimizando el impacto ambiental en cada etapa del proyecto.",icon:"Leaf"},social:{title:"Pol\xedtica de Responsabilidad Social",description:"Contribuimos al desarrollo de las comunidades donde operamos, generando valor compartido.",icon:"Heart"},...i},j=(e,t,l)=>{let r=[...s];r[e]={...r[e],[t]:l},a(r)},b=(e,s)=>{let a=g[s];a&&Object.entries(a).forEach(s=>{let[a,t]=s;j(e,a,t)})},f=function(e){var s,a;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h-8 w-8",r=(null==(s=p[e])?void 0:s.icon)||v.A,i=(null==(a=p[e])?void 0:a.color)||"text-gray-600";return(0,t.jsx)(r,{className:"".concat(l," ").concat(i)})},y=e=>e<3?"Alta":e<6?"Media":"Baja",N=e=>{switch(e){case"Alta":return"bg-red-100 text-red-800";case"Media":return"bg-yellow-100 text-yellow-800";case"Baja":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=e=>{var s;let{policy:a,index:l}=e,r=y(l);return(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:f(a.icon,"h-6 w-6")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)(u.E,{variant:"secondary",className:"text-xs mb-1",children:["Pol\xedtica ",a.id]}),(0,t.jsx)(u.E,{className:"text-xs ml-2 ".concat(N(r)),children:r})]})]})}),(0,t.jsx)("h4",{className:"font-semibold text-sm mb-2 line-clamp-2 min-h-[2.5rem]",children:a.title||"Sin t\xedtulo"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 line-clamp-3 min-h-[3rem]",children:a.description||"Sin descripci\xf3n"}),a.image&&(0,t.jsx)("div",{className:"w-full h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded border overflow-hidden mt-3",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["\uD83D\uDCF8 ",null==(s=a.image.split("/").pop())?void 0:s.substring(0,15),"..."]})})})]})},E=e=>{var s,a,l;let{policy:i,index:n}=e,c=y(n);return(0,t.jsxs)(x.Zp,{className:"border border-gray-200",children:[(0,t.jsx)(x.aR,{className:"pb-3",children:(0,t.jsxs)(x.ZB,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)("div",{children:f(i.icon,"h-5 w-5")}),(0,t.jsxs)("span",{children:["Pol\xedtica ",i.id,": ",i.title||"Sin t\xedtulo"]}),(0,t.jsxs)(u.E,{className:N(c),children:["Prioridad ",c]}),(0,t.jsx)(d.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(o===n?null:n),className:"ml-auto",children:o===n?"Colapsar":"Editar"})]})}),o===n&&(0,t.jsxs)(x.Wu,{className:"space-y-4",children:[Object.keys(g).length>0&&(0,t.jsxs)("div",{className:"border-b pb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aplicar Template:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(g).map(e=>{var s;let[a,l]=e;return(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>b(n,a),className:"text-xs",children:(null==(s=l.title)?void 0:s.substring(0,20))||a},a)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo de la Pol\xedtica *"}),(0,t.jsx)(m.p,{value:i.title,onChange:e=>j(n,"title",e.target.value),placeholder:"ej: Pol\xedtica de Calidad",maxLength:50}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(s=i.title)?void 0:s.length)||0,"/50"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n *"}),(0,t.jsx)(S.T,{value:i.description,onChange:e=>j(n,"description",e.target.value),placeholder:"Describa el compromiso y alcance de la pol\xedtica...",rows:4,maxLength:250}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==(a=i.description)?void 0:a.length)||0,"/250"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID de la Pol\xedtica"}),(0,t.jsx)(m.p,{value:i.id,onChange:e=>j(n,"id",Number(e.target.value)),type:"number",min:1,max:r,disabled:!0,className:"bg-gray-50"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icono de la Pol\xedtica"}),(0,t.jsxs)(A.l6,{value:i.icon,onValueChange:e=>j(n,"icon",e),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[f(i.icon,"h-4 w-4"),(null==(l=p[i.icon])?void 0:l.label)||i.icon]})})}),(0,t.jsx)(A.gC,{children:Object.entries(p).map(e=>{let[s,a]=e;return(0,t.jsx)(A.eb,{value:s,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.icon,{className:"h-4 w-4 ".concat(a.color)}),a.label]})},s)})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Principal (URL)"}),(0,t.jsx)(m.p,{value:i.image,onChange:e=>j(n,"image",e.target.value),placeholder:"https://metrica-dip.com/images/politica.jpg",type:"url"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imagen Fallback (local)"}),(0,t.jsx)(m.p,{value:i.image_fallback,onChange:e=>j(n,"image_fallback",e.target.value),placeholder:"/img/policies/politica.jpg"})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Vista previa:"}),(0,t.jsx)(w,{policy:i,index:n})]})]})]})]})]})};return(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.A,{className:"h-5 w-5"}),"Policies Manager",(0,t.jsxs)(u.E,{variant:"outline",children:[s.length," Pol\xedticas"]})]}),(0,t.jsxs)(x.BT,{children:["Gestione las ",s.length," pol\xedticas empresariales de la organizaci\xf3n. Las 3 primeras tienen alta prioridad."]})]}),(0,t.jsxs)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>c(!n),className:"flex items-center gap-2",children:[n?(0,t.jsx)(k.A,{className:"h-4 w-4"}):(0,t.jsx)(C.A,{className:"h-4 w-4"}),n?"Editar":"Preview"]})]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[n&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-purple-50 p-6 rounded-lg border",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center mb-6 text-gray-800",children:"Vista Previa: Pol\xedticas Empresariales"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((e,s)=>(0,t.jsx)(w,{policy:e,index:s},e.id))})]}),!n&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:()=>h(null===o?0:null),children:null===o?"Editar Primera":"Ver Todas"}),(0,t.jsx)("div",{className:"flex gap-1",children:s.map((e,s)=>{let a=y(s);return(0,t.jsx)(d.$,{type:"button",variant:o===s?"default":"ghost",size:"sm",onClick:()=>h(s),className:"w-8 h-8 p-0 ".concat("Alta"===a?"border-red-300":""),children:s+1},s)})})]}),s.map((e,s)=>(0,t.jsx)(E,{policy:e,index:s},e.id))]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Distribuci\xf3n por Prioridad:"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(u.E,{className:"bg-red-100 text-red-800",children:["Alta Prioridad: ",s.slice(0,3).filter(e=>e.title&&e.description).length,"/3"]}),(0,t.jsxs)(u.E,{className:"bg-yellow-100 text-yellow-800",children:["Media Prioridad: ",s.slice(3,6).filter(e=>e.title&&e.description).length,"/3"]}),(0,t.jsxs)(u.E,{className:"bg-green-100 text-green-800",children:["Baja Prioridad: ",s.slice(6).filter(e=>e.title&&e.description).length,"/",s.length-6]})]})]}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#003F6F]",children:s.length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Total Pol\xedticas"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-[#E84E0F]",children:s.filter(e=>e.title&&e.description).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Completas"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>e.image||e.image_fallback).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Con Imagen"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:new Set(s.map(e=>e.icon)).size}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Iconos \xdanicos"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips para Pol\xedticas Empresariales:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Prioridad:"})," Las primeras 3 pol\xedticas son de alta prioridad (aparecen primero)"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Consistencia:"})," Use un tono profesional y comprometido en todas"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Especificidad:"})," Sea espec\xedfico sobre el compromiso de la empresa"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Templates:"})," Use los templates para mantener consistencia"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Iconos:"})," Cada pol\xedtica debe tener un icono representativo \xfanico"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Actualizaci\xf3n:"})," Revise y actualice las pol\xedticas regularmente"]})]})]})]})]})};var en=a(95120),ec=a(65134),eo=a(95633),ed=a(67554),em=a(54165);let ex=e=>{let{isOpen:s,data:a,onClose:r,component:i="HomePage",title:n="Preview en Tiempo Real"}=e,[c,m]=(0,l.useState)("desktop"),[h,p]=(0,l.useState)(!1),[g,j]=(0,l.useState)(null),[v,b]=(0,l.useState)(null),f={desktop:{width:"100%",height:"600px",icon:en.A,label:"Desktop"},tablet:{width:"768px",height:"1024px",icon:ec.A,label:"Tablet"},mobile:{width:"375px",height:"667px",icon:eo.A,label:"Mobile"}};(0,l.useEffect)(()=>{s&&a&&y()},[s,a]);let y=async()=>{p(!0),b(null);try{let e=await fetch("/api/admin/pages/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({component:i,data:a,timestamp:Date.now()})});if(!e.ok)throw Error("Error ".concat(e.status,": ").concat(e.statusText));let s=await e.json();j(s.previewUrl)}catch(e){b(e instanceof Error?e.message:"Error desconocido al generar preview"),console.error("Preview generation error:",e)}finally{p(!1)}},N=()=>{y()},w=e=>{let{deviceType:s,size:a,icon:l,label:r}=e;return(0,t.jsxs)(d.$,{variant:c===s?"default":"outline",size:"sm",onClick:()=>m(s),className:"flex items-center gap-2",children:[(0,t.jsx)(l,{className:"h-4 w-4"}),r]})};return(0,t.jsx)(em.lG,{open:s,onOpenChange:r,children:(0,t.jsxs)(em.Cf,{className:"max-w-7xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(em.c7,{children:[(0,t.jsxs)(em.L3,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),n,(0,t.jsx)(u.E,{variant:"secondary",children:i})]}),(0,t.jsx)(em.rr,{children:"Preview en tiempo real de los cambios sin guardar. Los datos se renderizan temporalmente."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,t.jsx)("div",{className:"flex gap-2",children:Object.entries(f).map(e=>{let[s,a]=e;return(0,t.jsx)(w,{deviceType:s,size:a,icon:a.icon,label:a.label},s)})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{onClick:N,variant:"outline",size:"sm",children:[(0,t.jsx)(ed.A,{className:"h-4 w-4 mr-2"}),"Actualizar"]}),(0,t.jsxs)(d.$,{onClick:()=>{g&&window.open(g,"_blank")},variant:"outline",size:"sm",disabled:!g,children:[(0,t.jsx)(q.A,{className:"h-4 w-4 mr-2"}),"Abrir"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(()=>{if(h)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(ed.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Generando preview..."})]})});if(v)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96 bg-red-50 rounded-lg border border-red-200",children:(0,t.jsxs)("div",{className:"text-center p-6",children:[(0,t.jsx)(o.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error en Preview"}),(0,t.jsx)("p",{className:"text-red-600 mb-4",children:v}),(0,t.jsxs)(d.$,{onClick:N,variant:"outline",size:"sm",children:[(0,t.jsx)(ed.A,{className:"h-4 w-4 mr-2"}),"Reintentar"]})]})});if(!g)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(C.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No se pudo generar el preview"})]})});let e=f[c];return(0,t.jsx)("div",{className:"flex justify-center p-4 bg-gray-100 rounded-lg min-h-96",children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border transition-all duration-300",style:{width:"desktop"===c?"100%":e.width,height:e.height,maxWidth:"100%"},children:(0,t.jsx)("iframe",{src:g,className:"w-full h-full border-0",title:"Preview - ".concat(i),sandbox:"allow-same-origin allow-scripts allow-forms"})})})},{}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:c}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Dispositivo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:g?"Activo":"Inactivo"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Estado"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(a||{}).length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Campos"})]})]}),(0,t.jsxs)("details",{className:"border rounded-lg",children:[(0,t.jsx)("summary",{className:"p-3 cursor-pointer font-medium text-gray-700 hover:bg-gray-50",children:"\uD83D\uDD0D Inspeccionar Datos del Preview"}),(0,t.jsx)(()=>(0,t.jsx)(x.Zp,{className:"mt-4",children:(0,t.jsxs)(x.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Datos del Preview"}),(0,t.jsxs)(u.E,{variant:"outline",children:[Object.keys(a||{}).length," campos"]})]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded p-3 text-xs font-mono max-h-32 overflow-y-auto",children:(0,t.jsx)("pre",{className:"text-gray-700 whitespace-pre-wrap",children:JSON.stringify(a,null,2)})})]})}),{})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Tips del Preview:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Tiempo Real:"})," El preview se actualiza autom\xe1ticamente al abrir"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Sin Guardar:"})," Los cambios no afectan la versi\xf3n publicada"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Responsive:"})," Pruebe en diferentes dispositivos"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Nueva Pesta\xf1a:"}),' Use "Abrir" para una vista completa']})]})]})]})})};var eu=a(50594),eh=a(8376),ep=a(79556),eg=a(73158),ej=a(24944);let ev=e=>{let{validationResult:s,isValidating:a,onApplyAutoFix:r,onValidate:i,compact:n=!1}=e,[c,o]=(0,l.useState)({suggestions:!0,errors:!0,warnings:!1,infos:!1});if(!s)return(0,t.jsx)(x.Zp,{className:"border-gray-200",children:(0,t.jsxs)(x.Wu,{className:"text-center py-8",children:[(0,t.jsx)(f.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Validaci\xf3n no disponible"})]})});let{rules:m=[],score:h=100,suggestions:p=[],autoFixes:g={}}=s,j={error:m.filter(e=>"error"===e.severity),warning:m.filter(e=>"warning"===e.severity),info:m.filter(e=>"info"===e.severity),success:m.filter(e=>"success"===e.severity)},v=e=>{o(s=>({...s,[e]:!s[e]}))},b=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",y=e=>e>=80?"bg-green-50 border-green-200":e>=60?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200",w=e=>{switch(e){case"error":return(0,t.jsx)(et.A,{className:"h-4 w-4 text-red-500"});case"warning":return(0,t.jsx)(L.A,{className:"h-4 w-4 text-yellow-500"});case"info":return(0,t.jsx)(eu.A,{className:"h-4 w-4 text-blue-500"});case"success":return(0,t.jsx)(eh.A,{className:"h-4 w-4 text-green-500"});default:return null}},k=e=>{let{rule:s}=e;return(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:w(s.severity)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(u.E,{variant:"outline",className:"text-xs",children:s.field.split(".").pop()}),(0,t.jsx)("span",{className:"text-xs text-gray-500 capitalize",children:s.type})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-800 mb-1",children:s.message}),s.suggestion&&(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["\uD83D\uDCA1 ",s.suggestion]}),s.autoFix&&r&&(0,t.jsxs)(d.$,{type:"button",size:"sm",variant:"ghost",onClick:()=>r(s.field,s.autoFix),className:"mt-2 h-6 text-xs",children:[(0,t.jsx)(T.A,{className:"h-3 w-3 mr-1"}),"Auto-corregir"]})]})]})},C=e=>{let{severity:s,rules:a,title:l,icon:r}=e;if(0===a.length)return null;let i=c[s];return(0,t.jsxs)("div",{className:"border rounded-lg",children:[(0,t.jsxs)("button",{onClick:()=>v(s),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[r,(0,t.jsx)("span",{className:"font-medium",children:l}),(0,t.jsx)(u.E,{variant:"secondary",children:a.length})]}),i?(0,t.jsx)(ep.A,{className:"h-4 w-4"}):(0,t.jsx)(eg.A,{className:"h-4 w-4"})]}),i&&(0,t.jsx)("div",{className:"border-t p-3 space-y-3",children:a.map((e,s)=>(0,t.jsx)(k,{rule:e},s))})]})};return n?(0,t.jsx)(x.Zp,{className:"".concat(y(h)," border-2"),children:(0,t.jsx)(x.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold ".concat(b(h)),children:h}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Score"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[j.error.length>0&&(0,t.jsxs)(u.E,{variant:"destructive",className:"mr-1",children:[j.error.length," errores"]}),j.warning.length>0&&(0,t.jsxs)(u.E,{className:"bg-yellow-500 hover:bg-yellow-600 mr-1",children:[j.warning.length," avisos"]})]})]}),i&&(0,t.jsx)(d.$,{type:"button",variant:"outline",size:"sm",onClick:i,disabled:a,children:a?(0,t.jsx)(ed.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(f.A,{className:"h-4 w-4"})})]})})}):(0,t.jsxs)(x.Zp,{children:[(0,t.jsxs)(x.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-5 w-5"}),"Validaci\xf3n Inteligente"]}),(0,t.jsx)(x.BT,{children:"An\xe1lisis en tiempo real con sugerencias de mejora"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-center px-3 py-2 rounded-lg ".concat(y(h)," border-2"),children:[(0,t.jsx)("div",{className:"text-xl font-bold ".concat(b(h)),children:h}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Score"})]}),i&&(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:i,disabled:a,size:"sm",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ed.A,{className:"h-4 w-4 animate-spin mr-2"}),"Validando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Validar"]})})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Calidad del Contenido"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[h,"/100"]})]}),(0,t.jsx)(ej.k,{value:h,className:"h-2"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,t.jsx)(et.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsxs)("span",{children:[j.error.length," errores"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,t.jsx)(L.A,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsxs)("span",{children:[j.warning.length," avisos"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4 text-blue-500"}),(0,t.jsxs)("span",{children:[j.info.length," sugerencias"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,t.jsx)(eh.A,{className:"h-4 w-4 text-green-500"}),(0,t.jsxs)("span",{children:[j.success.length," aciertos"]})]})]})]}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[p.length>0&&(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(el.A,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)("h4",{className:"font-medium text-blue-900",children:"Sugerencias Principales"})]}),(0,t.jsx)("ul",{className:"space-y-2",children:p.slice(0,3).map((e,s)=>(0,t.jsxs)("li",{className:"text-sm text-blue-800 flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-blue-600 mt-1",children:"•"}),(0,t.jsx)("span",{children:e})]},s))})]}),Object.keys(g).length>0&&r&&(0,t.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-5 w-5 text-purple-600"}),(0,t.jsx)("h4",{className:"font-medium text-purple-900",children:"Correcciones Autom\xe1ticas"}),(0,t.jsx)(u.E,{variant:"secondary",children:Object.keys(g).length})]})}),(0,t.jsx)("p",{className:"text-sm text-purple-800 mb-3",children:"Hay correcciones autom\xe1ticas disponibles para algunos campos."})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(C,{severity:"errors",rules:j.error,title:"Errores Cr\xedticos",icon:(0,t.jsx)(et.A,{className:"h-4 w-4 text-red-500"})}),(0,t.jsx)(C,{severity:"warnings",rules:j.warning,title:"Avisos Importantes",icon:(0,t.jsx)(L.A,{className:"h-4 w-4 text-yellow-500"})}),(0,t.jsx)(C,{severity:"infos",rules:j.info,title:"Sugerencias de Mejora",icon:(0,t.jsx)(eu.A,{className:"h-4 w-4 text-blue-500"})}),(0,t.jsx)(C,{severity:"success",rules:j.success,title:"Aspectos Positivos",icon:(0,t.jsx)(eh.A,{className:"h-4 w-4 text-green-500"})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCA1 Consejos de Validaci\xf3n:"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• La validaci\xf3n se ejecuta autom\xe1ticamente al escribir"}),(0,t.jsx)("li",{children:"• Los errores cr\xedticos deben corregirse antes de publicar"}),(0,t.jsx)("li",{children:"• Las sugerencias mejoran SEO y experiencia de usuario"}),(0,t.jsx)("li",{children:"• Use las correcciones autom\xe1ticas cuando est\xe9n disponibles"})]})]})]})]})};var eb=a(79311),ef=a(16923),ey=a(45481),eN=a(98921),ew=a(15300),ek=a(2448),eC=a(10518),eA=a(32773),eS=a(75074),eE=a(29471),eP=a(34214),eD=a(50172),eM=a(86318),eR=a(17313);let eT=e=>{let{onSelect:s,onMultiSelect:a,allowUpload:r=!0,allowExternal:i=!0,filters:n=["images","videos","documents"],categories:c=["hero","services","portfolio","pillars","policies","general"],optimization:h=!0,multiple:p=!1,maxFileSize:g=10,acceptedTypes:j=["image/*","video/*","audio/*",".pdf",".doc",".docx"],isOpen:v=!0,onClose:b}=e,[f,y]=(0,l.useState)([]),[N,w]=(0,l.useState)([]),[k,S]=(0,l.useState)("grid"),[P,D]=(0,l.useState)(""),[M,R]=(0,l.useState)("all"),[T,L]=(0,l.useState)("all"),[I,z]=(0,l.useState)(!1),[U,F]=(0,l.useState)(0),[_,B]=(0,l.useState)(""),[V,O]=(0,l.useState)(!1),q=(0,l.useRef)(null);l.useEffect(()=>{y([{id:"1",name:"hero-background.jpg",url:"/images/hero-bg.jpg",type:"image",size:2621440,category:"hero",uploadedAt:"2024-01-15T10:30:00Z",dimensions:{width:1920,height:1080},optimized:!0,thumbnail:"/images/hero-bg-thumb.jpg"},{id:"2",name:"service-dip.png",url:"/images/service-dip.png",type:"image",size:1887436.8,category:"services",uploadedAt:"2024-01-14T15:45:00Z",dimensions:{width:800,height:600},optimized:!0},{id:"3",name:"portfolio-project-1.jpg",url:"/images/project-1.jpg",type:"image",size:3355443.2,category:"portfolio",uploadedAt:"2024-01-13T09:15:00Z",dimensions:{width:1200,height:800},optimized:!1}])},[]);let $=e=>{switch(e){case"image":return eb.A;case"video":return ey.A;case"audio":return eN.A;case"document":return ew.A;default:return ek.A}},Z=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(1))+" "+["B","KB","MB","GB"][s]},W=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),G=f.filter(e=>{let s=e.name.toLowerCase().includes(P.toLowerCase()),a="all"===M||e.category===M,t="all"===T||e.type===T,l=n.includes(e.type)||n.includes("".concat(e.type,"s"));return s&&a&&t&&l}),J=(0,l.useCallback)(async e=>{if(r&&0!==e.length){z(!0);for(let s=0;s<e.length;s++){let a=e[s];if(a.size>1024*g*1024){alert("El archivo ".concat(a.name," excede el tama\xf1o m\xe1ximo de ").concat(g,"MB"));continue}for(let e=0;e<=100;e+=10)F(e),await new Promise(e=>setTimeout(e,100));let t={id:Date.now().toString()+s,name:a.name,url:URL.createObjectURL(a),type:a.type.startsWith("image/")?"image":a.type.startsWith("video/")?"video":a.type.startsWith("audio/")?"audio":"document",size:a.size,category:"general",uploadedAt:new Date().toISOString(),optimized:h};if(a.type.startsWith("image/")){let e=new eb.A;e.onload=()=>{t.dimensions={width:e.width,height:e.height},y(e=>[...e,t])},e.src=t.url}else y(e=>[...e,t])}z(!1),F(0)}},[r,g,h]),X=async()=>{if(_&&i)try{var e;new URL(_);let s=null==(e=_.split(".").pop())?void 0:e.toLowerCase(),a="document";["jpg","jpeg","png","gif","webp","svg"].includes(s||"")?a="image":["mp4","webm","ogg"].includes(s||"")?a="video":["mp3","wav","ogg"].includes(s||"")&&(a="audio");let t={id:Date.now().toString(),name:_.split("/").pop()||"external-file",url:_,type:a,size:0,category:"general",uploadedAt:new Date().toISOString(),optimized:!1};y(e=>[...e,t]),B("")}catch(e){alert("URL inv\xe1lida")}},K=e=>{p?w(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]):w([e])},H=e=>{confirm("\xbfEst\xe1s seguro de que deseas eliminar este archivo?")&&(y(s=>s.filter(s=>s.id!==e)),w(s=>s.filter(s=>s!==e)))};if(!v)return null;let Y=e=>{let{item:s}=e,a=$(s.type),l=N.includes(s.id);return(0,t.jsxs)("div",{className:"relative group cursor-pointer border-2 rounded-lg overflow-hidden transition-all ".concat(l?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>K(s.id),children:[(0,t.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:"image"===s.type?(0,t.jsx)("img",{src:s.thumbnail||s.url,alt:s.name,className:"w-full h-full object-cover"}):(0,t.jsx)(a,{className:"w-12 h-12 text-gray-400"})}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium truncate",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:Z(s.size)}),(0,t.jsx)(u.E,{variant:"secondary",className:"text-xs",children:s.category})]}),s.dimensions&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[s.dimensions.width," \xd7 ",s.dimensions.height]})]}),l&&(0,t.jsx)("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:(0,t.jsx)(eC.A,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(d.$,{size:"sm",variant:"secondary",onClick:e=>{e.stopPropagation(),window.open(s.url,"_blank")},className:"w-6 h-6 p-0",children:(0,t.jsx)(C.A,{className:"w-3 h-3"})}),(0,t.jsx)(d.$,{size:"sm",variant:"destructive",onClick:e=>{e.stopPropagation(),H(s.id)},className:"w-6 h-6 p-0",children:(0,t.jsx)(E.A,{className:"w-3 h-3"})})]})}),h&&s.optimized&&(0,t.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,t.jsx)(u.E,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"Optimizado"})})]})},Q=e=>{let{item:s}=e,a=$(s.type),l=N.includes(s.id);return(0,t.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg cursor-pointer transition-all ".concat(l?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"),onClick:()=>K(s.id),children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:"image"===s.type?(0,t.jsx)("img",{src:s.thumbnail||s.url,alt:s.name,className:"w-full h-full object-cover rounded"}):(0,t.jsx)(a,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium truncate",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[(0,t.jsx)("span",{children:Z(s.size)}),(0,t.jsx)("span",{children:W(s.uploadedAt)}),s.dimensions&&(0,t.jsxs)("span",{children:[s.dimensions.width," \xd7 ",s.dimensions.height]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.E,{variant:"secondary",children:s.category}),h&&s.optimized&&(0,t.jsx)(u.E,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Optimizado"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),window.open(s.url,"_blank")},className:"w-8 h-8 p-0",children:(0,t.jsx)(C.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),H(s.id)},className:"w-8 h-8 p-0 text-red-500 hover:text-red-700",children:(0,t.jsx)(E.A,{className:"w-4 h-4"})})]})]}),l&&(0,t.jsx)(eC.A,{className:"w-5 h-5 text-blue-500"})]})};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(x.Zp,{className:"w-full max-w-6xl h-[80vh] flex flex-col",children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eA.A,{className:"h-5 w-5"}),"Media Manager",(0,t.jsxs)(u.E,{variant:"outline",children:[G.length," archivos"]})]}),(0,t.jsx)(x.BT,{children:"Gestiona y organiza tus archivos multimedia"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[N.length>0&&(0,t.jsxs)(d.$,{onClick:()=>{if(0!==N.length){if(p&&a)a(N.map(e=>{var s;return(null==(s=f.find(s=>s.id===e))?void 0:s.url)||""}).filter(e=>e));else if(s){let e=f.find(e=>e.id===N[0]);e&&s(e.url)}b&&b()}},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(eC.A,{className:"w-4 h-4 mr-2"}),"Seleccionar (",N.length,")"]}),b&&(0,t.jsx)(d.$,{variant:"outline",onClick:b,children:(0,t.jsx)(o.A,{className:"w-4 h-4"})})]})]})}),(0,t.jsx)(x.Wu,{className:"flex-1 flex flex-col space-y-4",children:(0,t.jsxs)(eR.tU,{defaultValue:"library",className:"flex-1 flex flex-col",children:[(0,t.jsxs)(eR.j7,{children:[(0,t.jsx)(eR.Xi,{value:"library",children:"Biblioteca"}),r&&(0,t.jsx)(eR.Xi,{value:"upload",children:"Subir Archivos"}),i&&(0,t.jsx)(eR.Xi,{value:"external",children:"URL Externa"})]}),(0,t.jsxs)(eR.av,{value:"library",className:"flex-1 flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eS.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(m.p,{placeholder:"Buscar archivos...",value:P,onChange:e=>D(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(A.l6,{value:M,onValueChange:R,children:[(0,t.jsx)(A.bq,{className:"w-48",children:(0,t.jsx)(A.yv,{placeholder:"Categor\xeda"})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"all",children:"Todas las categor\xedas"}),c.map(e=>(0,t.jsx)(A.eb,{value:e,children:e},e))]})]}),(0,t.jsxs)(A.l6,{value:T,onValueChange:L,children:[(0,t.jsx)(A.bq,{className:"w-32",children:(0,t.jsx)(A.yv,{placeholder:"Tipo"})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"all",children:"Todos"}),(0,t.jsx)(A.eb,{value:"image",children:"Im\xe1genes"}),(0,t.jsx)(A.eb,{value:"video",children:"Videos"}),(0,t.jsx)(A.eb,{value:"audio",children:"Audio"}),(0,t.jsx)(A.eb,{value:"document",children:"Documentos"})]})]}),(0,t.jsxs)("div",{className:"flex border rounded-md",children:[(0,t.jsx)(d.$,{variant:"grid"===k?"default":"ghost",size:"sm",onClick:()=>S("grid"),className:"rounded-r-none",children:(0,t.jsx)(eE.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{variant:"list"===k?"default":"ghost",size:"sm",onClick:()=>S("list"),className:"rounded-l-none",children:(0,t.jsx)(eP.A,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:0===G.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(eA.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No se encontraron archivos"})]}):"grid"===k?(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:G.map(e=>(0,t.jsx)(Y,{item:e},e.id))}):(0,t.jsx)("div",{className:"space-y-2",children:G.map(e=>(0,t.jsx)(Q,{item:e},e.id))})})]}),r&&(0,t.jsx)(eR.av,{value:"upload",className:"flex-1 flex flex-col",children:(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-12 text-center transition-colors ".concat(V?"border-blue-500 bg-blue-50":"border-gray-300"),onDragOver:e=>{e.preventDefault(),O(!0)},onDragLeave:()=>{O(!1)},onDrop:e=>{e.preventDefault(),O(!1);let s=e.dataTransfer.files;s.length>0&&J(s)},children:[I?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(eD.A,{className:"w-12 h-12 text-blue-500 mx-auto animate-spin"}),(0,t.jsx)("p",{className:"text-blue-600",children:"Subiendo archivos..."}),(0,t.jsx)("div",{className:"w-64 mx-auto bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(U,"%")}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[U,"%"]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(ef.A,{className:"w-12 h-12 text-gray-400 mx-auto"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-lg font-medium",children:["Arrastra archivos aqu\xed o",(0,t.jsx)(d.$,{variant:"link",className:"px-2",onClick:()=>{var e;return null==(e=q.current)?void 0:e.click()},children:"haz clic para subir"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["M\xe1ximo ",g,"MB por archivo"]})]})]}),(0,t.jsx)("input",{ref:q,type:"file",multiple:p,accept:j.join(","),onChange:e=>e.target.files&&J(e.target.files),className:"hidden"})]})}),i&&(0,t.jsx)(eR.av,{value:"external",className:"flex-1",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Agregar URL Externa"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Agrega archivos desde URLs externas"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(m.p,{placeholder:"https://ejemplo.com/imagen.jpg",value:_,onChange:e=>B(e.target.value)})}),(0,t.jsxs)(d.$,{onClick:X,children:[(0,t.jsx)(eM.A,{className:"w-4 h-4 mr-2"}),"Agregar"]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Consejos:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• Use URLs directas a archivos (terminan en .jpg, .png, etc.)"}),(0,t.jsx)("li",{children:"• Verifique que la URL sea accesible p\xfablicamente"}),(0,t.jsx)("li",{children:"• Las URLs externas no se optimizan autom\xe1ticamente"})]})]})]})})]})})]})})},eL=e=>{let{value:s,onChange:a,label:r,placeholder:i="Seleccionar archivo...",allowUpload:n=!0,allowExternal:c=!0,allowManualInput:u=!0,category:h="general",filters:p=["images"],required:g=!1,disabled:j=!1,className:v=""}=e,b=function(){var e,s;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,l.useState)(!1),[i,n]=(0,l.useState)([]),c=(0,l.useCallback)(()=>{r(!0)},[]),o=(0,l.useCallback)(()=>{r(!1)},[]),d=(0,l.useCallback)(e=>{n([e]),r(!1)},[]),m=(0,l.useCallback)(e=>{n(e),r(!1)},[]),x=(0,l.useCallback)(()=>{n([])},[]);return{isOpen:t,selectedUrl:i.length>0?i[0]:null,selectedUrls:i,openMediaManager:c,closeMediaManager:o,handleSelect:d,handleMultiSelect:m,resetSelection:x,mediaManagerProps:{isOpen:t,onClose:o,onSelect:a.multiple?void 0:d,onMultiSelect:a.multiple?m:void 0,multiple:a.multiple||!1,allowUpload:null==(e=a.allowUpload)||e,allowExternal:null==(s=a.allowExternal)||s,categories:a.categories||["hero","services","portfolio","pillars","policies","general"],filters:a.filters||["images","videos","documents"],maxFileSize:a.maxFileSize||10}}}({multiple:!1,allowUpload:n,allowExternal:c,categories:[h],filters:p}),f=e=>{try{return new URL(e),!0}catch(s){return e.startsWith("/")||e.startsWith("./")||e.startsWith("../")}};return(0,t.jsxs)("div",{className:"space-y-3 ".concat(v),children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[r,g&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),s&&f(s)&&(0,t.jsx)(x.Zp,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(s)?(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden",children:(0,t.jsx)("img",{src:s,alt:"Preview",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}):(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(eb.A,{className:"w-6 h-6 text-gray-400"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Archivo actual"}),f(s)&&(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>window.open(s,"_blank"),className:"w-6 h-6 p-0",children:(0,t.jsx)(C.A,{className:"w-3 h-3"})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 truncate",children:s})]}),(0,t.jsx)(d.$,{size:"sm",variant:"ghost",onClick:()=>{a("")},className:"text-red-500 hover:text-red-700 w-6 h-6 p-0",disabled:j,children:(0,t.jsx)(o.A,{className:"w-3 h-3"})})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.$,{type:"button",variant:"outline",onClick:b.openMediaManager,disabled:j,className:"flex-1",children:[(0,t.jsx)(ef.A,{className:"w-4 h-4 mr-2"}),s?"Cambiar archivo":"Seleccionar archivo"]}),c&&(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{let e=prompt("Ingresa la URL del archivo:");e&&a(e)},disabled:j,children:(0,t.jsx)(q.A,{className:"w-4 h-4"})})]}),u&&(0,t.jsxs)("div",{children:[(0,t.jsx)(m.p,{value:s,onChange:e=>a(e.target.value),placeholder:i,disabled:j,className:s&&!f(s)?"border-red-300":""}),s&&!f(s)&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"URL inv\xe1lida"})]})]}),!s&&(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCA1 Opciones:"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Media Manager:"})," Sube nuevos archivos o selecciona existentes"]}),c&&(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"URL Externa:"})," Usa archivos desde otros sitios"]}),u&&(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Manual:"})," Escribe la ruta del archivo directamente"]})]})]}),(0,t.jsx)(eT,{...b.mediaManagerProps,onSelect:e=>{a(e)}})]})};var eI=a(65064),ez=a(37648),eU=a(51920),eF=a(26854),e_=a(68718),eB=a(8531),eV=a(45727),eO=a(85057),eq=a(80333);let e$=e=>{let{resource:s,data:a,onRestore:r,className:n=""}=e,c=[],o={},h=()=>{},p=()=>{},g=()=>{},j=()=>{},v=()=>{},b=()=>{},f=()=>{},[y,w]=(0,l.useState)(!1),[k,C]=(0,l.useState)(!1),[S,P]=(0,l.useState)(null),[D,M]=(0,l.useState)(""),[R,T]=(0,l.useState)(!1),I=async()=>{w(!0);try{await h(a,{type:"manual",description:D||void 0}),M("")}catch(e){console.error("Error creating backup:",e)}finally{w(!1)}},z=async e=>{if(r){C(!0);try{let s=await p(e.id);r(s)}catch(e){console.error("Error restoring backup:",e)}finally{C(!1)}}},U=async e=>{confirm("\xbfEst\xe1s seguro de eliminar este backup? Esta acci\xf3n no se puede deshacer.")&&await g(e)},F=e=>{let s=["B","KB","MB","GB"],a=e,t=0;for(;a>=1024&&t<s.length-1;)a/=1024,t++;return"".concat(a.toFixed(1)," ").concat(s[t])},_=e=>e.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=e=>{switch(e){case"manual":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-green-100 text-green-800";case"auto":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,t.jsxs)("div",{className:"space-y-6 ".concat(n),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Backup & Restore"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Gestiona backups autom\xe1ticos y restauraci\xf3n"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>T(!R),children:[(0,t.jsx)(O.A,{className:"w-4 h-4 mr-2"}),"Configurar"]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>{},children:[(0,t.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Activar"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(eI.A,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.length}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Backups"})]})]})})}),(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(ez.A,{className:"w-4 h-4 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Nunca"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"\xdaltimo backup"})]})]})})}),(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(eU.A,{className:"w-4 h-4 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"No programado"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Pr\xf3ximo backup"})]})]})})}),(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,t.jsx)(eF.A,{className:"w-4 h-4 text-orange-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:F(0)}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Almacenamiento"})]})]})})})]}),(0,t.jsx)(x.Zp,{children:(0,t.jsxs)(x.Wu,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Uso de almacenamiento"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[F(0)," / ",F(100)]})]}),(0,t.jsx)(ej.k,{value:0,className:"h-2"}),false]})}),(0,t.jsxs)(eR.tU,{defaultValue:"backups",className:"w-full",children:[(0,t.jsxs)(eR.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(eR.Xi,{value:"backups",children:"Backups"}),(0,t.jsx)(eR.Xi,{value:"create",children:"Crear Backup"}),(0,t.jsx)(eR.Xi,{value:"import",children:"Importar/Exportar"})]}),(0,t.jsxs)(eR.av,{value:"backups",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-gray-700",children:["Backups disponibles (",c.length,")"]}),(0,t.jsxs)(d.$,{size:"sm",variant:"outline",onClick:v,children:[(0,t.jsx)(E.A,{className:"w-4 h-4 mr-2"}),"Limpiar antiguos"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===c.length?(0,t.jsx)(x.Zp,{children:(0,t.jsxs)(x.Wu,{className:"p-6 text-center",children:[(0,t.jsx)(eI.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No hay backups disponibles"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:'Crea tu primer backup desde la pesta\xf1a "Crear Backup"'})]})}):c.map(e=>(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(u.E,{className:B(e.type),children:e.type}),e.compressed&&(0,t.jsxs)(u.E,{variant:"outline",children:[(0,t.jsx)(N.A,{className:"w-3 h-3 mr-1"}),"Comprimido"]})]}),(0,t.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:e.filename}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,t.jsx)("span",{children:_(e.timestamp)}),(0,t.jsx)("span",{children:F(e.size)}),e.metadata.author&&(0,t.jsxs)("span",{children:["por ",e.metadata.author]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>b(e.id),children:(0,t.jsx)(e_.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>z(e),disabled:k,children:(0,t.jsx)(eB.A,{className:"w-4 h-4"})}),(0,t.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>U(e.id),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(E.A,{className:"w-4 h-4"})})]})]})})},e.id))})]}),(0,t.jsx)(eR.av,{value:"create",className:"space-y-4",children:(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eI.A,{className:"w-5 h-5"}),"Crear nuevo backup"]})}),(0,t.jsxs)(x.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eO.J,{htmlFor:"backup-description",children:"Descripci\xf3n (opcional)"}),(0,t.jsx)(m.p,{id:"backup-description",value:D,onChange:e=>M(e.target.value),placeholder:"Describe los cambios o motivo del backup..."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Q.A,{className:"w-8 h-8 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-blue-900",children:"Backup manual"}),(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["Crea una copia de seguridad inmediata de ",s]})]})]}),(0,t.jsx)(d.$,{onClick:I,disabled:y,className:"bg-blue-600 hover:bg-blue-700",children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eV.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Creando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eI.A,{className:"w-4 h-4 mr-2"}),"Crear backup"]})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCA1 Recomendaciones:"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• Crea backups antes de hacer cambios importantes"}),(0,t.jsx)("li",{children:"• Los backups se comprimen autom\xe1ticamente para ahorrar espacio"}),(0,t.jsx)("li",{children:"• Incluye una descripci\xf3n para identificar f\xe1cilmente el contenido"}),(0,t.jsx)("li",{children:"• Los backups autom\xe1ticos se crean seg\xfan la programaci\xf3n configurada"})]})]})]})]})}),(0,t.jsx)(eR.av,{value:"import",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(e_.A,{className:"w-5 h-5"}),"Exportar backups"]})}),(0,t.jsxs)(x.Wu,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Descarga backups para almacenarlos externamente o transferirlos."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(d.$,{variant:"outline",className:"w-full justify-start",onClick:()=>b("all"),children:[(0,t.jsx)(eA.A,{className:"w-4 h-4 mr-2"}),"Exportar todos los backups"]}),(0,t.jsxs)(d.$,{variant:"outline",className:"w-full justify-start",onClick:()=>b("latest"),children:[(0,t.jsx)(ew.A,{className:"w-4 h-4 mr-2"}),"Exportar \xfaltimo backup"]})]})]})]}),(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(ef.A,{className:"w-5 h-5"}),"Importar backup"]})}),(0,t.jsxs)(x.Wu,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Importa backups desde archivos externos."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("input",{type:"file",accept:".backup,.zip,.json",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&f(a)},className:"hidden",id:"backup-import"}),(0,t.jsxs)(d.$,{variant:"outline",className:"w-full justify-start",onClick:()=>{var e;return null==(e=document.getElementById("backup-import"))?void 0:e.click()},children:[(0,t.jsx)(ef.A,{className:"w-4 h-4 mr-2"}),"Seleccionar archivo"]})]}),(0,t.jsx)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,t.jsx)(L.A,{className:"w-4 h-4 inline mr-1"}),"Importar un backup sobrescribir\xe1 los datos actuales"]})})]})]})]})})]}),R&&(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(O.A,{className:"w-5 h-5"}),"Configuraci\xf3n de backups"]})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Programaci\xf3n autom\xe1tica"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(eO.J,{htmlFor:"auto-backup",children:"Backups autom\xe1ticos"}),(0,t.jsx)(eq.d,{id:"auto-backup",checked:o.autoBackup,onCheckedChange:e=>j({autoBackup:e})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eO.J,{htmlFor:"backup-frequency",children:"Frecuencia"}),(0,t.jsxs)(A.l6,{value:o.frequency,onValueChange:e=>j({frequency:e}),children:[(0,t.jsx)(A.bq,{children:(0,t.jsx)(A.yv,{})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"hourly",children:"Cada hora"}),(0,t.jsx)(A.eb,{value:"daily",children:"Diario"}),(0,t.jsx)(A.eb,{value:"weekly",children:"Semanal"}),(0,t.jsx)(A.eb,{value:"monthly",children:"Mensual"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Pol\xedticas de retenci\xf3n"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eO.J,{htmlFor:"max-backups",children:"M\xe1ximo de backups"}),(0,t.jsx)(m.p,{id:"max-backups",type:"number",value:o.maxBackups,onChange:e=>j({maxBackups:parseInt(e.target.value)}),min:"1",max:"100"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eO.J,{htmlFor:"retention-days",children:"D\xedas de retenci\xf3n"}),(0,t.jsx)(m.p,{id:"retention-days",type:"number",value:o.retentionDays,onChange:e=>j({retentionDays:parseInt(e.target.value)}),min:"1",max:"365"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(eO.J,{htmlFor:"compression",children:"Comprimir backups"}),(0,t.jsx)(eq.d,{id:"compression",checked:o.compression,onCheckedChange:e=>j({compression:e})})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:()=>T(!1),className:"flex-1",children:"Cancelar"}),(0,t.jsxs)(d.$,{onClick:()=>{T(!1)},className:"flex-1",children:[(0,t.jsx)(eh.A,{className:"w-4 h-4 mr-2"}),"Guardar configuraci\xf3n"]})]})]})]})]})};var eZ=a(77070),eW=a(59099),eG=a(12236),eJ=a(87057),eX=a(48639),eK=a(40207),eH=a(69321),eY=a(5263),eQ=a(58527),e0=a(9041);let e1=e=>{let{resource:s="system",realTime:a=!0,showSystemMetrics:r=!0,showUserMetrics:i=!0,className:n=""}=e,{metrics:c,systemHealth:o,userMetrics:m,isLoading:h,refreshMetrics:p,setAutoRefresh:j,autoRefresh:v,timeRange:b,setTimeRange:w,exportMetrics:k}=function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[a,t]=(0,l.useState)(null),[r,i]=(0,l.useState)(null),[n,c]=(0,l.useState)(null),[o,d]=(0,l.useState)([]),[m,x]=(0,l.useState)(!0),[u,h]=(0,l.useState)(s),[p,g]=(0,l.useState)("24h"),[j,v]=(0,l.useState)(null),b=(0,l.useRef)(null),f=(0,l.useRef)([]),y=(0,l.useCallback)(()=>{let e=150+100*Math.random();return{responseTime:e,previousResponseTime:e+(Math.random()-.5)*50,responseTimeTrend:(Math.random()-.5)*20,throughput:800+400*Math.random(),throughputTrend:(Math.random()-.3)*15,memoryUsage:45+30*Math.random(),errorRate:2*Math.random(),errorRateTrend:(Math.random()-.7)*5,cpuUsage:30+40*Math.random(),diskUsage:60+20*Math.random(),activeConnections:Math.floor(50+200*Math.random())}},[]),N=(0,l.useCallback)(()=>({activeUsers:Math.floor(120+80*Math.random()),activeUsersTrend:(Math.random()-.3)*25,pageViews:Math.floor(2500+1e3*Math.random()),pageViewsTrend:(Math.random()-.2)*30,avgSessionDuration:18e4+3e5*Math.random(),bounceRate:25+30*Math.random(),newUsers:Math.floor(80+40*Math.random()),returningUsers:Math.floor(40+60*Math.random()),topPages:[{path:"/",views:Math.floor(800+200*Math.random())},{path:"/services",views:Math.floor(400+100*Math.random())},{path:"/portfolio",views:Math.floor(350+150*Math.random())},{path:"/about",views:Math.floor(250+100*Math.random())},{path:"/contact",views:Math.floor(180+80*Math.random())}],userFlow:[{from:"/",to:"/services",count:Math.floor(150+50*Math.random())},{from:"/services",to:"/portfolio",count:Math.floor(100+30*Math.random())},{from:"/portfolio",to:"/contact",count:Math.floor(80+40*Math.random())}]}),[]),w=(0,l.useCallback)(()=>{let e=Math.floor(30+50*Math.random()),s=Math.floor(45+35*Math.random()),a=Math.floor(55+25*Math.random()),t=(e+s+a)/3;return{cpu:e,memory:s,disk:a,network:Math.random()>.95?"degraded":"online",overall:t<60?"healthy":t<80?"warning":"critical",uptime:99.5+.5*Math.random(),load:.5+ +Math.random(),processes:Math.floor(150+50*Math.random())}},[]),k=(0,l.useCallback)((e,s)=>{let a=[];return e.responseTime>1e3&&a.push({id:"response_time_".concat(Date.now()),type:"critical",metric:"response_time",message:"Tiempo de respuesta muy alto: ".concat(e.responseTime.toFixed(0),"ms"),timestamp:new Date,resolved:!1}),e.memoryUsage>90?a.push({id:"memory_".concat(Date.now()),type:"critical",metric:"memory",message:"Uso de memoria cr\xedtico: ".concat(e.memoryUsage.toFixed(1),"%"),timestamp:new Date,resolved:!1}):e.memoryUsage>80&&a.push({id:"memory_".concat(Date.now()),type:"warning",metric:"memory",message:"Uso de memoria alto: ".concat(e.memoryUsage.toFixed(1),"%"),timestamp:new Date,resolved:!1}),e.errorRate>5&&a.push({id:"error_rate_".concat(Date.now()),type:"critical",metric:"error_rate",message:"Tasa de errores muy alta: ".concat(e.errorRate.toFixed(2),"%"),timestamp:new Date,resolved:!1}),s.cpu>90&&a.push({id:"cpu_".concat(Date.now()),type:"critical",metric:"cpu",message:"Uso de CPU cr\xedtico: ".concat(s.cpu,"%"),timestamp:new Date,resolved:!1}),s.disk>90&&a.push({id:"disk_".concat(Date.now()),type:"warning",metric:"disk",message:"Espacio en disco bajo: ".concat(s.disk,"% usado"),timestamp:new Date,resolved:!1}),"degraded"===s.network?a.push({id:"network_".concat(Date.now()),type:"warning",metric:"network",message:"Conectividad de red degradada",timestamp:new Date,resolved:!1}):"offline"===s.network&&a.push({id:"network_".concat(Date.now()),type:"critical",metric:"network",message:"Conectividad de red perdida",timestamp:new Date,resolved:!1}),a},[]),C=(0,l.useCallback)(async()=>{try{x(!0),await new Promise(e=>setTimeout(e,500*Math.random()));let e=y(),s=N(),a=w();t(e),i(s),c(a),v(new Date);let l=k(e,a);l.length>0&&(d(e=>[...l,...e].slice(0,50)),f.current=[...l,...f.current])}catch(e){console.error("Error updating performance metrics:",e)}finally{x(!1)}},[y,N,w,k]),A=(0,l.useCallback)(()=>{C()},[C]);(0,l.useEffect)(()=>{if(u)return C(),b.current=setInterval(C,3e4),()=>{b.current&&clearInterval(b.current)};b.current&&clearInterval(b.current),a||C()},[u,C]),(0,l.useEffect)(()=>()=>{b.current&&clearInterval(b.current)},[]);let S=(0,l.useCallback)(async()=>{try{let s={timestamp:new Date().toISOString(),resource:e,timeRange:p,metrics:a,userMetrics:r,systemHealth:n,alerts:o.slice(0,20),metadata:{exportedBy:"Performance Monitor",version:"1.0.0",autoRefresh:u,lastUpdate:null==j?void 0:j.toISOString()}},t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),l=URL.createObjectURL(t),i=document.createElement("a");i.href=l,i.download="performance_metrics_".concat(e,"_").concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l),console.log("\uD83D\uDCCA Performance metrics exported successfully")}catch(e){console.error("Error exporting performance metrics:",e)}},[e,p,a,r,n,o,u,j]),E=(0,l.useCallback)(()=>({avgResponseTime:(null==a?void 0:a.responseTime)||0,peakThroughput:Math.max((null==a?void 0:a.throughput)||0,1200),uptimePercentage:(null==n?void 0:n.uptime)||99.9,totalAlerts:o.length,resolvedAlerts:o.filter(e=>e.resolved).length,criticalAlerts:o.filter(e=>"critical"===e.type).length}),[a,n,o]);return{metrics:a,userMetrics:r,systemHealth:n,alerts:o,isLoading:m,autoRefresh:u,timeRange:p,lastUpdate:j,refreshMetrics:A,setAutoRefresh:h,setTimeRange:g,exportMetrics:S,getHistoricalStats:E,resolveAlert:(0,l.useCallback)(e=>{d(s=>s.map(s=>s.id===e?{...s,resolved:!0}:s))},[]),clearResolvedAlerts:(0,l.useCallback)(()=>{d(e=>e.filter(e=>!e.resolved))},[])}}(s,a),[S,E]=(0,l.useState)("overview"),P=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString(),D=e=>e<1e3?"".concat(e.toFixed(0),"ms"):e<6e4?"".concat((e/1e3).toFixed(1),"s"):"".concat((e/6e4).toFixed(1),"m"),M=e=>{switch(e){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"warning":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=e=>{switch(e){case"up":return(0,t.jsx)(y.A,{className:"w-4 h-4 text-green-600"});case"down":return(0,t.jsx)(eZ.A,{className:"w-4 h-4 text-red-600"});default:return(0,t.jsx)("div",{className:"w-4 h-4"})}},T=[{id:"response_time",title:"Tiempo de Respuesta",value:D((null==c?void 0:c.responseTime)||0),previousValue:null==c?void 0:c.previousResponseTime,trend:(null==c?void 0:c.responseTime)<((null==c?void 0:c.previousResponseTime)||0)?"down":"up",trendPercentage:null==c?void 0:c.responseTimeTrend,color:"blue",icon:eW.A,description:"Tiempo promedio de respuesta del servidor",target:200,status:200>((null==c?void 0:c.responseTime)||0)?"excellent":500>((null==c?void 0:c.responseTime)||0)?"good":1e3>((null==c?void 0:c.responseTime)||0)?"warning":"critical"},{id:"throughput",title:"Rendimiento",value:P((null==c?void 0:c.throughput)||0),unit:"req/min",trend:"up",trendPercentage:null==c?void 0:c.throughputTrend,color:"green",icon:N.A,description:"Requests procesados por minuto",target:1e3,status:((null==c?void 0:c.throughput)||0)>1e3?"excellent":((null==c?void 0:c.throughput)||0)>500?"good":((null==c?void 0:c.throughput)||0)>100?"warning":"critical"},{id:"memory_usage",title:"Uso de Memoria",value:"".concat((null==c?void 0:c.memoryUsage)||0,"%"),trend:(null==c?void 0:c.memoryUsage)>80?"up":"stable",color:(null==c?void 0:c.memoryUsage)>90?"red":(null==c?void 0:c.memoryUsage)>75?"yellow":"green",icon:eG.A,description:"Porcentaje de memoria utilizada",target:75,status:60>((null==c?void 0:c.memoryUsage)||0)?"excellent":75>((null==c?void 0:c.memoryUsage)||0)?"good":90>((null==c?void 0:c.memoryUsage)||0)?"warning":"critical"},{id:"error_rate",title:"Tasa de Errores",value:"".concat(((null==c?void 0:c.errorRate)||0).toFixed(2),"%"),trend:"down",trendPercentage:null==c?void 0:c.errorRateTrend,color:(null==c?void 0:c.errorRate)>5?"red":(null==c?void 0:c.errorRate)>1?"yellow":"green",icon:L.A,description:"Porcentaje de requests con error",target:1,status:.5>((null==c?void 0:c.errorRate)||0)?"excellent":1>((null==c?void 0:c.errorRate)||0)?"good":5>((null==c?void 0:c.errorRate)||0)?"warning":"critical"}],I=[{id:"active_users",title:"Usuarios Activos",value:P((null==m?void 0:m.activeUsers)||0),trend:"up",trendPercentage:null==m?void 0:m.activeUsersTrend,color:"purple",icon:g.A,description:"Usuarios activos en tiempo real",status:"good"},{id:"page_views",title:"Vistas de P\xe1gina",value:P((null==m?void 0:m.pageViews)||0),unit:"hoy",trend:"up",trendPercentage:null==m?void 0:m.pageViewsTrend,color:"blue",icon:C.A,description:"Total de p\xe1ginas vistas hoy",status:"good"},{id:"avg_session",title:"Sesi\xf3n Promedio",value:D((null==m?void 0:m.avgSessionDuration)||0),trend:"up",color:"green",icon:ez.A,description:"Duraci\xf3n promedio de sesi\xf3n",status:"good"},{id:"bounce_rate",title:"Tasa de Rebote",value:"".concat(((null==m?void 0:m.bounceRate)||0).toFixed(1),"%"),trend:"down",color:(null==m?void 0:m.bounceRate)>60?"red":(null==m?void 0:m.bounceRate)>40?"yellow":"green",icon:eB.A,description:"Porcentaje de usuarios que abandonan r\xe1pido",status:30>((null==m?void 0:m.bounceRate)||0)?"excellent":50>((null==m?void 0:m.bounceRate)||0)?"good":70>((null==m?void 0:m.bounceRate)||0)?"warning":"critical"}],z=e=>(0,t.jsx)(x.Zp,{children:(0,t.jsxs)(x.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat("green"===e.color?"bg-green-100":"blue"===e.color?"bg-blue-100":"yellow"===e.color?"bg-yellow-100":"red"===e.color?"bg-red-100":"bg-purple-100"),children:(0,t.jsx)(e.icon,{className:"w-6 h-6 ".concat("green"===e.color?"text-green-600":"blue"===e.color?"text-blue-600":"yellow"===e.color?"text-yellow-600":"red"===e.color?"text-red-600":"text-purple-600")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),e.unit&&(0,t.jsx)("span",{className:"text-sm text-gray-500",children:e.unit})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)(u.E,{className:M(e.status),children:e.status}),e.trendPercentage&&(0,t.jsxs)("div",{className:"flex items-center mt-2",children:[R(e.trend),(0,t.jsxs)("span",{className:"text-sm ml-1 ".concat("up"===e.trend?"text-green-600":"down"===e.trend?"text-red-600":"text-gray-600"),children:[e.trendPercentage.toFixed(1),"%"]})]})]})]}),e.target&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,t.jsxs)("span",{children:["Objetivo: ",e.target,e.unit||""]}),(0,t.jsxs)("span",{children:[Math.min(100,("string"==typeof e.value?parseFloat(e.value):e.value)/e.target*100).toFixed(0),"%"]})]}),(0,t.jsx)(ej.k,{value:Math.min(100,("string"==typeof e.value?parseFloat(e.value):e.value)/e.target*100),className:"h-2"})]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:e.description})]})},e.id);return(0,t.jsxs)("div",{className:"space-y-6 ".concat(n),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Performance Monitor"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"M\xe9tricas en tiempo real y monitoreo del sistema"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(A.l6,{value:b,onValueChange:w,children:[(0,t.jsx)(A.bq,{className:"w-32",children:(0,t.jsx)(A.yv,{})}),(0,t.jsxs)(A.gC,{children:[(0,t.jsx)(A.eb,{value:"1h",children:"\xdaltima hora"}),(0,t.jsx)(A.eb,{value:"24h",children:"\xdaltimas 24h"}),(0,t.jsx)(A.eb,{value:"7d",children:"\xdaltimos 7 d\xedas"}),(0,t.jsx)(A.eb,{value:"30d",children:"\xdaltimos 30 d\xedas"})]})]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>j(!v),children:[(0,t.jsx)(ed.A,{className:"w-4 h-4 mr-2 ".concat(v?"animate-spin":"")}),v?"Parar":"Auto"]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:p,disabled:h,children:[(0,t.jsx)(ed.A,{className:"w-4 h-4 mr-2 ".concat(h?"animate-spin":"")}),"Actualizar"]}),(0,t.jsxs)(d.$,{variant:"outline",size:"sm",onClick:k,children:[(0,t.jsx)(e_.A,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-lg text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eK.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Uptime"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-2",children:"99.9%"}),(0,t.jsx)("p",{className:"text-xs opacity-80",children:"\xdaltimos 30 d\xedas"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4 rounded-lg text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"SLA"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-2",children:"98.5%"}),(0,t.jsx)("p",{className:"text-xs opacity-80",children:"Cumplimiento"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-lg text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eH.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Score"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-2",children:"95"}),(0,t.jsx)("p",{className:"text-xs opacity-80",children:"Performance"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4 rounded-lg text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eY.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Carga"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-2",children:(null==o?void 0:o.load)||.8}),(0,t.jsx)("p",{className:"text-xs opacity-80",children:"Load Average"})]})]}),(0,t.jsxs)(eR.tU,{value:S,onValueChange:e=>E(e),children:[(0,t.jsxs)(eR.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(eR.Xi,{value:"overview",children:"Resumen"}),(0,t.jsx)(eR.Xi,{value:"system",children:"Sistema"}),(0,t.jsx)(eR.Xi,{value:"user",children:"Usuarios"}),(0,t.jsx)(eR.Xi,{value:"performance",children:"Performance"})]}),(0,t.jsx)(eR.av,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eJ.A,{className:"w-5 h-5"}),"Estado del Sistema"]})}),(0,t.jsxs)(x.Wu,{children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eG.A,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"CPU"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ej.k,{value:(null==o?void 0:o.cpu)||0,className:"w-24 h-2"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 w-12",children:[(null==o?void 0:o.cpu)||0,"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eF.A,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Memoria"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ej.k,{value:(null==o?void 0:o.memory)||0,className:"w-24 h-2"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 w-12",children:[(null==o?void 0:o.memory)||0,"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eV.A,{className:"w-4 h-4 text-purple-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Disco"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ej.k,{value:(null==o?void 0:o.disk)||0,className:"w-24 h-2"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 w-12",children:[(null==o?void 0:o.disk)||0,"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eX.A,{className:"w-4 h-4 text-orange-600"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Red"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null==o?void 0:o.network)==="online"?"bg-green-500":(null==o?void 0:o.network)==="degraded"?"bg-yellow-500":"bg-red-500")}),(0,t.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:(null==o?void 0:o.network)||"unknown"})]})]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Estado General"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(null==o?void 0:o.overall)==="healthy"?(0,t.jsx)(eh.A,{className:"w-4 h-4 text-green-600"}):(null==o?void 0:o.overall)==="warning"?(0,t.jsx)(L.A,{className:"w-4 h-4 text-yellow-600"}):(0,t.jsx)(L.A,{className:"w-4 h-4 text-red-600"}),(0,t.jsx)("span",{className:"text-sm font-medium capitalize ".concat((null==o?void 0:o.overall)==="healthy"?"text-green-600":(null==o?void 0:o.overall)==="warning"?"text-yellow-600":"text-red-600"),children:(null==o?void 0:o.overall)||"unknown"})]})]})})]})]}),(0,t.jsxs)(x.Zp,{className:"md:col-span-2",children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eY.A,{className:"w-5 h-5"}),"M\xe9tricas Principales"]})}),(0,t.jsx)(x.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:T.slice(0,4).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)(e.icon,{className:"w-5 h-5 text-gray-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.title}),(0,t.jsx)("p",{className:"font-semibold",children:e.value})]})]},e.id))})})]})]})}),(0,t.jsx)(eR.av,{value:"system",className:"space-y-6",children:r&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(z)})}),(0,t.jsx)(eR.av,{value:"user",className:"space-y-6",children:i&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(z)})}),(0,t.jsx)(eR.av,{value:"performance",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(eQ.A,{className:"w-5 h-5"}),"Tendencia de Rendimiento"]})}),(0,t.jsx)(x.Wu,{children:(0,t.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center text-gray-500",children:[(0,t.jsx)(eQ.A,{className:"w-12 h-12 mx-auto mb-2"}),(0,t.jsx)("p",{children:"Gr\xe1fico de rendimiento"}),(0,t.jsx)("p",{className:"text-sm",children:"Pr\xf3ximamente"})]})})})]}),(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsxs)(x.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(e0.A,{className:"w-5 h-5"}),"Uso de Recursos"]})}),(0,t.jsx)(x.Wu,{children:(0,t.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center text-gray-500",children:[(0,t.jsx)(e0.A,{className:"w-12 h-12 mx-auto mb-2"}),(0,t.jsx)("p",{children:"Distribuci\xf3n de recursos"}),(0,t.jsx)("p",{className:"text-sm",children:"Pr\xf3ximamente"})]})})})]})]})})]}),a&&(0,t.jsx)("div",{className:"fixed bottom-4 right-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-2 rounded-full text-sm",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Tiempo real"]})})]})};class e4{validateField(e,s){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let a=[],t=this.homeJsonRules[e];if(!t)return a;if(t.required&&(!s||"string"==typeof s&&!s.trim())){var l;return a.push({field:e,type:"content",severity:"error",message:"Este campo es requerido",suggestion:(null==(l=t.suggestions)?void 0:l[0])||"Complete este campo para continuar"}),a}return"string"==typeof s&&s.trim()&&this.validateString(e,s,t,a),Array.isArray(s)&&this.validateArray(e,s,t,a),a}validateString(e,s,a,t){let l=s.trim();if(a.minLength&&l.length<a.minLength){var r;t.push({field:e,type:"length",severity:"warning",message:"Muy corto. M\xednimo ".concat(a.minLength," caracteres (actual: ").concat(l.length,")"),suggestion:(null==(r=a.suggestions)?void 0:r[0])||"Agregue m\xe1s contenido descriptivo"})}a.maxLength&&l.length>a.maxLength&&t.push({field:e,type:"length",severity:"error",message:"Muy largo. M\xe1ximo ".concat(a.maxLength," caracteres (actual: ").concat(l.length,")"),suggestion:"Reduzca el contenido para cumplir el l\xedmite"}),"page.title"===e&&this.validateSEOTitle(e,l,t),"page.description"===e&&this.validateSEODescription(e,l,t),this.validateContentQuality(e,l,a,t)}validateArray(e,s,a,t){if(a.minItems&&s.length<a.minItems){var l;t.push({field:e,type:"content",severity:"warning",message:"Se recomiendan al menos ".concat(a.minItems," elementos (actual: ").concat(s.length,")"),suggestion:(null==(l=a.suggestions)?void 0:l[0])||"Agregue m\xe1s elementos para mejorar la experiencia"})}a.maxItems&&s.length>a.maxItems&&t.push({field:e,type:"content",severity:"warning",message:"Muchos elementos. M\xe1ximo recomendado: ".concat(a.maxItems," (actual: ").concat(s.length,")"),suggestion:"Considere reducir la cantidad para mejor UX"}),a.itemMaxLength&&"hero.rotating_words"===e&&s.forEach((s,l)=>{"string"==typeof s&&s.length>a.itemMaxLength&&t.push({field:"".concat(e,"[").concat(l,"]"),type:"length",severity:"warning",message:'Palabra muy larga: "'.concat(s,'" (').concat(s.length,"/").concat(a.itemMaxLength,")"),suggestion:"Use palabras m\xe1s cortas para mejor animaci\xf3n"})})}validateSEOTitle(e,s,a){s.toLowerCase().includes("m\xe9trica")||s.toLowerCase().includes("dip")||a.push({field:e,type:"seo",severity:"info",message:'Considere incluir su marca "M\xe9trica DIP"',suggestion:"Incluya su marca para mejor reconocimiento",autoFix:"M\xe9trica DIP - ".concat(s)}),(s.toLowerCase().includes("proyecto")||s.toLowerCase().includes("ingenier\xeda"))&&a.push({field:e,type:"seo",severity:"success",message:"Contiene palabras clave relevantes",suggestion:"Excelente uso de keywords del sector"})}validateSEODescription(e,s,a){["cont\xe1ctanos","contacto","solicita","llama","escr\xedbenos"].some(e=>s.toLowerCase().includes(e))||a.push({field:e,type:"seo",severity:"info",message:"Considere agregar una llamada a la acci\xf3n",suggestion:'T\xe9rminos sugeridos: "Cont\xe1ctanos", "Solicita cotizaci\xf3n"'}),(s.toLowerCase().includes("per\xfa")||s.toLowerCase().includes("lima"))&&a.push({field:e,type:"seo",severity:"success",message:"Incluye ubicaci\xf3n geogr\xe1fica",suggestion:"Excelente para SEO local"})}validateContentQuality(e,s,a,t){let l=Object.entries(s.toLowerCase().split(/\s+/).reduce((e,s)=>(s.length>3&&(e[s]=(e[s]||0)+1),e),{})).filter(e=>{let[s,a]=e;return a>2}).map(e=>{let[s]=e;return s});l.length>0&&t.push({field:e,type:"content",severity:"info",message:"Palabras repetidas: ".concat(l.join(", ")),suggestion:"Considere usar sin\xf3nimos para mejorar el contenido"}),s===s.toUpperCase()&&s.length>10&&t.push({field:e,type:"accessibility",severity:"warning",message:"Texto en may\xfasculas puede ser dif\xedcil de leer",suggestion:"Use capitalizaci\xf3n normal para mejor legibilidad"})}validateComplete(e){let s=[];Object.keys(this.homeJsonRules).forEach(a=>{let t=this.getNestedValue(e,a),l=this.validateField(a,t,e);s.push(...l)}),this.performCrossFieldValidation(e,s);let a=this.calculateScore(s),t=this.generateSuggestions(s,e),l=this.generateAutoFixes(s,e);return{isValid:0===s.filter(e=>"error"===e.severity).length,rules:s,score:a,suggestions:t,autoFixes:l}}performCrossFieldValidation(e,s){let a=this.getNestedValue(e,"hero.title.main"),t=this.getNestedValue(e,"page.title");a&&t&&!t.toLowerCase().includes(a.toLowerCase())&&s.push({field:"hero.title.main",type:"content",severity:"info",message:"El t\xedtulo del hero no coincide con el t\xedtulo de p\xe1gina",suggestion:"Considere alinear ambos t\xedtulos para consistencia de marca"});let l=this.getNestedValue(e,"stats.statistics");if(Array.isArray(l)&&l.length>0){let e=l.filter(e=>!e.value||!e.label||!e.description).length;e>0&&s.push({field:"stats.statistics",type:"content",severity:"warning",message:"".concat(e," estad\xedstica(s) incompleta(s)"),suggestion:"Complete valor, etiqueta y descripci\xf3n para todas las estad\xedsticas"})}}calculateScore(e){let s=100;return e.forEach(e=>{switch(e.severity){case"error":s-=15;break;case"warning":s-=5;break;case"info":s-=1;break;case"success":s+=2}}),Math.max(0,Math.min(100,s))}generateSuggestions(e,s){let a=[],t=e.filter(e=>"error"===e.severity),l=e.filter(e=>"warning"===e.severity);return t.slice(0,3).forEach(e=>{e.suggestion&&a.push("\uD83D\uDD34 ".concat(e.field,": ").concat(e.suggestion))}),l.slice(0,2).forEach(e=>{e.suggestion&&a.push("⚠️ ".concat(e.field,": ").concat(e.suggestion))}),50>this.calculateCompleteness(s)&&a.push("\uD83D\uDCA1 Complete m\xe1s secciones para mejorar la experiencia del usuario"),a.slice(0,5)}generateAutoFixes(e,s){let a={};return e.forEach(e=>{e.autoFix&&(a[e.field]=e.autoFix)}),a}calculateCompleteness(e){let s=["page.title","page.description","hero.title.main","hero.title.secondary","hero.subtitle","hero.rotating_words","services.main_service.name","stats.statistics"];return Math.round(s.filter(s=>{let a=this.getNestedValue(e,s);return a&&("string"==typeof a?a.trim().length>0:Array.isArray(a)?a.length>0:"object"!=typeof a||Object.keys(a).length>0)}).length/s.length*100)}getNestedValue(e,s){return s.split(".").reduce((e,s)=>null==e?void 0:e[s],e)}getRulesByField(e){return e.reduce((e,s)=>(e[s.field]||(e[s.field]=[]),e[s.field].push(s),e),{})}getRulesBySeverity(e){return e.reduce((e,s)=>(e[s.severity]||(e[s.severity]=[]),e[s.severity].push(s),e),{})}constructor(){this.homeJsonRules={"page.title":{minLength:10,maxLength:60,required:!0,suggestions:["Include your main keyword at the beginning","Keep it under 60 characters for better SEO","Make it descriptive and compelling"],autoFix:"M\xe9trica DIP - Direcci\xf3n Integral de Proyectos en Per\xfa"},"page.description":{minLength:50,maxLength:160,required:!0,suggestions:["Include primary and secondary keywords","Write a compelling call to action","Keep it between 50-160 characters"],autoFix:"L\xedderes en Direcci\xf3n Integral de Proyectos en Per\xfa. Especialistas en infraestructura, saneamiento y proyectos de gran escala. Cont\xe1ctanos hoy."},"hero.title.main":{minLength:3,maxLength:25,required:!0,suggestions:["Use your brand name or main value proposition","Keep it short and memorable","Avoid technical jargon"]},"hero.title.secondary":{minLength:2,maxLength:25,required:!0,suggestions:["Use your acronym or complementary text","Should work with the main title","Consider using your main service abbreviation"]},"hero.subtitle":{minLength:10,maxLength:150,required:!0,suggestions:["Explain what you do in simple terms","Focus on benefits, not features","Include a value proposition"]},"hero.rotating_words":{minItems:3,maxItems:8,itemMaxLength:15,suggestions:["Use action words that describe your company values","Keep words short (under 15 characters)","Focus on what makes you different","Consider: Innovaci\xf3n, Calidad, Excelencia, Eficiencia"]},"stats.statistics":{minItems:2,maxItems:6,suggestions:["Use impressive, round numbers","Include units (a\xf1os, proyectos, clientes)","Focus on achievements that build trust","Update regularly to keep current"]},"services.main_service.name":{minLength:5,maxLength:50,required:!0,suggestions:["Use your main service official name","Be specific about what you offer",'Consider "Direcci\xf3n Integral de Proyectos (DIP)"']},"services.main_service.description":{minLength:20,maxLength:200,required:!0,suggestions:["Explain the value of your main service","Focus on client benefits","Use clear, non-technical language"]},"portfolio.featured_projects":{minItems:2,maxItems:6,suggestions:["Showcase diverse project types","Use high-quality project images","Include project scale/impact","Mix different sectors (health, education, infrastructure)"]},"pillars.pillars":{minItems:4,maxItems:8,suggestions:["Cover all aspects of your methodology","Use clear, actionable titles","Focus on what differentiates you","Ensure each pillar adds unique value"]},"policies.policies":{minItems:4,maxItems:12,suggestions:["Include key company commitments","Cover quality, safety, environment, ethics","Use official policy names","Ensure policies are current and approved"]}}}}var e2=a(94405),e5=a(49404),e6=a(53054),e3=a(59119);function e8(e){let{fields:s,groups:a=[],initialValues:r={},onSubmit:i,onCancel:n,loading:c=!1,title:d,subtitle:m,submitLabel:x="Guardar",cancelLabel:u="Cancelar",mode:p="create",showPreviewButton:g=!1,previewComponent:j="HomePage",enableSmartValidation:v=!1,showValidationPanel:b=!1,showBackupManager:f=!1,backupResource:y="unknown",showPerformanceMonitor:N=!1}=e,[w,A]=(0,l.useState)(r),[S,E]=(0,l.useState)({}),[P,D]=(0,l.useState)({}),[M,R]=(0,l.useState)({}),[T,I]=(0,l.useState)({}),[z,U]=(0,l.useState)(!1),F=function(e){var s,a,t,r;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{debounceMs:c=500,validateOnChange:o=!0,fieldValidation:d=!0,autoSuggest:m=!0}=n,[x,u]=(0,l.useState)(null),[h,p]=(0,l.useState)({}),[g,j]=(0,l.useState)(!1),[v,b]=(0,l.useState)(null),f=(0,l.useMemo)(()=>new e4,[]),y=(0,l.useCallback)((t=async e=>{if(e){j(!0);try{let s=f.validateComplete(e);if(u(s),d){let e=f.getRulesByField(s.rules);p(e)}b(new Date)}catch(e){console.error("Validation error:",e)}finally{j(!1)}}},r=c,function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];clearTimeout(i),i=setTimeout(()=>t(...s),r)}),[f,d,c]),N=(0,l.useCallback)((s,a)=>{if(!d)return[];let t=f.validateField(s,a,e);return p(e=>({...e,[s]:t})),t},[f,e,d]);(0,l.useEffect)(()=>{o&&e&&y(e)},[e,o,y]);let w=(0,l.useCallback)(async()=>{e&&await y(e)},[e,y]),k=(0,l.useCallback)(e=>{let s=h[e]||[],a=s.some(e=>"error"===e.severity),t=s.some(e=>"warning"===e.severity),l=s.some(e=>"info"===e.severity),r=s.some(e=>"success"===e.severity);return{rules:s,hasError:a,hasWarning:t,hasInfo:l,hasSuccess:r,status:a?"error":t?"warning":l?"info":r?"success":"none"}},[h]),C=(0,l.useCallback)(()=>x&&m?x.suggestions:[],[x,m]),A=(0,l.useCallback)(()=>x?x.autoFixes:{},[x]),S=(0,l.useCallback)(e=>A()[e]||null,[A]),E=(0,l.useCallback)(()=>{if(!x)return{score:100,total:0,errors:0,warnings:0,infos:0,successes:0,isValid:!0};let e=f.getRulesBySeverity(x.rules);return{score:x.score,total:x.rules.length,errors:(e.error||[]).length,warnings:(e.warning||[]).length,infos:(e.info||[]).length,successes:(e.success||[]).length,isValid:x.isValid}},[x,f]),P=(0,l.useCallback)(()=>{let e=E();return e.errors>0?"red":e.warnings>0?"yellow":e.infos>0?"blue":e.successes>0?"green":"gray"},[E]),D=(0,l.useCallback)(e=>{let s=k(e),a="transition-all duration-200";switch(s.status){case"error":return"".concat(a," border-red-300 focus:border-red-500 focus:ring-red-500 bg-red-50");case"warning":return"".concat(a," border-yellow-300 focus:border-yellow-500 focus:ring-yellow-500 bg-yellow-50");case"info":return"".concat(a," border-blue-300 focus:border-blue-500 focus:ring-blue-500 bg-blue-50");case"success":return"".concat(a," border-green-300 focus:border-green-500 focus:ring-green-500 bg-green-50");default:return"".concat(a," border-gray-300 focus:border-blue-500 focus:ring-blue-500")}},[k]);return{validationResult:x,fieldErrors:h,isValidating:g,lastValidationTime:v,validate:w,validateField:N,getFieldValidation:k,getFieldStyles:D,clearFieldValidation:(0,l.useCallback)(e=>{p(s=>{let a={...s};return delete a[e],a})},[]),getSuggestions:C,getAutoFixes:A,applyAutoFix:S,getValidationSummary:E,getValidationTheme:P,clearValidation:(0,l.useCallback)(()=>{u(null),p({})},[]),isValid:null==(s=null==x?void 0:x.isValid)||s,score:null!=(a=null==x?void 0:x.score)?a:100,hasValidation:null!==x}}(w,{debounceMs:1e3,validateOnChange:v,fieldValidation:v,autoSuggest:v});(0,l.useEffect)(()=>{console.log("\uD83D\uDCDD [DYNAMIC FORM] Recibiendo valores iniciales:",{hasInitialValues:!!r,initialValuesKeys:r?Object.keys(r):[],sampleValues:r?{page:r.page,introduction:r.introduction,hasTimelineEvents:!!r.timeline_events,hasAchievementSummary:!!r.achievement_summary}:null,fieldsCount:(null==s?void 0:s.length)||0}),A(r)},[r]);let _=(e,s)=>s.split(".").reduce((e,s)=>e&&e[s],e),V=(e,s,a)=>{let t=s.split("."),l=t.pop(),r=t.reduce((e,s)=>(s in e||(e[s]={}),e[s]),e);return l&&(r[l]=a),{...e}};(0,l.useEffect)(()=>{let e={};a.forEach(s=>{var a;e[s.name]=null==(a=s.defaultExpanded)||a}),console.log("\uD83D\uDD27 [DYNAMIC FORM] Inicializando grupos:",{groupsCount:a.length,groupNames:a.map(e=>e.name),groupsDetails:a.map(e=>({name:e.name,label:e.label,collapsible:e.collapsible,defaultExpanded:e.defaultExpanded})),initialExpanded:e}),R(e)},[a.length]);let O=(e,s)=>{var a,t,l,r,i,n;if(e.required&&(!s||Array.isArray(s)&&0===s.length))return"".concat(e.label," es requerido");if(!s)return null;switch(e.type){case"email":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return"Email inv\xe1lido";break;case"url":try{new URL(s)}catch(e){return"URL inv\xe1lida"}break;case"number":if(isNaN(s))return"Debe ser un n\xfamero v\xe1lido";if((null==(i=e.validation)?void 0:i.min)!==void 0&&s<e.validation.min)return"Debe ser mayor o igual a ".concat(e.validation.min);if((null==(n=e.validation)?void 0:n.max)!==void 0&&s>e.validation.max)return"Debe ser menor o igual a ".concat(e.validation.max)}return(null==(a=e.validation)?void 0:a.min)&&s.length<e.validation.min?"Debe tener al menos ".concat(e.validation.min," caracteres"):(null==(t=e.validation)?void 0:t.max)&&s.length>e.validation.max?"Debe tener m\xe1ximo ".concat(e.validation.max," caracteres"):(null==(l=e.validation)?void 0:l.pattern)&&!new RegExp(e.validation.pattern).test(s)?"Formato inv\xe1lido":(null==(r=e.validation)?void 0:r.custom)?e.validation.custom(s):null},q=(e,s)=>{A(a=>V(a,e.key,s)),S[e.key]&&E(s=>({...s,[e.key]:""})),v&&F.validateField(e.key,s)},Z=(e,s)=>{A(a=>V(a,e,s)),D(s=>({...s,[e]:!0}))},G=e=>{D(s=>({...s,[e.key]:!0}));let s=O(e,w[e.key]);s&&E(a=>({...a,[e.key]:s}))},J=async e=>{e.preventDefault();let a={};if((s||[]).forEach(e=>{if(X(e)){let s=O(e,_(w,e.key));s&&(a[e.key]=s)}}),E(a),D((s||[]).reduce((e,s)=>({...e,[s.key]:!0}),{})),0===Object.keys(a).length)try{await i(w)}catch(e){console.error("Form submission error:",e)}},X=e=>!e.dependsOn||_(w,e.dependsOn.field)===e.dependsOn.value,K=e=>{console.log("\uD83D\uDD04 [DYNAMIC FORM] Toggle grupo:",{groupName:e,currentState:M[e],willBe:!M[e]}),R(s=>({...s,[e]:!s[e]}))},H=e=>{var s,a,l,r,i,n,o;if(!X(e))return null;let d=null!=(o=null!=(n=_(w,e.key))?n:e.defaultValue)?o:"",m=P[e.key]?S[e.key]:"",x="half"===e.width?"md:col-span-1":"third"===e.width?"md:col-span-1 lg:col-span-1":"md:col-span-2",u={id:e.key,name:e.key,disabled:e.disabled||c,placeholder:e.placeholder,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(m?"border-red-300":"border-gray-300"," ").concat(e.disabled?"bg-gray-100 text-gray-500":""," ").concat(v?F.getFieldStyles(e.key):"")};return(0,t.jsxs)("div",{className:"".concat(x),children:[(0,t.jsxs)("label",{htmlFor:e.key,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.description}),"text"===e.type&&(0,t.jsx)("input",{...u,type:"text",value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)}),"textarea"===e.type&&(0,t.jsx)("textarea",{...u,rows:4,value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)}),"markdown"===e.type&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ew.A,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Markdown"})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>I(s=>({...s,[e.key]:!s[e.key]})),className:"flex items-center text-xs text-blue-600 hover:text-blue-800",children:[T[e.key]?(0,t.jsx)(k.A,{className:"w-4 h-4 mr-1"}):(0,t.jsx)(C.A,{className:"w-4 h-4 mr-1"}),T[e.key]?"Editar":"Vista previa"]})]}),T[e.key]?(0,t.jsx)("div",{className:"border border-gray-300 rounded-md p-3 bg-gray-50 min-h-32 prose prose-sm max-w-none",children:d?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:d.replace(/\n/g,"<br/>")}}):(0,t.jsx)("p",{className:"text-gray-400 italic",children:"Vista previa aparecer\xe1 aqu\xed..."})}):(0,t.jsx)("textarea",{...u,rows:8,value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)})]}),"select"===e.type&&(0,t.jsxs)("select",{...u,value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e),children:[(0,t.jsx)("option",{value:"",children:"Seleccionar..."}),null==(s=e.options)?void 0:s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),"multiselect"===e.type&&(0,t.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2",children:null==(a=e.options)?void 0:a.map(s=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:Array.isArray(d)&&d.includes(s.value),onChange:a=>{let t=Array.isArray(d)?d:[];a.target.checked?q(e,[...t,s.value]):q(e,t.filter(e=>e!==s.value))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:s.label})]},s.value))}),"checkbox"===e.type&&(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("button",{type:"button",onClick:()=>q(e,!d),className:"flex items-center",children:[d?(0,t.jsx)(e2.A,{className:"w-6 h-6 text-blue-600"}):(0,t.jsx)(e5.A,{className:"w-6 h-6 text-gray-400"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:d?"Activado":"Desactivado"})]})}),"number"===e.type&&(0,t.jsx)("input",{...u,type:"number",value:d,min:null==(l=e.validation)?void 0:l.min,max:null==(r=e.validation)?void 0:r.max,onChange:s=>q(e,s.target.value?Number(s.target.value):""),onBlur:()=>G(e)}),("date"===e.type||"datetime-local"===e.type)&&(0,t.jsx)("input",{...u,type:e.type,value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)}),"email"===e.type&&(0,t.jsx)("input",{...u,type:"email",value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)}),"url"===e.type&&(0,t.jsx)("input",{...u,type:"url",value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)}),"password"===e.type&&(0,t.jsx)("input",{...u,type:"password",value:d,onChange:s=>q(e,s.target.value),onBlur:()=>G(e)}),"tags"===e.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{...u,type:"text",value:Array.isArray(d)?d.join(", "):"",onChange:s=>{q(e,s.target.value.split(",").map(e=>e.trim()).filter(e=>e))},onBlur:()=>G(e),placeholder:"Separar con comas..."}),Array.isArray(d)&&d.length>0&&(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:d.map((e,s)=>(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,t.jsx)(e6.A,{className:"w-3 h-3 mr-1"}),e]},s))})]}),"media"===e.type&&(0,t.jsx)(eL,{value:d||"",onChange:s=>q(e,s),label:e.label,placeholder:e.placeholder,required:e.required,disabled:e.disabled||c,allowUpload:!0,allowExternal:!0,allowManualInput:!0,category:(null==(i=e.validation)?void 0:i.pattern)||"general",filters:["images"]}),"custom"===e.type&&"rotating-words"===e.component&&(0,t.jsx)(h,{words:Array.isArray(d)?d:[],onChange:s=>q(e,s),...e.customProps}),"custom"===e.type&&"statistics-grid"===e.component&&(0,t.jsx)(B,{statistics:Array.isArray(d)?d:[],onChange:s=>q(e,s),...e.customProps}),"custom"===e.type&&"service-builder"===e.component&&(0,t.jsx)($,{mainService:(null==d?void 0:d.main_service)||{},secondaryServices:Array.isArray(null==d?void 0:d.secondary_services)?d.secondary_services:[],onChange:s=>q(e,s),...e.customProps}),"custom"===e.type&&"portfolio-manager"===e.component&&(0,t.jsx)(W,{projects:Array.isArray(d)?d:[],onChange:s=>q(e,s),...e.customProps}),"custom"===e.type&&"pillars-editor"===e.component&&(0,t.jsx)(Y,{pillars:Array.isArray(d)?d:[],onChange:s=>q(e,s),...e.customProps}),"custom"===e.type&&"policies-manager"===e.component&&(0,t.jsx)(ei,{policies:Array.isArray(d)?d:[],onChange:s=>q(e,s),...e.customProps}),v&&(()=>{let s=F.getFieldValidation(e.key),a=s.rules.find(e=>"error"===e.severity)||s.rules.find(e=>"warning"===e.severity)||s.rules.find(e=>"info"===e.severity)||s.rules.find(e=>"success"===e.severity);if(a){let s="error"===a.severity?et.A:"warning"===a.severity?L.A:"info"===a.severity?eu.A:eh.A,l="error"===a.severity?"text-red-600":"warning"===a.severity?"text-yellow-600":"info"===a.severity?"text-blue-600":"text-green-600";return(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsxs)("p",{className:"text-xs ".concat(l," flex items-center"),children:[(0,t.jsx)(s,{className:"w-3 h-3 mr-1"}),a.message]}),a.suggestion&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5 ml-4",children:["\uD83D\uDCA1 ",a.suggestion]}),a.autoFix&&(0,t.jsx)("button",{type:"button",onClick:()=>Z(e.key,a.autoFix),className:"text-xs text-purple-600 hover:text-purple-800 underline mt-1 ml-4",children:"✨ Auto-corregir"})]})}return null})(),m&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(et.A,{className:"w-4 h-4 mr-1"}),m]})]},e.key)},Q=(e,s)=>{let l=a.find(s=>s.name===e),r=M[e];return(console.log("\uD83C\uDFA8 [DYNAMIC FORM] Renderizando grupo:",{groupName:e,hasGroup:!!l,groupLabel:null==l?void 0:l.label,isCollapsible:null==l?void 0:l.collapsible,isExpanded:r,fieldsCount:s.length}),l)?(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200 ".concat(l.collapsible?"cursor-pointer":""),onClick:()=>l.collapsible&&K(e),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:l.label}),l.description&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:l.description})]}),l.collapsible&&(0,t.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600",children:r?"−":"+"})]})}),r&&(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(H)})})]},e):(console.log("⚠️ [DYNAMIC FORM] Grupo no encontrado, renderizando sin header:",e),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(H)},e))},ee=(s||[]).reduce((e,s)=>{let a=s.group||"default";return e[a]||(e[a]=[]),e[a].push(s),e},{});return(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(d||m)&&(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[d&&(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:d}),m&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:m})]}),(0,t.jsxs)("form",{onSubmit:J,className:"p-6",children:[(0,t.jsx)("div",{className:"space-y-8",children:Object.entries(ee).map(e=>{let[s,a]=e;return Q(s,a)})}),(0,t.jsxs)("div",{className:"mt-8 flex items-center justify-between pt-6 border-t border-gray-200",children:[g&&(0,t.jsxs)("button",{type:"button",onClick:()=>U(!0),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:[(0,t.jsx)(en.A,{className:"w-4 h-4 mr-2 inline"}),"Preview"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[n&&(0,t.jsxs)("button",{type:"button",onClick:n,disabled:c,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,t.jsx)(o.A,{className:"w-4 h-4 mr-2 inline"}),u]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e3.A,{className:"w-4 h-4 mr-2 inline"}),x]})})]})]})]}),v&&b&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(ev,{validationResult:F.validationResult,isValidating:F.isValidating,onApplyAutoFix:Z,onValidate:F.validate})}),f&&(0,t.jsx)("div",{className:"mt-6 border-t pt-6",children:(0,t.jsx)(e$,{resource:y,data:w,onRestore:e=>{A(e),E({}),D({})}})}),N&&(0,t.jsx)("div",{className:"mt-6 border-t pt-6",children:(0,t.jsx)(e1,{resource:y,realTime:!0,showSystemMetrics:!0,showUserMetrics:!0})}),g&&(0,t.jsx)(ex,{isOpen:z,data:w,onClose:()=>U(!1),component:j,title:"Preview: ".concat(d||j)})]})}},66695:(e,s,a)=>{a.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n});var t=a(95155),l=a(12115),r=a(59434);let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});i.displayName="Card";let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...l})});n.displayName="CardHeader";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});c.displayName="CardTitle";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...l})});o.displayName="CardDescription";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...l})});d.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter"},75676:(e,s,a)=>{a.d(s,{A:()=>u});var t=a(95155),l=a(12115),r=a(1199),i=a(24910),n=a(75074),c=a(9572),o=a(79556),d=a(3561),m=a(965),x=a(73158);function u(e){let{data:s,columns:a,actions:u=[],filters:h=[],searchable:p=!0,searchPlaceholder:g="Buscar...",loading:j=!1,pagination:v,onPageChange:b,onLimitChange:f,onSortChange:y,onFilterChange:N,onSearch:w,emptyState:k,title:C,subtitle:A,primaryAction:S}=e,[E,P]=(0,l.useState)(""),[D,M]=(0,l.useState)(!1),[R,T]=(0,l.useState)({}),[L,I]=(0,l.useState)(null),[z,U]=(0,l.useState)("asc"),[F,_]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=setTimeout(()=>{w&&w(E)},300);return()=>clearTimeout(e)},[E,w]);let B=e=>{if(!y)return;let s="asc";L===e&&"asc"===z&&(s="desc"),I(e),U(s),y(e,s)},V=(e,s)=>{let a={...R,[e]:s};T(a),N&&N(a)},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"secondary";switch(e){case"primary":return"text-blue-600 hover:text-blue-900";case"danger":return"text-red-600 hover:text-red-900";default:return"text-gray-600 hover:text-gray-900"}},q=e=>L!==e?(0,t.jsx)(r.A,{className:"w-4 h-4 text-gray-400"}):"asc"===z?(0,t.jsx)(r.A,{className:"w-4 h-4 text-blue-600"}):(0,t.jsx)(i.A,{className:"w-4 h-4 text-blue-600"});return(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(C||p||h.length>0||S)&&(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[C&&(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:C}),A&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:A})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[p&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(n.A,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{type:"text",value:E,onChange:e=>P(e.target.value),placeholder:g,className:"block w-64 pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),h.length>0&&(0,t.jsxs)("button",{onClick:()=>M(!D),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Filtros",(0,t.jsx)(o.A,{className:"w-4 h-4 ml-1 transform transition-transform ".concat(D?"rotate-180":"")})]}),S&&(0,t.jsxs)("button",{onClick:S.onClick,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[S.icon&&(0,t.jsx)(S.icon,{className:"w-4 h-4 mr-2"}),S.label]})]})]}),D&&h.length>0&&(0,t.jsx)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:h.map(e=>{var s;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.label}),"select"===e.type&&(0,t.jsxs)("select",{value:R[e.key]||"",onChange:s=>V(e.key,s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",children:[(0,t.jsx)("option",{value:"",children:"Todos"}),null==(s=e.options)?void 0:s.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),"text"===e.type&&(0,t.jsx)("input",{type:"text",value:R[e.key]||"",onChange:s=>V(e.key,s.target.value),placeholder:e.placeholder,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"}),"checkbox"===e.type&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:R[e.key]||!1,onChange:s=>V(e.key,s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,t.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:e.placeholder||"Activar filtro"})]})]},e.key)})})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[u.length>0&&(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",onChange:e=>{e.target.checked?_(s.map(e=>e.id)):_([])}})}),a.map(e=>(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(e.width||""," ").concat(e.sortable?"cursor-pointer hover:bg-gray-100":""),onClick:()=>e.sortable&&B(e.key),children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:e.label}),e.sortable&&q(e.key)]})},e.key)),u.length>0&&(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Acciones"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:a.length+2*(u.length>0),className:"px-6 py-12 text-center",children:(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("span",{className:"ml-2 text-gray-500",children:"Cargando..."})]})})}):0===s.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:a.length+2*(u.length>0),className:"px-6 py-12 text-center",children:k||(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-gray-500",children:"No hay datos disponibles"})})})}):s.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[u.length>0&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("input",{type:"checkbox",checked:F.includes(e.id),onChange:s=>{s.target.checked?_([...F,e.id]):_(F.filter(s=>s!==e.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),a.map(s=>(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.render?s.render(e[s.key],e):e[s.key]},s.key)),u.length>0&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[u.slice(0,2).map((s,a)=>s.show&&!s.show(e)?null:(0,t.jsx)("button",{onClick:()=>s.onClick(e),className:"".concat(O(s.variant)," hover:bg-gray-100 p-1 rounded"),title:s.label,children:(0,t.jsx)(s.icon,{className:"w-4 h-4"})},a)),u.length>2&&(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("button",{className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-100",children:(0,t.jsx)(d.A,{className:"w-4 h-4"})})})]})})]},e.id||s))})]})}),v&&(0,t.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)("button",{onClick:()=>b&&b((v.page||1)-1),disabled:!v.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),(0,t.jsx)("button",{onClick:()=>b&&b((v.page||1)+1),disabled:!v.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Mostrando"," ",(0,t.jsx)("span",{className:"font-medium",children:v?((v.page||1)-1)*(v.limit||10)+1:1})," ","a"," ",(0,t.jsx)("span",{className:"font-medium",children:v?Math.min((v.page||1)*(v.limit||10),v.total||0):s.length})," ","de"," ",(0,t.jsx)("span",{className:"font-medium",children:v?v.total||0:s.length})," ","resultados"]}),v&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-700",children:"Por p\xe1gina:"}),(0,t.jsxs)("select",{value:v.limit||10,onChange:e=>f&&f(parseInt(e.target.value)),className:"border border-gray-300 rounded-md text-sm px-2 py-1",children:[(0,t.jsx)("option",{value:10,children:"10"}),(0,t.jsx)("option",{value:20,children:"20"}),(0,t.jsx)("option",{value:50,children:"50"}),(0,t.jsx)("option",{value:100,children:"100"})]})]})]}),v&&(0,t.jsx)("div",{children:(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,t.jsx)("button",{onClick:()=>b&&b((v.page||1)-1),disabled:!v.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(m.A,{className:"h-5 w-5"})}),Array.from({length:Math.min(5,v.totalPages||1)},(e,s)=>{let a=Math.max(1,(v.page||1)-2)+s;return a>(v.totalPages||1)?null:(0,t.jsx)("button",{onClick:()=>b&&b(a),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(a===(v.page||1)?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:a},a)}),(0,t.jsx)("button",{onClick:()=>b&&b((v.page||1)+1),disabled:!v.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(x.A,{className:"h-5 w-5"})})]})})]})]})]})}},80333:(e,s,a)=>{a.d(s,{d:()=>n});var t=a(95155),l=a(12115),r=a(4884),i=a(59434);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...l,ref:s,children:(0,t.jsx)(r.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=r.bL.displayName},85057:(e,s,a)=>{a.d(s,{J:()=>o});var t=a(95155),l=a(12115),r=a(40968),i=a(74466),n=a(59434);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.b,{ref:s,className:(0,n.cn)(c(),a),...l})});o.displayName=r.b.displayName},88539:(e,s,a)=>{a.d(s,{T:()=>i});var t=a(95155),l=a(12115),r=a(59434);let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});i.displayName="Textarea"}}]);