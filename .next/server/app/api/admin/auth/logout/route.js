"use strict";(()=>{var e={};e.id=4049,e.ids=[4049],e.modules={3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27910:e=>{e.exports=require("stream")},28354:e=>{e.exports=require("util")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33684:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>v,routeModule:()=>x,serverHooks:()=>m,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{OPTIONS:()=>l,POST:()=>c});var o=t(96559),a=t(48088),n=t(37719),u=t(32190),i=t(92e3),p=t(66321),d=t(31075);async function c(e){try{let r=await (0,p.W0)(e);if(!r||!r.isAuthenticated)return u.NextResponse.json({success:!1,error:"NOT_AUTHENTICATED",message:"No active session found."},{status:401});let t=await i.s.logout(r.session.sessionId),s=u.NextResponse.json(t);return s.cookies.set("auth-token","",{httpOnly:!0,secure:!0,sameSite:"strict",maxAge:0,path:"/"}),s}catch(e){return await d.vF.error("auth-api","Logout endpoint error",e),u.NextResponse.json({success:!1,error:"INTERNAL_ERROR",message:"Internal server error during logout."},{status:500})}}async function l(){return new u.NextResponse(null,{status:200,headers:{Allow:"POST, OPTIONS","Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}let x=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/admin/auth/logout/route",pathname:"/api/admin/auth/logout",filename:"route",bundlePath:"app/api/admin/auth/logout/route"},resolvedPagePath:"/root/proyectos/freelos/metrica/src/app/api/admin/auth/logout/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:h,workUnitAsyncStorage:g,serverHooks:m}=x;function v(){return(0,n.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:g})}},33873:e=>{e.exports=require("path")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{e.exports=require("crypto")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{e.exports=require("buffer")},79748:e=>{e.exports=require("fs/promises")},94735:e=>{e.exports=require("events")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,580,3205,1220,6321],()=>t(33684));module.exports=s})();