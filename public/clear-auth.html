<!DOCTYPE html>
<html>
<head>
    <title>Limpiar Autenticaci√≥n - M√©trica DIP</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px; 
            background: linear-gradient(135deg, #003F6F, #E84E0F);
            color: white;
            text-align: center;
        }
        .container { 
            max-width: 400px; 
            margin: 0 auto; 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            color: #333;
        }
        button { 
            background: linear-gradient(135deg, #003F6F, #E84E0F); 
            color: white; 
            padding: 12px 24px; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            margin: 10px;
        }
        .logo { margin-bottom: 20px; }
        .logo h1 { color: #003F6F; margin: 0; }
        .logo span { color: #E84E0F; }
        .status { margin: 20px 0; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <h1>M√©trica <span>DIP</span></h1>
            <p>Herramientas de Desarrollo</p>
        </div>
        
        <h2>Limpiar Estado de Autenticaci√≥n</h2>
        
        <div id="status" class="status info">
            Estado actual: <span id="currentStatus">Verificando...</span>
        </div>
        
        <button onclick="clearAuth()">üßπ Limpiar localStorage</button>
        <button onclick="checkStatus()">üîç Verificar Estado</button>
        <button onclick="goToLogin()">üîê Ir al Login</button>
        
        <div style="margin-top: 30px; font-size: 12px; color: #666;">
            <p>Esta herramienta limpia cualquier dato de autenticaci√≥n almacenado localmente.</p>
            <p>√ösala si experimentas problemas de login.</p>
        </div>
    </div>

    <script>
        function clearAuth() {
            localStorage.removeItem('auth-token');
            localStorage.removeItem('auth-user');
            
            const status = document.getElementById('status');
            const currentStatus = document.getElementById('currentStatus');
            
            status.className = 'status success';
            currentStatus.textContent = 'localStorage limpiado correctamente';
            
            console.log('‚úÖ Auth data cleared');
            setTimeout(checkStatus, 1000);
        }
        
        function checkStatus() {
            const token = localStorage.getItem('auth-token');
            const user = localStorage.getItem('auth-user');
            
            const status = document.getElementById('status');
            const currentStatus = document.getElementById('currentStatus');
            
            if (token || user) {
                status.className = 'status info';
                currentStatus.textContent = `Token: ${token ? '‚úÖ' : '‚ùå'}, User: ${user ? '‚úÖ' : '‚ùå'}`;
            } else {
                status.className = 'status success';
                currentStatus.textContent = 'Sin datos de autenticaci√≥n (limpio)';
            }
        }
        
        function goToLogin() {
            window.location.href = '/admin/login';
        }
        
        // Check status on load
        checkStatus();
        
        console.log('üîß Herramienta de limpieza de auth cargada');
        console.log('üìç URL: http://localhost:9003/clear-auth.html');
    </script>
</body>
</html>